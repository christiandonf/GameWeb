(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function u(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=u(o);fetch(o.href,f)}})();var oc={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function Uy(){if(Lg)return eu;Lg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function u(s,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var A in o)A!=="key"&&(f[A]=o[A])}else f=o;return o=f.ref,{$$typeof:a,type:s,key:h,ref:o!==void 0?o:null,props:f}}return eu.Fragment=n,eu.jsx=u,eu.jsxs=u,eu}var jg;function zy(){return jg||(jg=1,oc.exports=Uy()),oc.exports}var Cy=zy(),cc={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Ny(){if(Xg)return bt;Xg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),q=Symbol.iterator;function p(S){return S===null||typeof S!="object"?null:(S=q&&S[q]||S["@@iterator"],typeof S=="function"?S:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,U={};function T(S,k,W){this.props=S,this.context=k,this.refs=U,this.updater=W||E}T.prototype.isReactComponent={},T.prototype.setState=function(S,k){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,k,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=T.prototype;function Q(S,k,W){this.props=S,this.context=k,this.refs=U,this.updater=W||E}var P=Q.prototype=new D;P.constructor=Q,w(P,T.prototype),P.isPureReactComponent=!0;var nt=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function z(S,k,W,et,ot,Et){return W=Et.ref,{$$typeof:a,type:S,key:k,ref:W!==void 0?W:null,props:Et}}function K(S,k){return z(S.type,k,void 0,void 0,void 0,S.props)}function $(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function tt(S){var k={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(W){return k[W]})}var at=/\/+/g;function ut(S,k){return typeof S=="object"&&S!==null&&S.key!=null?tt(""+S.key):k.toString(36)}function vt(){}function At(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(vt,vt):(S.status="pending",S.then(function(k){S.status==="pending"&&(S.status="fulfilled",S.value=k)},function(k){S.status==="pending"&&(S.status="rejected",S.reason=k)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function dt(S,k,W,et,ot){var Et=typeof S;(Et==="undefined"||Et==="boolean")&&(S=null);var mt=!1;if(S===null)mt=!0;else switch(Et){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(S.$$typeof){case a:case n:mt=!0;break;case b:return mt=S._init,dt(mt(S._payload),k,W,et,ot)}}if(mt)return ot=ot(S),mt=et===""?"."+ut(S,0):et,nt(ot)?(W="",mt!=null&&(W=mt.replace(at,"$&/")+"/"),dt(ot,k,W,"",function(Pe){return Pe})):ot!=null&&($(ot)&&(ot=K(ot,W+(ot.key==null||S&&S.key===ot.key?"":(""+ot.key).replace(at,"$&/")+"/")+mt)),k.push(ot)),1;mt=0;var fe=et===""?".":et+":";if(nt(S))for(var Gt=0;Gt<S.length;Gt++)et=S[Gt],Et=fe+ut(et,Gt),mt+=dt(et,k,W,Et,ot);else if(Gt=p(S),typeof Gt=="function")for(S=Gt.call(S),Gt=0;!(et=S.next()).done;)et=et.value,Et=fe+ut(et,Gt++),mt+=dt(et,k,W,Et,ot);else if(Et==="object"){if(typeof S.then=="function")return dt(At(S),k,W,et,ot);throw k=String(S),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return mt}function N(S,k,W){if(S==null)return S;var et=[],ot=0;return dt(S,et,"","",function(Et){return k.call(W,Et,ot++)}),et}function Z(S){if(S._status===-1){var k=S._result;k=k(),k.then(function(W){(S._status===0||S._status===-1)&&(S._status=1,S._result=W)},function(W){(S._status===0||S._status===-1)&&(S._status=2,S._result=W)}),S._status===-1&&(S._status=0,S._result=k)}if(S._status===1)return S._result.default;throw S._result}var it=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function rt(){}return bt.Children={map:N,forEach:function(S,k,W){N(S,function(){k.apply(this,arguments)},W)},count:function(S){var k=0;return N(S,function(){k++}),k},toArray:function(S){return N(S,function(k){return k})||[]},only:function(S){if(!$(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},bt.Component=T,bt.Fragment=u,bt.Profiler=o,bt.PureComponent=Q,bt.StrictMode=s,bt.Suspense=m,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,bt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return G.H.useMemoCache(S)}},bt.cache=function(S){return function(){return S.apply(null,arguments)}},bt.cloneElement=function(S,k,W){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var et=w({},S.props),ot=S.key,Et=void 0;if(k!=null)for(mt in k.ref!==void 0&&(Et=void 0),k.key!==void 0&&(ot=""+k.key),k)!O.call(k,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&k.ref===void 0||(et[mt]=k[mt]);var mt=arguments.length-2;if(mt===1)et.children=W;else if(1<mt){for(var fe=Array(mt),Gt=0;Gt<mt;Gt++)fe[Gt]=arguments[Gt+2];et.children=fe}return z(S.type,ot,void 0,void 0,Et,et)},bt.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},bt.createElement=function(S,k,W){var et,ot={},Et=null;if(k!=null)for(et in k.key!==void 0&&(Et=""+k.key),k)O.call(k,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ot[et]=k[et]);var mt=arguments.length-2;if(mt===1)ot.children=W;else if(1<mt){for(var fe=Array(mt),Gt=0;Gt<mt;Gt++)fe[Gt]=arguments[Gt+2];ot.children=fe}if(S&&S.defaultProps)for(et in mt=S.defaultProps,mt)ot[et]===void 0&&(ot[et]=mt[et]);return z(S,Et,void 0,void 0,null,ot)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(S){return{$$typeof:A,render:S}},bt.isValidElement=$,bt.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:Z}},bt.memo=function(S,k){return{$$typeof:d,type:S,compare:k===void 0?null:k}},bt.startTransition=function(S){var k=G.T,W={};G.T=W;try{var et=S(),ot=G.S;ot!==null&&ot(W,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(rt,it)}catch(Et){it(Et)}finally{G.T=k}},bt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},bt.use=function(S){return G.H.use(S)},bt.useActionState=function(S,k,W){return G.H.useActionState(S,k,W)},bt.useCallback=function(S,k){return G.H.useCallback(S,k)},bt.useContext=function(S){return G.H.useContext(S)},bt.useDebugValue=function(){},bt.useDeferredValue=function(S,k){return G.H.useDeferredValue(S,k)},bt.useEffect=function(S,k,W){var et=G.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(S,k)},bt.useId=function(){return G.H.useId()},bt.useImperativeHandle=function(S,k,W){return G.H.useImperativeHandle(S,k,W)},bt.useInsertionEffect=function(S,k){return G.H.useInsertionEffect(S,k)},bt.useLayoutEffect=function(S,k){return G.H.useLayoutEffect(S,k)},bt.useMemo=function(S,k){return G.H.useMemo(S,k)},bt.useOptimistic=function(S,k){return G.H.useOptimistic(S,k)},bt.useReducer=function(S,k,W){return G.H.useReducer(S,k,W)},bt.useRef=function(S){return G.H.useRef(S)},bt.useState=function(S){return G.H.useState(S)},bt.useSyncExternalStore=function(S,k,W){return G.H.useSyncExternalStore(S,k,W)},bt.useTransition=function(){return G.H.useTransition()},bt.version="19.1.0",bt}var Vg;function Gc(){return Vg||(Vg=1,cc.exports=Ny()),cc.exports}var Hy=Gc(),fc={exports:{}},nu={},hc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function Gy(){return Qg||(Qg=1,function(a){function n(N,Z){var it=N.length;N.push(Z);t:for(;0<it;){var rt=it-1>>>1,S=N[rt];if(0<o(S,Z))N[rt]=Z,N[it]=S,it=rt;else break t}}function u(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var Z=N[0],it=N.pop();if(it!==Z){N[0]=it;t:for(var rt=0,S=N.length,k=S>>>1;rt<k;){var W=2*(rt+1)-1,et=N[W],ot=W+1,Et=N[ot];if(0>o(et,it))ot<S&&0>o(Et,et)?(N[rt]=Et,N[ot]=it,rt=ot):(N[rt]=et,N[W]=it,rt=W);else if(ot<S&&0>o(Et,it))N[rt]=Et,N[ot]=it,rt=ot;else break t}}return Z}function o(N,Z){var it=N.sortIndex-Z.sortIndex;return it!==0?it:N.id-Z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,A=h.now();a.unstable_now=function(){return h.now()-A}}var m=[],d=[],b=1,q=null,p=3,E=!1,w=!1,U=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function nt(N){for(var Z=u(d);Z!==null;){if(Z.callback===null)s(d);else if(Z.startTime<=N)s(d),Z.sortIndex=Z.expirationTime,n(m,Z);else break;Z=u(d)}}function G(N){if(U=!1,nt(N),!w)if(u(m)!==null)w=!0,O||(O=!0,ut());else{var Z=u(d);Z!==null&&dt(G,Z.startTime-N)}}var O=!1,z=-1,K=5,$=-1;function tt(){return T?!0:!(a.unstable_now()-$<K)}function at(){if(T=!1,O){var N=a.unstable_now();$=N;var Z=!0;try{t:{w=!1,U&&(U=!1,Q(z),z=-1),E=!0;var it=p;try{e:{for(nt(N),q=u(m);q!==null&&!(q.expirationTime>N&&tt());){var rt=q.callback;if(typeof rt=="function"){q.callback=null,p=q.priorityLevel;var S=rt(q.expirationTime<=N);if(N=a.unstable_now(),typeof S=="function"){q.callback=S,nt(N),Z=!0;break e}q===u(m)&&s(m),nt(N)}else s(m);q=u(m)}if(q!==null)Z=!0;else{var k=u(d);k!==null&&dt(G,k.startTime-N),Z=!1}}break t}finally{q=null,p=it,E=!1}Z=void 0}}finally{Z?ut():O=!1}}}var ut;if(typeof P=="function")ut=function(){P(at)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,At=vt.port2;vt.port1.onmessage=at,ut=function(){At.postMessage(null)}}else ut=function(){D(at,0)};function dt(N,Z){z=D(function(){N(a.unstable_now())},Z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return p},a.unstable_next=function(N){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var it=p;p=Z;try{return N()}finally{p=it}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(N,Z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var it=p;p=N;try{return Z()}finally{p=it}},a.unstable_scheduleCallback=function(N,Z,it){var rt=a.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?rt+it:rt):it=rt,N){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=it+S,N={id:b++,callback:Z,priorityLevel:N,startTime:it,expirationTime:S,sortIndex:-1},it>rt?(N.sortIndex=it,n(d,N),u(m)===null&&N===u(d)&&(U?(Q(z),z=-1):U=!0,dt(G,it-rt))):(N.sortIndex=S,n(m,N),w||E||(w=!0,O||(O=!0,ut()))),N},a.unstable_shouldYield=tt,a.unstable_wrapCallback=function(N){var Z=p;return function(){var it=p;p=Z;try{return N.apply(this,arguments)}finally{p=it}}}}(dc)),dc}var Kg;function Yy(){return Kg||(Kg=1,hc.exports=Gy()),hc.exports}var gc={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function _y(){if(Zg)return Me;Zg=1;var a=Gc();function n(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var s={d:{f:u,r:function(){throw Error(n(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,d,b){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:q==null?null:""+q,children:m,containerInfo:d,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Me.createPortal=function(m,d){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(n(299));return f(m,d,null,b)},Me.flushSync=function(m){var d=h.T,b=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=d,s.p=b,s.d.f()}},Me.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(m,d))},Me.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Me.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var b=d.as,q=A(b,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;b==="style"?s.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:q,integrity:p,fetchPriority:E}):b==="script"&&s.d.X(m,{crossOrigin:q,integrity:p,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Me.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var b=A(d.as,d.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(m)},Me.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var b=d.as,q=A(b,d.crossOrigin);s.d.L(m,b,{crossOrigin:q,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Me.preloadModule=function(m,d){if(typeof m=="string")if(d){var b=A(d.as,d.crossOrigin);s.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(m)},Me.requestFormReset=function(m){s.d.r(m)},Me.unstable_batchedUpdates=function(m,d){return m(d)},Me.useFormState=function(m,d,b){return h.H.useFormState(m,d,b)},Me.useFormStatus=function(){return h.H.useHostTransitionStatus()},Me.version="19.1.0",Me}var kg;function Ly(){if(kg)return gc.exports;kg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),gc.exports=_y(),gc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg;function jy(){if(Jg)return nu;Jg=1;var a=Yy(),n=Gc(),u=Ly();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A(t){if(f(t)!==t)throw Error(s(188))}function m(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var i=t,l=e;;){var r=i.return;if(r===null)break;var c=r.alternate;if(c===null){if(l=r.return,l!==null){i=l;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===i)return A(r),t;if(c===l)return A(r),e;c=c.sibling}throw Error(s(188))}if(i.return!==l.return)i=r,l=c;else{for(var g=!1,v=r.child;v;){if(v===i){g=!0,i=r,l=c;break}if(v===l){g=!0,l=r,i=c;break}v=v.sibling}if(!g){for(v=c.child;v;){if(v===i){g=!0,i=c,l=r;break}if(v===l){g=!0,l=c,i=r;break}v=v.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:e}function d(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=d(t),e!==null)return e;t=t.sibling}return null}var b=Object.assign,q=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),P=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function ut(t){return t===null||typeof t!="object"?null:(t=at&&t[at]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case T:return"Profiler";case U:return"StrictMode";case G:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case P:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case nt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return e=t.displayName||null,e!==null?e:At(t.type)||"Memo";case K:e=t._payload,t=t._init;try{return At(t(e))}catch{}}return null}var dt=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},rt=[],S=-1;function k(t){return{current:t}}function W(t){0>S||(t.current=rt[S],rt[S]=null,S--)}function et(t,e){S++,rt[S]=t.current,t.current=e}var ot=k(null),Et=k(null),mt=k(null),fe=k(null);function Gt(t,e){switch(et(mt,e),et(Et,t),et(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?gg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=gg(e),t=mg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ot),et(ot,t)}function Pe(){W(ot),W(Et),W(mt)}function bn(t){t.memoizedState!==null&&et(fe,t);var e=ot.current,i=mg(e,t.type);e!==i&&(et(Et,t),et(ot,i))}function qe(t){Et.current===t&&(W(ot),W(Et)),fe.current===t&&(W(fe),Wl._currentValue=it)}var Wn=Object.prototype.hasOwnProperty,ct=a.unstable_scheduleCallback,yt=a.unstable_cancelCallback,wt=a.unstable_shouldYield,Kt=a.unstable_requestPaint,Yt=a.unstable_now,Ut=a.unstable_getCurrentPriorityLevel,pe=a.unstable_ImmediatePriority,mn=a.unstable_UserBlockingPriority,In=a.unstable_NormalPriority,nl=a.unstable_LowPriority,ai=a.unstable_IdlePriority,al=a.log,ii=a.unstable_setDisableYieldValue,Se=null,It=null;function Ge(t){if(typeof al=="function"&&ii(t),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Se,t)}catch{}}var Xt=Math.clz32?Math.clz32:li,qa=Math.log,pn=Math.LN2;function li(t){return t>>>=0,t===0?32:31-(qa(t)/pn|0)|0}var ui=256,si=4194304;function wn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ri(t,e,i){var l=t.pendingLanes;if(l===0)return 0;var r=0,c=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~c,l!==0?r=wn(l):(g&=v,g!==0?r=wn(g):i||(i=v&~t,i!==0&&(r=wn(i))))):(v=l&~c,v!==0?r=wn(v):g!==0?r=wn(g):i||(i=l&~t,i!==0&&(r=wn(i)))),r===0?0:e!==0&&e!==r&&(e&c)===0&&(c=r&-r,i=e&-e,c>=i||c===32&&(i&4194048)!==0)?e:r}function Ra(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Re(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(){var t=ui;return ui<<=1,(ui&4194048)===0&&(ui=256),t}function Da(){var t=si;return si<<=1,(si&62914560)===0&&(si=4194304),t}function ci(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Pn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tr(t,e,i,l,r,c){var g=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var v=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(i=g&~i;0<i;){var V=31-Xt(i),F=1<<V;v[V]=0,x[V]=-1;var Y=H[V];if(Y!==null)for(H[V]=null,V=0;V<Y.length;V++){var _=Y[V];_!==null&&(_.lane&=-536870913)}i&=~F}l!==0&&il(t,l,0),c!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=c&~(g&~e))}function il(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-Xt(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function ll(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var l=31-Xt(i),r=1<<l;r&e|t[l]&e&&(t[l]|=e),i&=~r}}function M(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function j(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function I(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Cg(t.type))}function lt(t,e){var i=Z.p;try{return Z.p=t,e()}finally{Z.p=i}}var Mt=Math.random().toString(36).slice(2),xt="__reactFiber$"+Mt,Vt="__reactProps$"+Mt,Ye="__reactContainer$"+Mt,_e="__reactEvents$"+Mt,Bn="__reactListeners$"+Mt,ul="__reactHandles$"+Mt,ef="__reactResources$"+Mt,sl="__reactMarker$"+Mt;function er(t){delete t[xt],delete t[Vt],delete t[_e],delete t[Bn],delete t[ul]}function fi(t){var e=t[xt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ye]||i[xt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Ag(t);t!==null;){if(i=t[xt])return i;t=Ag(t)}return e}t=i,i=t.parentNode}return null}function hi(t){if(t=t[xt]||t[Ye]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function di(t){var e=t[ef];return e||(e=t[ef]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function he(t){t[sl]=!0}var nf=new Set,af={};function Oa(t,e){gi(t,e),gi(t+"Capture",e)}function gi(t,e){for(af[t]=e,t=0;t<e.length;t++)nf.add(e[t])}var Ep=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lf={},uf={};function Mp(t){return Wn.call(uf,t)?!0:Wn.call(lf,t)?!1:Ep.test(t)?uf[t]=!0:(lf[t]=!0,!1)}function xu(t,e,i){if(Mp(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Su(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Un(t,e,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+l)}}var nr,sf;function mi(t){if(nr===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);nr=e&&e[1]||"",sf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+sf}var ar=!1;function ir(t,e){if(!t||ar)return"";ar=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(_){var Y=_}Reflect.construct(t,[],F)}else{try{F.call()}catch(_){Y=_}t.call(F.prototype)}}else{try{throw Error()}catch(_){Y=_}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(_){if(_&&Y&&typeof _.stack=="string")return[_.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),g=c[0],v=c[1];if(g&&v){var x=g.split(`
`),H=v.split(`
`);for(r=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;r<H.length&&!H[r].includes("DetermineComponentFrameRoot");)r++;if(l===x.length||r===H.length)for(l=x.length-1,r=H.length-1;1<=l&&0<=r&&x[l]!==H[r];)r--;for(;1<=l&&0<=r;l--,r--)if(x[l]!==H[r]){if(l!==1||r!==1)do if(l--,r--,0>r||x[l]!==H[r]){var V=`
`+x[l].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=l&&0<=r);break}}}finally{ar=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?mi(i):""}function Tp(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return ir(t.type,!1);case 11:return ir(t.type.render,!1);case 1:return ir(t.type,!0);case 31:return mi("Activity");default:return""}}function rf(t){try{var e="";do e+=Tp(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function of(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qp(t){var e=of(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,c=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(g){l=""+g,c.call(this,g)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eu(t){t._valueTracker||(t._valueTracker=qp(t))}function cf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),l="";return t&&(l=of(t)?t.checked?"true":"false":t.value),t=l,t!==i?(e.setValue(t),!0):!1}function Mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rp=/[\n"\\]/g;function tn(t){return t.replace(Rp,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lr(t,e,i,l,r,c,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+$e(e)):t.value!==""+$e(e)&&(t.value=""+$e(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?ur(t,g,$e(e)):i!=null?ur(t,g,$e(i)):l!=null&&t.removeAttribute("value"),r==null&&c!=null&&(t.defaultChecked=!!c),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+$e(v):t.removeAttribute("name")}function ff(t,e,i,l,r,c,g,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),e!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||e!=null))return;i=i!=null?""+$e(i):"",e=e!=null?""+$e(e):i,v||e===t.value||(t.value=e),t.defaultValue=e}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function ur(t,e,i){e==="number"&&Mu(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function pi(t,e,i,l){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&l&&(t[i].defaultSelected=!0)}else{for(i=""+$e(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,l&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function hf(t,e,i){if(e!=null&&(e=""+$e(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+$e(i):""}function df(t,e,i,l){if(e==null){if(l!=null){if(i!=null)throw Error(s(92));if(dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),e=i}i=$e(e),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function yi(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Dp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gf(t,e,i){var l=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,i):typeof i!="number"||i===0||Dp.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function mf(t,e,i){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var r in e)l=e[r],e.hasOwnProperty(r)&&i[r]!==l&&gf(t,r,l)}else for(var c in e)e.hasOwnProperty(c)&&gf(t,c,e[c])}function sr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tu(t){return Bp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rr=null;function or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ai=null;function pf(t){var e=hi(t);if(e&&(t=e.stateNode)){var i=t[Vt]||null;t:switch(t=e.stateNode,e.type){case"input":if(lr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+tn(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var l=i[e];if(l!==t&&l.form===t.form){var r=l[Vt]||null;if(!r)throw Error(s(90));lr(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<i.length;e++)l=i[e],l.form===t.form&&cf(l)}break t;case"textarea":hf(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&pi(t,!!i.multiple,e,!1)}}}var cr=!1;function yf(t,e,i){if(cr)return t(e,i);cr=!0;try{var l=t(e);return l}finally{if(cr=!1,(vi!==null||Ai!==null)&&(fs(),vi&&(e=vi,t=Ai,Ai=vi=null,pf(e),t)))for(e=0;e<t.length;e++)pf(t[e])}}function ol(t,e){var i=t.stateNode;if(i===null)return null;var l=i[Vt]||null;if(l===null)return null;i=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,e,typeof i));return i}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(zn)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){fr=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{fr=!1}var $n=null,hr=null,qu=null;function vf(){if(qu)return qu;var t,e=hr,i=e.length,l,r="value"in $n?$n.value:$n.textContent,c=r.length;for(t=0;t<i&&e[t]===r[t];t++);var g=i-t;for(l=1;l<=g&&e[i-l]===r[c-l];l++);return qu=r.slice(t,1<l?1-l:void 0)}function Ru(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function Af(){return!1}function Be(t){function e(i,l,r,c,g){this._reactName=i,this._targetInst=r,this.type=l,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(i=t[v],this[v]=i?i(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Du:Af,this.isPropagationStopped=Af,this}return b(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=Be(Ba),fl=b({},Ba,{view:0,detail:0}),Up=Be(fl),dr,gr,hl,Bu=b({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(dr=t.screenX-hl.screenX,gr=t.screenY-hl.screenY):gr=dr=0,hl=t),dr)},movementY:function(t){return"movementY"in t?t.movementY:gr}}),bf=Be(Bu),zp=b({},Bu,{dataTransfer:0}),Cp=Be(zp),Np=b({},fl,{relatedTarget:0}),mr=Be(Np),Hp=b({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=Be(Hp),Yp=b({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_p=Be(Yp),Lp=b({},Ba,{data:0}),wf=Be(Lp),jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vp[t])?!!e[t]:!1}function pr(){return Qp}var Kp=b({},fl,{key:function(t){if(t.key){var e=jp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ru(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(t){return t.type==="keypress"?Ru(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ru(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zp=Be(Kp),kp=b({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xf=Be(kp),Jp=b({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),Fp=Be(Jp),Wp=b({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=Be(Wp),Pp=b({},Bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$p=Be(Pp),t0=b({},Ba,{newState:0,oldState:0}),e0=Be(t0),n0=[9,13,27,32],yr=zn&&"CompositionEvent"in window,dl=null;zn&&"documentMode"in document&&(dl=document.documentMode);var a0=zn&&"TextEvent"in window&&!dl,Sf=zn&&(!yr||dl&&8<dl&&11>=dl),Ef=" ",Mf=!1;function Tf(t,e){switch(t){case"keyup":return n0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function i0(t,e){switch(t){case"compositionend":return qf(e);case"keypress":return e.which!==32?null:(Mf=!0,Ef);case"textInput":return t=e.data,t===Ef&&Mf?null:t;default:return null}}function l0(t,e){if(bi)return t==="compositionend"||!yr&&Tf(t,e)?(t=vf(),qu=hr=$n=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sf&&e.locale!=="ko"?null:e.data;default:return null}}var u0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u0[t.type]:e==="textarea"}function Df(t,e,i,l){vi?Ai?Ai.push(l):Ai=[l]:vi=l,e=ys(e,"onChange"),0<e.length&&(i=new Ou("onChange","change",null,i,l),t.push({event:i,listeners:e}))}var gl=null,ml=null;function s0(t){og(t,0)}function Uu(t){var e=rl(t);if(cf(e))return t}function Of(t,e){if(t==="change")return e}var Bf=!1;if(zn){var vr;if(zn){var Ar="oninput"in document;if(!Ar){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),Ar=typeof Uf.oninput=="function"}vr=Ar}else vr=!1;Bf=vr&&(!document.documentMode||9<document.documentMode)}function zf(){gl&&(gl.detachEvent("onpropertychange",Cf),ml=gl=null)}function Cf(t){if(t.propertyName==="value"&&Uu(ml)){var e=[];Df(e,ml,t,or(t)),yf(s0,e)}}function r0(t,e,i){t==="focusin"?(zf(),gl=e,ml=i,gl.attachEvent("onpropertychange",Cf)):t==="focusout"&&zf()}function o0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(ml)}function c0(t,e){if(t==="click")return Uu(e)}function f0(t,e){if(t==="input"||t==="change")return Uu(e)}function h0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Le=typeof Object.is=="function"?Object.is:h0;function pl(t,e){if(Le(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),l=Object.keys(e);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var r=i[l];if(!Wn.call(e,r)||!Le(t[r],e[r]))return!1}return!0}function Nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hf(t,e){var i=Nf(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=e&&l>=e)return{node:i,offset:e-t};t=l}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Nf(i)}}function Gf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Mu(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Mu(t.document)}return e}function br(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var d0=zn&&"documentMode"in document&&11>=document.documentMode,wi=null,wr=null,yl=null,xr=!1;function _f(t,e,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xr||wi==null||wi!==Mu(l)||(l=wi,"selectionStart"in l&&br(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=ys(wr,"onSelect"),0<l.length&&(e=new Ou("onSelect","select",null,e,i),t.push({event:e,listeners:l}),e.target=wi)))}function Ua(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var xi={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Sr={},Lf={};zn&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function za(t){if(Sr[t])return Sr[t];if(!xi[t])return t;var e=xi[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Lf)return Sr[t]=e[i];return t}var jf=za("animationend"),Xf=za("animationiteration"),Vf=za("animationstart"),g0=za("transitionrun"),m0=za("transitionstart"),p0=za("transitioncancel"),Qf=za("transitionend"),Kf=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Er.push("scrollEnd");function yn(t,e){Kf.set(t,e),Oa(e,[t])}var Zf=new WeakMap;function en(t,e){if(typeof t=="object"&&t!==null){var i=Zf.get(t);return i!==void 0?i:(e={value:t,source:e,stack:rf(e)},Zf.set(t,e),e)}return{value:t,source:e,stack:rf(e)}}var nn=[],Si=0,Mr=0;function zu(){for(var t=Si,e=Mr=Si=0;e<t;){var i=nn[e];nn[e++]=null;var l=nn[e];nn[e++]=null;var r=nn[e];nn[e++]=null;var c=nn[e];if(nn[e++]=null,l!==null&&r!==null){var g=l.pending;g===null?r.next=r:(r.next=g.next,g.next=r),l.pending=r}c!==0&&kf(i,r,c)}}function Cu(t,e,i,l){nn[Si++]=t,nn[Si++]=e,nn[Si++]=i,nn[Si++]=l,Mr|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tr(t,e,i,l){return Cu(t,e,i,l),Nu(t)}function Ei(t,e){return Cu(t,null,null,e),Nu(t)}function kf(t,e,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var r=!1,c=t.return;c!==null;)c.childLanes|=i,l=c.alternate,l!==null&&(l.childLanes|=i),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(r=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,r&&e!==null&&(r=31-Xt(i),t=c.hiddenUpdates,l=t[r],l===null?t[r]=[e]:l.push(e),e.lane=i|536870912),c):null}function Nu(t){if(50<Xl)throw Xl=0,zo=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Mi={};function y0(t,e,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function je(t,e,i,l){return new y0(t,e,i,l)}function qr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,e){var i=t.alternate;return i===null?(i=je(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Jf(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Hu(t,e,i,l,r,c){var g=0;if(l=t,typeof t=="function")qr(t)&&(g=1);else if(typeof t=="string")g=Ay(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case $:return t=je(31,i,e,r),t.elementType=$,t.lanes=c,t;case w:return Ca(i.children,r,c,e);case U:g=8,r|=24;break;case T:return t=je(12,i,e,r|2),t.elementType=T,t.lanes=c,t;case G:return t=je(13,i,e,r),t.elementType=G,t.lanes=c,t;case O:return t=je(19,i,e,r),t.elementType=O,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:case P:g=10;break t;case Q:g=9;break t;case nt:g=11;break t;case z:g=14;break t;case K:g=16,l=null;break t}g=29,i=Error(s(130,t===null?"null":typeof t,"")),l=null}return e=je(g,i,e,r),e.elementType=t,e.type=l,e.lanes=c,e}function Ca(t,e,i,l){return t=je(7,t,l,e),t.lanes=i,t}function Rr(t,e,i){return t=je(6,t,null,e),t.lanes=i,t}function Dr(t,e,i){return e=je(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ti=[],qi=0,Gu=null,Yu=0,an=[],ln=0,Na=null,Nn=1,Hn="";function Ha(t,e){Ti[qi++]=Yu,Ti[qi++]=Gu,Gu=t,Yu=e}function Ff(t,e,i){an[ln++]=Nn,an[ln++]=Hn,an[ln++]=Na,Na=t;var l=Nn;t=Hn;var r=32-Xt(l)-1;l&=~(1<<r),i+=1;var c=32-Xt(e)+r;if(30<c){var g=r-r%5;c=(l&(1<<g)-1).toString(32),l>>=g,r-=g,Nn=1<<32-Xt(e)+r|i<<r|l,Hn=c+t}else Nn=1<<c|i<<r|l,Hn=t}function Or(t){t.return!==null&&(Ha(t,1),Ff(t,1,0))}function Br(t){for(;t===Gu;)Gu=Ti[--qi],Ti[qi]=null,Yu=Ti[--qi],Ti[qi]=null;for(;t===Na;)Na=an[--ln],an[ln]=null,Hn=an[--ln],an[ln]=null,Nn=an[--ln],an[ln]=null}var De=null,Pt=null,zt=!1,Ga=null,xn=!1,Ur=Error(s(519));function Ya(t){var e=Error(s(418,""));throw bl(en(e,t)),Ur}function Wf(t){var e=t.stateNode,i=t.type,l=t.memoizedProps;switch(e[xt]=t,e[Vt]=l,i){case"dialog":Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":case"embed":Rt("load",e);break;case"video":case"audio":for(i=0;i<Ql.length;i++)Rt(Ql[i],e);break;case"source":Rt("error",e);break;case"img":case"image":case"link":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"input":Rt("invalid",e),ff(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Eu(e);break;case"select":Rt("invalid",e);break;case"textarea":Rt("invalid",e),df(e,l.value,l.defaultValue,l.children),Eu(e)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||l.suppressHydrationWarning===!0||dg(e.textContent,i)?(l.popover!=null&&(Rt("beforetoggle",e),Rt("toggle",e)),l.onScroll!=null&&Rt("scroll",e),l.onScrollEnd!=null&&Rt("scrollend",e),l.onClick!=null&&(e.onclick=vs),e=!0):e=!1,e||Ya(t)}function If(t){for(De=t.return;De;)switch(De.tag){case 5:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:De=De.return}}function vl(t){if(t!==De)return!1;if(!zt)return If(t),zt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Fo(t.type,t.memoizedProps)),i=!i),i&&Pt&&Ya(t),If(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){Pt=An(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}Pt=null}}else e===27?(e=Pt,ma(t.type)?(t=$o,$o=null,Pt=t):Pt=e):Pt=De?An(t.stateNode.nextSibling):null;return!0}function Al(){Pt=De=null,zt=!1}function Pf(){var t=Ga;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),Ga=null),t}function bl(t){Ga===null?Ga=[t]:Ga.push(t)}var zr=k(null),_a=null,Gn=null;function ta(t,e,i){et(zr,e._currentValue),e._currentValue=i}function Yn(t){t._currentValue=zr.current,W(zr)}function Cr(t,e,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===i)break;t=t.return}}function Nr(t,e,i,l){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){var g=r.child;c=c.firstContext;t:for(;c!==null;){var v=c;c=r;for(var x=0;x<e.length;x++)if(v.context===e[x]){c.lanes|=i,v=c.alternate,v!==null&&(v.lanes|=i),Cr(c.return,i,t),l||(g=null);break t}c=v.next}}else if(r.tag===18){if(g=r.return,g===null)throw Error(s(341));g.lanes|=i,c=g.alternate,c!==null&&(c.lanes|=i),Cr(g,i,t),g=null}else g=r.child;if(g!==null)g.return=r;else for(g=r;g!==null;){if(g===t){g=null;break}if(r=g.sibling,r!==null){r.return=g.return,g=r;break}g=g.return}r=g}}function wl(t,e,i,l){t=null;for(var r=e,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var g=r.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=r.type;Le(r.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(r===fe.current){if(g=r.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}r=r.return}t!==null&&Nr(e,t,i,l),e.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!Le(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){_a=t,Gn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ee(t){return $f(_a,t)}function Lu(t,e){return _a===null&&La(t),$f(t,e)}function $f(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Gn===null){if(t===null)throw Error(s(308));Gn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Gn=Gn.next=e;return i}var v0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},A0=a.unstable_scheduleCallback,b0=a.unstable_NormalPriority,ue={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hr(){return{controller:new v0,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&A0(b0,function(){t.controller.abort()})}var Sl=null,Gr=0,Ri=0,Di=null;function w0(t,e){if(Sl===null){var i=Sl=[];Gr=0,Ri=Lo(),Di={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Gr++,e.then(th,th),e}function th(){if(--Gr===0&&Sl!==null){Di!==null&&(Di.status="fulfilled");var t=Sl;Sl=null,Ri=0,Di=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function x0(t,e){var i=[],l={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var r=0;r<i.length;r++)(0,i[r])(e)},function(r){for(l.status="rejected",l.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),l}var eh=N.S;N.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&w0(t,e),eh!==null&&eh(t,e)};var ja=k(null);function Yr(){var t=ja.current;return t!==null?t:Zt.pooledCache}function ju(t,e){e===null?et(ja,ja.current):et(ja,e.pool)}function nh(){var t=Yr();return t===null?null:{parent:ue._currentValue,pool:t}}var El=Error(s(460)),ah=Error(s(474)),Xu=Error(s(542)),_r={then:function(){}};function ih(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vu(){}function lh(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Vu,Vu),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sh(t),t;default:if(typeof e.status=="string")e.then(Vu,Vu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=l}},function(l){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sh(t),t}throw Ml=e,El}}var Ml=null;function uh(){if(Ml===null)throw Error(s(459));var t=Ml;return Ml=null,t}function sh(t){if(t===El||t===Xu)throw Error(s(483))}var ea=!1;function Lr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,e,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ct&2)!==0){var r=l.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),l.pending=e,e=Nu(t),kf(t,null,i),e}return Cu(t,l,e,i),Nu(t)}function Tl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,ll(t,i)}}function Xr(t,e){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var r=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?r=c=g:c=c.next=g,i=i.next}while(i!==null);c===null?r=c=e:c=c.next=e}else r=c=e;i={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Vr=!1;function ql(){if(Vr){var t=Di;if(t!==null)throw t}}function Rl(t,e,i,l){Vr=!1;var r=t.updateQueue;ea=!1;var c=r.firstBaseUpdate,g=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var x=v,H=x.next;x.next=null,g===null?c=H:g.next=H,g=x;var V=t.alternate;V!==null&&(V=V.updateQueue,v=V.lastBaseUpdate,v!==g&&(v===null?V.firstBaseUpdate=H:v.next=H,V.lastBaseUpdate=x))}if(c!==null){var F=r.baseState;g=0,V=H=x=null,v=c;do{var Y=v.lane&-536870913,_=Y!==v.lane;if(_?(Ot&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ri&&(Vr=!0),V!==null&&(V=V.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var pt=t,ht=v;Y=e;var jt=i;switch(ht.tag){case 1:if(pt=ht.payload,typeof pt=="function"){F=pt.call(jt,F,Y);break t}F=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ht.payload,Y=typeof pt=="function"?pt.call(jt,F,Y):pt,Y==null)break t;F=b({},F,Y);break t;case 2:ea=!0}}Y=v.callback,Y!==null&&(t.flags|=64,_&&(t.flags|=8192),_=r.callbacks,_===null?r.callbacks=[Y]:_.push(Y))}else _={lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},V===null?(H=V=_,x=F):V=V.next=_,g|=Y;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;_=v,v=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);V===null&&(x=F),r.baseState=x,r.firstBaseUpdate=H,r.lastBaseUpdate=V,c===null&&(r.shared.lanes=0),fa|=g,t.lanes=g,t.memoizedState=F}}function rh(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function oh(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)rh(i[t],e)}var Oi=k(null),Qu=k(0);function ch(t,e){t=Kn,et(Qu,t),et(Oi,e),Kn=t|e.baseLanes}function Qr(){et(Qu,Kn),et(Oi,Oi.current)}function Kr(){Kn=Qu.current,W(Oi),W(Qu)}var ia=0,St=null,_t=null,ie=null,Ku=!1,Bi=!1,Xa=!1,Zu=0,Dl=0,Ui=null,S0=0;function ee(){throw Error(s(321))}function Zr(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Le(t[i],e[i]))return!1;return!0}function kr(t,e,i,l,r,c){return ia=c,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?kh:Jh,Xa=!1,c=i(l,r),Xa=!1,Bi&&(c=hh(e,i,l,r)),fh(t),c}function fh(t){N.H=Pu;var e=_t!==null&&_t.next!==null;if(ia=0,ie=_t=St=null,Ku=!1,Dl=0,Ui=null,e)throw Error(s(300));t===null||de||(t=t.dependencies,t!==null&&_u(t)&&(de=!0))}function hh(t,e,i,l){St=t;var r=0;do{if(Bi&&(Ui=null),Dl=0,Bi=!1,25<=r)throw Error(s(301));if(r+=1,ie=_t=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}N.H=O0,c=e(i,l)}while(Bi);return c}function E0(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?Ol(e):e,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(St.flags|=1024),e}function Jr(){var t=Zu!==0;return Zu=0,t}function Fr(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Wr(t){if(Ku){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ku=!1}ia=0,ie=_t=St=null,Bi=!1,Dl=Zu=0,Ui=null}function Ue(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?St.memoizedState=ie=t:ie=ie.next=t,ie}function le(){if(_t===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=ie===null?St.memoizedState:ie.next;if(e!==null)ie=e,_t=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},ie===null?St.memoizedState=ie=t:ie=ie.next=t}return ie}function Ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var e=Dl;return Dl+=1,Ui===null&&(Ui=[]),t=lh(Ui,t,e),e=St,(ie===null?e.memoizedState:ie.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?kh:Jh),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===P)return Ee(t)}throw Error(s(438,String(t)))}function Pr(t){var e=null,i=St.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Ir(),St.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),l=0;l<t;l++)i[l]=tt;return e.index++,i}function _n(t,e){return typeof e=="function"?e(t):e}function Ju(t){var e=le();return $r(e,_t,t)}function $r(t,e,i){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var r=t.baseQueue,c=l.pending;if(c!==null){if(r!==null){var g=r.next;r.next=c.next,c.next=g}e.baseQueue=r=c,l.pending=null}if(c=t.baseState,r===null)t.memoizedState=c;else{e=r.next;var v=g=null,x=null,H=e,V=!1;do{var F=H.lane&-536870913;if(F!==H.lane?(Ot&F)===F:(ia&F)===F){var Y=H.revertLane;if(Y===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),F===Ri&&(V=!0);else if((ia&Y)===Y){H=H.next,Y===Ri&&(V=!0);continue}else F={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(v=x=F,g=c):x=x.next=F,St.lanes|=Y,fa|=Y;F=H.action,Xa&&i(c,F),c=H.hasEagerState?H.eagerState:i(c,F)}else Y={lane:F,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(v=x=Y,g=c):x=x.next=Y,St.lanes|=F,fa|=F;H=H.next}while(H!==null&&H!==e);if(x===null?g=c:x.next=v,!Le(c,t.memoizedState)&&(de=!0,V&&(i=Di,i!==null)))throw i;t.memoizedState=c,t.baseState=g,t.baseQueue=x,l.lastRenderedState=c}return r===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function to(t){var e=le(),i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var l=i.dispatch,r=i.pending,c=e.memoizedState;if(r!==null){i.pending=null;var g=r=r.next;do c=t(c,g.action),g=g.next;while(g!==r);Le(c,e.memoizedState)||(de=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),i.lastRenderedState=c}return[c,l]}function dh(t,e,i){var l=St,r=le(),c=zt;if(c){if(i===void 0)throw Error(s(407));i=i()}else i=e();var g=!Le((_t||r).memoizedState,i);g&&(r.memoizedState=i,de=!0),r=r.queue;var v=ph.bind(null,l,r,t);if(Bl(2048,8,v,[t]),r.getSnapshot!==e||g||ie!==null&&ie.memoizedState.tag&1){if(l.flags|=2048,zi(9,Fu(),mh.bind(null,l,r,i,e),null),Zt===null)throw Error(s(349));c||(ia&124)!==0||gh(l,e,i)}return i}function gh(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=St.updateQueue,e===null?(e=Ir(),St.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function mh(t,e,i,l){e.value=i,e.getSnapshot=l,yh(e)&&vh(t)}function ph(t,e,i){return i(function(){yh(e)&&vh(t)})}function yh(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Le(t,i)}catch{return!0}}function vh(t){var e=Ei(t,2);e!==null&&Ze(e,t,2)}function eo(t){var e=Ue();if(typeof t=="function"){var i=t;if(t=i(),Xa){Ge(!0);try{i()}finally{Ge(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:t},e}function Ah(t,e,i,l){return t.baseState=i,$r(t,_t,typeof l=="function"?l:_n)}function M0(t,e,i,l,r){if(Iu(t))throw Error(s(485));if(t=e.action,t!==null){var c={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};N.T!==null?i(!0):c.isTransition=!1,l(c),i=e.pending,i===null?(c.next=e.pending=c,bh(e,c)):(c.next=i.next,e.pending=i.next=c)}}function bh(t,e){var i=e.action,l=e.payload,r=t.state;if(e.isTransition){var c=N.T,g={};N.T=g;try{var v=i(r,l),x=N.S;x!==null&&x(g,v),wh(t,e,v)}catch(H){no(t,e,H)}finally{N.T=c}}else try{c=i(r,l),wh(t,e,c)}catch(H){no(t,e,H)}}function wh(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){xh(t,e,l)},function(l){return no(t,e,l)}):xh(t,e,i)}function xh(t,e,i){e.status="fulfilled",e.value=i,Sh(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,bh(t,i)))}function no(t,e,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=i,Sh(e),e=e.next;while(e!==l)}t.action=null}function Sh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Eh(t,e){return e}function Mh(t,e){if(zt){var i=Zt.formState;if(i!==null){t:{var l=St;if(zt){if(Pt){e:{for(var r=Pt,c=xn;r.nodeType!==8;){if(!c){r=null;break e}if(r=An(r.nextSibling),r===null){r=null;break e}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Pt=An(r.nextSibling),l=r.data==="F!";break t}}Ya(l)}l=!1}l&&(e=i[0])}}return i=Ue(),i.memoizedState=i.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eh,lastRenderedState:e},i.queue=l,i=Qh.bind(null,St,l),l.dispatch=i,l=eo(!1),c=so.bind(null,St,!1,l.queue),l=Ue(),r={state:e,dispatch:null,action:t,pending:null},l.queue=r,i=M0.bind(null,St,r,c,i),r.dispatch=i,l.memoizedState=t,[e,i,!1]}function Th(t){var e=le();return qh(e,_t,t)}function qh(t,e,i){if(e=$r(t,e,Eh)[0],t=Ju(_n)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=Ol(e)}catch(g){throw g===El?Xu:g}else l=e;e=le();var r=e.queue,c=r.dispatch;return i!==e.memoizedState&&(St.flags|=2048,zi(9,Fu(),T0.bind(null,r,i),null)),[l,c,t]}function T0(t,e){t.action=e}function Rh(t){var e=le(),i=_t;if(i!==null)return qh(e,i,t);le(),e=e.memoizedState,i=le();var l=i.queue.dispatch;return i.memoizedState=t,[e,l,!1]}function zi(t,e,i,l){return t={tag:t,create:i,deps:l,inst:e,next:null},e=St.updateQueue,e===null&&(e=Ir(),St.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,e.lastEffect=t),t}function Fu(){return{destroy:void 0,resource:void 0}}function Dh(){return le().memoizedState}function Wu(t,e,i,l){var r=Ue();l=l===void 0?null:l,St.flags|=t,r.memoizedState=zi(1|e,Fu(),i,l)}function Bl(t,e,i,l){var r=le();l=l===void 0?null:l;var c=r.memoizedState.inst;_t!==null&&l!==null&&Zr(l,_t.memoizedState.deps)?r.memoizedState=zi(e,c,i,l):(St.flags|=t,r.memoizedState=zi(1|e,c,i,l))}function Oh(t,e){Wu(8390656,8,t,e)}function Bh(t,e){Bl(2048,8,t,e)}function Uh(t,e){return Bl(4,2,t,e)}function zh(t,e){return Bl(4,4,t,e)}function Ch(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nh(t,e,i){i=i!=null?i.concat([t]):null,Bl(4,4,Ch.bind(null,e,t),i)}function ao(){}function Hh(t,e){var i=le();e=e===void 0?null:e;var l=i.memoizedState;return e!==null&&Zr(e,l[1])?l[0]:(i.memoizedState=[t,e],t)}function Gh(t,e){var i=le();e=e===void 0?null:e;var l=i.memoizedState;if(e!==null&&Zr(e,l[1]))return l[0];if(l=t(),Xa){Ge(!0);try{t()}finally{Ge(!1)}}return i.memoizedState=[l,e],l}function io(t,e,i){return i===void 0||(ia&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Ld(),St.lanes|=t,fa|=t,i)}function Yh(t,e,i,l){return Le(i,e)?i:Oi.current!==null?(t=io(t,i,l),Le(t,e)||(de=!0),t):(ia&42)===0?(de=!0,t.memoizedState=i):(t=Ld(),St.lanes|=t,fa|=t,e)}function _h(t,e,i,l,r){var c=Z.p;Z.p=c!==0&&8>c?c:8;var g=N.T,v={};N.T=v,so(t,!1,e,i);try{var x=r(),H=N.S;if(H!==null&&H(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=x0(x,l);Ul(t,e,V,Ke(t))}else Ul(t,e,l,Ke(t))}catch(F){Ul(t,e,{then:function(){},status:"rejected",reason:F},Ke())}finally{Z.p=c,N.T=g}}function q0(){}function lo(t,e,i,l){if(t.tag!==5)throw Error(s(476));var r=Lh(t).queue;_h(t,r,e,it,i===null?q0:function(){return jh(t),i(l)})}function Lh(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:it},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function jh(t){var e=Lh(t).next.queue;Ul(t,e,{},Ke())}function uo(){return Ee(Wl)}function Xh(){return le().memoizedState}function Vh(){return le().memoizedState}function R0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Ke();t=na(i);var l=aa(e,t,i);l!==null&&(Ze(l,e,i),Tl(l,e,i)),e={cache:Hr()},t.payload=e;return}e=e.return}}function D0(t,e,i){var l=Ke();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Iu(t)?Kh(e,i):(i=Tr(t,e,i,l),i!==null&&(Ze(i,t,l),Zh(i,e,l)))}function Qh(t,e,i){var l=Ke();Ul(t,e,i,l)}function Ul(t,e,i,l){var r={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Iu(t))Kh(e,r);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var g=e.lastRenderedState,v=c(g,i);if(r.hasEagerState=!0,r.eagerState=v,Le(v,g))return Cu(t,e,r,0),Zt===null&&zu(),!1}catch{}finally{}if(i=Tr(t,e,r,l),i!==null)return Ze(i,t,l),Zh(i,e,l),!0}return!1}function so(t,e,i,l){if(l={lane:2,revertLane:Lo(),action:l,hasEagerState:!1,eagerState:null,next:null},Iu(t)){if(e)throw Error(s(479))}else e=Tr(t,i,l,2),e!==null&&Ze(e,t,2)}function Iu(t){var e=t.alternate;return t===St||e!==null&&e===St}function Kh(t,e){Bi=Ku=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Zh(t,e,i){if((i&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,ll(t,i)}}var Pu={readContext:Ee,use:ku,useCallback:ee,useContext:ee,useEffect:ee,useImperativeHandle:ee,useLayoutEffect:ee,useInsertionEffect:ee,useMemo:ee,useReducer:ee,useRef:ee,useState:ee,useDebugValue:ee,useDeferredValue:ee,useTransition:ee,useSyncExternalStore:ee,useId:ee,useHostTransitionStatus:ee,useFormState:ee,useActionState:ee,useOptimistic:ee,useMemoCache:ee,useCacheRefresh:ee},kh={readContext:Ee,use:ku,useCallback:function(t,e){return Ue().memoizedState=[t,e===void 0?null:e],t},useContext:Ee,useEffect:Oh,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Wu(4194308,4,Ch.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){Wu(4,2,t,e)},useMemo:function(t,e){var i=Ue();e=e===void 0?null:e;var l=t();if(Xa){Ge(!0);try{t()}finally{Ge(!1)}}return i.memoizedState=[l,e],l},useReducer:function(t,e,i){var l=Ue();if(i!==void 0){var r=i(e);if(Xa){Ge(!0);try{i(e)}finally{Ge(!1)}}}else r=e;return l.memoizedState=l.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=D0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var e=Ue();return t={current:t},e.memoizedState=t},useState:function(t){t=eo(t);var e=t.queue,i=Qh.bind(null,St,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:ao,useDeferredValue:function(t,e){var i=Ue();return io(i,t,e)},useTransition:function(){var t=eo(!1);return t=_h.bind(null,St,t.queue,!0,!1),Ue().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var l=St,r=Ue();if(zt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=e(),Zt===null)throw Error(s(349));(Ot&124)!==0||gh(l,e,i)}r.memoizedState=i;var c={value:i,getSnapshot:e};return r.queue=c,Oh(ph.bind(null,l,c,t),[t]),l.flags|=2048,zi(9,Fu(),mh.bind(null,l,c,i,e),null),i},useId:function(){var t=Ue(),e=Zt.identifierPrefix;if(zt){var i=Hn,l=Nn;i=(l&~(1<<32-Xt(l)-1)).toString(32)+i,e=""+e+"R"+i,i=Zu++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=S0++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:uo,useFormState:Mh,useActionState:Mh,useOptimistic:function(t){var e=Ue();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=so.bind(null,St,!0,i),i.dispatch=e,[t,e]},useMemoCache:Pr,useCacheRefresh:function(){return Ue().memoizedState=R0.bind(null,St)}},Jh={readContext:Ee,use:ku,useCallback:Hh,useContext:Ee,useEffect:Bh,useImperativeHandle:Nh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Gh,useReducer:Ju,useRef:Dh,useState:function(){return Ju(_n)},useDebugValue:ao,useDeferredValue:function(t,e){var i=le();return Yh(i,_t.memoizedState,t,e)},useTransition:function(){var t=Ju(_n)[0],e=le().memoizedState;return[typeof t=="boolean"?t:Ol(t),e]},useSyncExternalStore:dh,useId:Xh,useHostTransitionStatus:uo,useFormState:Th,useActionState:Th,useOptimistic:function(t,e){var i=le();return Ah(i,_t,t,e)},useMemoCache:Pr,useCacheRefresh:Vh},O0={readContext:Ee,use:ku,useCallback:Hh,useContext:Ee,useEffect:Bh,useImperativeHandle:Nh,useInsertionEffect:Uh,useLayoutEffect:zh,useMemo:Gh,useReducer:to,useRef:Dh,useState:function(){return to(_n)},useDebugValue:ao,useDeferredValue:function(t,e){var i=le();return _t===null?io(i,t,e):Yh(i,_t.memoizedState,t,e)},useTransition:function(){var t=to(_n)[0],e=le().memoizedState;return[typeof t=="boolean"?t:Ol(t),e]},useSyncExternalStore:dh,useId:Xh,useHostTransitionStatus:uo,useFormState:Rh,useActionState:Rh,useOptimistic:function(t,e){var i=le();return _t!==null?Ah(i,_t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Pr,useCacheRefresh:Vh},Ci=null,zl=0;function $u(t){var e=zl;return zl+=1,Ci===null&&(Ci=[]),lh(Ci,t,e)}function Cl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ts(t,e){throw e.$$typeof===q?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Fh(t){var e=t._init;return e(t._payload)}function Wh(t){function e(B,R){if(t){var C=B.deletions;C===null?(B.deletions=[R],B.flags|=16):C.push(R)}}function i(B,R){if(!t)return null;for(;R!==null;)e(B,R),R=R.sibling;return null}function l(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function r(B,R){return B=Cn(B,R),B.index=0,B.sibling=null,B}function c(B,R,C){return B.index=C,t?(C=B.alternate,C!==null?(C=C.index,C<R?(B.flags|=67108866,R):C):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function g(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function v(B,R,C,J){return R===null||R.tag!==6?(R=Rr(C,B.mode,J),R.return=B,R):(R=r(R,C),R.return=B,R)}function x(B,R,C,J){var st=C.type;return st===w?V(B,R,C.props.children,J,C.key):R!==null&&(R.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===K&&Fh(st)===R.type)?(R=r(R,C.props),Cl(R,C),R.return=B,R):(R=Hu(C.type,C.key,C.props,null,B.mode,J),Cl(R,C),R.return=B,R)}function H(B,R,C,J){return R===null||R.tag!==4||R.stateNode.containerInfo!==C.containerInfo||R.stateNode.implementation!==C.implementation?(R=Dr(C,B.mode,J),R.return=B,R):(R=r(R,C.children||[]),R.return=B,R)}function V(B,R,C,J,st){return R===null||R.tag!==7?(R=Ca(C,B.mode,J,st),R.return=B,R):(R=r(R,C),R.return=B,R)}function F(B,R,C){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Rr(""+R,B.mode,C),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case p:return C=Hu(R.type,R.key,R.props,null,B.mode,C),Cl(C,R),C.return=B,C;case E:return R=Dr(R,B.mode,C),R.return=B,R;case K:var J=R._init;return R=J(R._payload),F(B,R,C)}if(dt(R)||ut(R))return R=Ca(R,B.mode,C,null),R.return=B,R;if(typeof R.then=="function")return F(B,$u(R),C);if(R.$$typeof===P)return F(B,Lu(B,R),C);ts(B,R)}return null}function Y(B,R,C,J){var st=R!==null?R.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return st!==null?null:v(B,R,""+C,J);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case p:return C.key===st?x(B,R,C,J):null;case E:return C.key===st?H(B,R,C,J):null;case K:return st=C._init,C=st(C._payload),Y(B,R,C,J)}if(dt(C)||ut(C))return st!==null?null:V(B,R,C,J,null);if(typeof C.then=="function")return Y(B,R,$u(C),J);if(C.$$typeof===P)return Y(B,R,Lu(B,C),J);ts(B,C)}return null}function _(B,R,C,J,st){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(C)||null,v(R,B,""+J,st);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case p:return B=B.get(J.key===null?C:J.key)||null,x(R,B,J,st);case E:return B=B.get(J.key===null?C:J.key)||null,H(R,B,J,st);case K:var Tt=J._init;return J=Tt(J._payload),_(B,R,C,J,st)}if(dt(J)||ut(J))return B=B.get(C)||null,V(R,B,J,st,null);if(typeof J.then=="function")return _(B,R,C,$u(J),st);if(J.$$typeof===P)return _(B,R,C,Lu(R,J),st);ts(R,J)}return null}function pt(B,R,C,J){for(var st=null,Tt=null,ft=R,gt=R=0,me=null;ft!==null&&gt<C.length;gt++){ft.index>gt?(me=ft,ft=null):me=ft.sibling;var Bt=Y(B,ft,C[gt],J);if(Bt===null){ft===null&&(ft=me);break}t&&ft&&Bt.alternate===null&&e(B,ft),R=c(Bt,R,gt),Tt===null?st=Bt:Tt.sibling=Bt,Tt=Bt,ft=me}if(gt===C.length)return i(B,ft),zt&&Ha(B,gt),st;if(ft===null){for(;gt<C.length;gt++)ft=F(B,C[gt],J),ft!==null&&(R=c(ft,R,gt),Tt===null?st=ft:Tt.sibling=ft,Tt=ft);return zt&&Ha(B,gt),st}for(ft=l(ft);gt<C.length;gt++)me=_(ft,B,gt,C[gt],J),me!==null&&(t&&me.alternate!==null&&ft.delete(me.key===null?gt:me.key),R=c(me,R,gt),Tt===null?st=me:Tt.sibling=me,Tt=me);return t&&ft.forEach(function(ba){return e(B,ba)}),zt&&Ha(B,gt),st}function ht(B,R,C,J){if(C==null)throw Error(s(151));for(var st=null,Tt=null,ft=R,gt=R=0,me=null,Bt=C.next();ft!==null&&!Bt.done;gt++,Bt=C.next()){ft.index>gt?(me=ft,ft=null):me=ft.sibling;var ba=Y(B,ft,Bt.value,J);if(ba===null){ft===null&&(ft=me);break}t&&ft&&ba.alternate===null&&e(B,ft),R=c(ba,R,gt),Tt===null?st=ba:Tt.sibling=ba,Tt=ba,ft=me}if(Bt.done)return i(B,ft),zt&&Ha(B,gt),st;if(ft===null){for(;!Bt.done;gt++,Bt=C.next())Bt=F(B,Bt.value,J),Bt!==null&&(R=c(Bt,R,gt),Tt===null?st=Bt:Tt.sibling=Bt,Tt=Bt);return zt&&Ha(B,gt),st}for(ft=l(ft);!Bt.done;gt++,Bt=C.next())Bt=_(ft,B,gt,Bt.value,J),Bt!==null&&(t&&Bt.alternate!==null&&ft.delete(Bt.key===null?gt:Bt.key),R=c(Bt,R,gt),Tt===null?st=Bt:Tt.sibling=Bt,Tt=Bt);return t&&ft.forEach(function(By){return e(B,By)}),zt&&Ha(B,gt),st}function jt(B,R,C,J){if(typeof C=="object"&&C!==null&&C.type===w&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case p:t:{for(var st=C.key;R!==null;){if(R.key===st){if(st=C.type,st===w){if(R.tag===7){i(B,R.sibling),J=r(R,C.props.children),J.return=B,B=J;break t}}else if(R.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===K&&Fh(st)===R.type){i(B,R.sibling),J=r(R,C.props),Cl(J,C),J.return=B,B=J;break t}i(B,R);break}else e(B,R);R=R.sibling}C.type===w?(J=Ca(C.props.children,B.mode,J,C.key),J.return=B,B=J):(J=Hu(C.type,C.key,C.props,null,B.mode,J),Cl(J,C),J.return=B,B=J)}return g(B);case E:t:{for(st=C.key;R!==null;){if(R.key===st)if(R.tag===4&&R.stateNode.containerInfo===C.containerInfo&&R.stateNode.implementation===C.implementation){i(B,R.sibling),J=r(R,C.children||[]),J.return=B,B=J;break t}else{i(B,R);break}else e(B,R);R=R.sibling}J=Dr(C,B.mode,J),J.return=B,B=J}return g(B);case K:return st=C._init,C=st(C._payload),jt(B,R,C,J)}if(dt(C))return pt(B,R,C,J);if(ut(C)){if(st=ut(C),typeof st!="function")throw Error(s(150));return C=st.call(C),ht(B,R,C,J)}if(typeof C.then=="function")return jt(B,R,$u(C),J);if(C.$$typeof===P)return jt(B,R,Lu(B,C),J);ts(B,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,R!==null&&R.tag===6?(i(B,R.sibling),J=r(R,C),J.return=B,B=J):(i(B,R),J=Rr(C,B.mode,J),J.return=B,B=J),g(B)):i(B,R)}return function(B,R,C,J){try{zl=0;var st=jt(B,R,C,J);return Ci=null,st}catch(ft){if(ft===El||ft===Xu)throw ft;var Tt=je(29,ft,null,B.mode);return Tt.lanes=J,Tt.return=B,Tt}finally{}}}var Ni=Wh(!0),Ih=Wh(!1),un=k(null),Sn=null;function la(t){var e=t.alternate;et(se,se.current&1),et(un,t),Sn===null&&(e===null||Oi.current!==null||e.memoizedState!==null)&&(Sn=t)}function Ph(t){if(t.tag===22){if(et(se,se.current),et(un,t),Sn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Sn=t)}}else ua()}function ua(){et(se,se.current),et(un,un.current)}function Ln(t){W(un),Sn===t&&(Sn=null),W(se)}var se=k(0);function es(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Po(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ro(t,e,i,l){e=t.memoizedState,i=i(l,e),i=i==null?e:b({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var oo={enqueueSetState:function(t,e,i){t=t._reactInternals;var l=Ke(),r=na(l);r.payload=e,i!=null&&(r.callback=i),e=aa(t,r,l),e!==null&&(Ze(e,t,l),Tl(e,t,l))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var l=Ke(),r=na(l);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=aa(t,r,l),e!==null&&(Ze(e,t,l),Tl(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Ke(),l=na(i);l.tag=2,e!=null&&(l.callback=e),e=aa(t,l,i),e!==null&&(Ze(e,t,i),Tl(e,t,i))}};function $h(t,e,i,l,r,c,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,c,g):e.prototype&&e.prototype.isPureReactComponent?!pl(i,l)||!pl(r,c):!0}function td(t,e,i,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,l),e.state!==t&&oo.enqueueReplaceState(e,e.state,null)}function Va(t,e){var i=e;if("ref"in e){i={};for(var l in e)l!=="ref"&&(i[l]=e[l])}if(t=t.defaultProps){i===e&&(i=b({},i));for(var r in t)i[r]===void 0&&(i[r]=t[r])}return i}var ns=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ed(t){ns(t)}function nd(t){console.error(t)}function ad(t){ns(t)}function as(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function id(t,e,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function co(t,e,i){return i=na(i),i.tag=3,i.payload={element:null},i.callback=function(){as(t,e)},i}function ld(t){return t=na(t),t.tag=3,t}function ud(t,e,i,l){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var c=l.value;t.payload=function(){return r(c)},t.callback=function(){id(e,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){id(e,i,l),typeof r!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function B0(t,e,i,l,r){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=i.alternate,e!==null&&wl(e,i,r,!0),i=un.current,i!==null){switch(i.tag){case 13:return Sn===null?No():i.alternate===null&&$t===0&&($t=3),i.flags&=-257,i.flags|=65536,i.lanes=r,l===_r?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([l]):e.add(l),Go(t,l,r)),!1;case 22:return i.flags|=65536,l===_r?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([l]):i.add(l)),Go(t,l,r)),!1}throw Error(s(435,i.tag))}return Go(t,l,r),No(),!1}if(zt)return e=un.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=r,l!==Ur&&(t=Error(s(422),{cause:l}),bl(en(t,i)))):(l!==Ur&&(e=Error(s(423),{cause:l}),bl(en(e,i))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,l=en(l,i),r=co(t.stateNode,l,r),Xr(t,r),$t!==4&&($t=2)),!1;var c=Error(s(520),{cause:l});if(c=en(c,i),jl===null?jl=[c]:jl.push(c),$t!==4&&($t=2),e===null)return!0;l=en(l,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=r&-r,i.lanes|=t,t=co(i.stateNode,l,t),Xr(i,t),!1;case 1:if(e=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ha===null||!ha.has(c))))return i.flags|=65536,r&=-r,i.lanes|=r,r=ld(r),ud(r,t,i,l),Xr(i,r),!1}i=i.return}while(i!==null);return!1}var sd=Error(s(461)),de=!1;function ye(t,e,i,l){e.child=t===null?Ih(e,null,i,l):Ni(e,t.child,i,l)}function rd(t,e,i,l,r){i=i.render;var c=e.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return La(e),l=kr(t,e,i,g,c,r),v=Jr(),t!==null&&!de?(Fr(t,e,r),jn(t,e,r)):(zt&&v&&Or(e),e.flags|=1,ye(t,e,l,r),e.child)}function od(t,e,i,l,r){if(t===null){var c=i.type;return typeof c=="function"&&!qr(c)&&c.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=c,cd(t,e,c,l,r)):(t=Hu(i.type,null,l,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!Ao(t,r)){var g=c.memoizedProps;if(i=i.compare,i=i!==null?i:pl,i(g,l)&&t.ref===e.ref)return jn(t,e,r)}return e.flags|=1,t=Cn(c,l),t.ref=e.ref,t.return=e,e.child=t}function cd(t,e,i,l,r){if(t!==null){var c=t.memoizedProps;if(pl(c,l)&&t.ref===e.ref)if(de=!1,e.pendingProps=l=c,Ao(t,r))(t.flags&131072)!==0&&(de=!0);else return e.lanes=t.lanes,jn(t,e,r)}return fo(t,e,i,l,r)}function fd(t,e,i){var l=e.pendingProps,r=l.children,c=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=c!==null?c.baseLanes|i:i,t!==null){for(r=e.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;e.childLanes=c&~l}else e.childLanes=0,e.child=null;return hd(t,e,l,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(e,c!==null?c.cachePool:null),c!==null?ch(e,c):Qr(),Ph(e);else return e.lanes=e.childLanes=536870912,hd(t,e,c!==null?c.baseLanes|i:i,i)}else c!==null?(ju(e,c.cachePool),ch(e,c),ua(),e.memoizedState=null):(t!==null&&ju(e,null),Qr(),ua());return ye(t,e,r,i),e.child}function hd(t,e,i,l){var r=Yr();return r=r===null?null:{parent:ue._currentValue,pool:r},e.memoizedState={baseLanes:i,cachePool:r},t!==null&&ju(e,null),Qr(),Ph(e),t!==null&&wl(t,e,l,!0),null}function is(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function fo(t,e,i,l,r){return La(e),i=kr(t,e,i,l,void 0,r),l=Jr(),t!==null&&!de?(Fr(t,e,r),jn(t,e,r)):(zt&&l&&Or(e),e.flags|=1,ye(t,e,i,r),e.child)}function dd(t,e,i,l,r,c){return La(e),e.updateQueue=null,i=hh(e,l,i,r),fh(t),l=Jr(),t!==null&&!de?(Fr(t,e,c),jn(t,e,c)):(zt&&l&&Or(e),e.flags|=1,ye(t,e,i,c),e.child)}function gd(t,e,i,l,r){if(La(e),e.stateNode===null){var c=Mi,g=i.contextType;typeof g=="object"&&g!==null&&(c=Ee(g)),c=new i(l,c),e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=oo,e.stateNode=c,c._reactInternals=e,c=e.stateNode,c.props=l,c.state=e.memoizedState,c.refs={},Lr(e),g=i.contextType,c.context=typeof g=="object"&&g!==null?Ee(g):Mi,c.state=e.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ro(e,i,g,l),c.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&oo.enqueueReplaceState(c,c.state,null),Rl(e,l,c,r),ql(),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){c=e.stateNode;var v=e.memoizedProps,x=Va(i,v);c.props=x;var H=c.context,V=i.contextType;g=Mi,typeof V=="object"&&V!==null&&(g=Ee(V));var F=i.getDerivedStateFromProps;V=typeof F=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=e.pendingProps!==v,V||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||H!==g)&&td(e,c,l,g),ea=!1;var Y=e.memoizedState;c.state=Y,Rl(e,l,c,r),ql(),H=e.memoizedState,v||Y!==H||ea?(typeof F=="function"&&(ro(e,i,F,l),H=e.memoizedState),(x=ea||$h(e,i,x,l,Y,H,g))?(V||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=H),c.props=l,c.state=H,c.context=g,l=x):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{c=e.stateNode,jr(t,e),g=e.memoizedProps,V=Va(i,g),c.props=V,F=e.pendingProps,Y=c.context,H=i.contextType,x=Mi,typeof H=="object"&&H!==null&&(x=Ee(H)),v=i.getDerivedStateFromProps,(H=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==F||Y!==x)&&td(e,c,l,x),ea=!1,Y=e.memoizedState,c.state=Y,Rl(e,l,c,r),ql();var _=e.memoizedState;g!==F||Y!==_||ea||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof v=="function"&&(ro(e,i,v,l),_=e.memoizedState),(V=ea||$h(e,i,V,l,Y,_,x)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(H||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,_,x),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,_,x)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=_),c.props=l,c.state=_,c.context=x,l=V):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),l=!1)}return c=l,is(t,e),l=(e.flags&128)!==0,c||l?(c=e.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:c.render(),e.flags|=1,t!==null&&l?(e.child=Ni(e,t.child,null,r),e.child=Ni(e,null,i,r)):ye(t,e,i,r),e.memoizedState=c.state,t=e.child):t=jn(t,e,r),t}function md(t,e,i,l){return Al(),e.flags|=256,ye(t,e,i,l),e.child}var ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function go(t){return{baseLanes:t,cachePool:nh()}}function mo(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=sn),t}function pd(t,e,i){var l=e.pendingProps,r=!1,c=(e.flags&128)!==0,g;if((g=c)||(g=t!==null&&t.memoizedState===null?!1:(se.current&2)!==0),g&&(r=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(zt){if(r?la(e):ua(),zt){var v=Pt,x;if(x=v){t:{for(x=v,v=xn;x.nodeType!==8;){if(!v){v=null;break t}if(x=An(x.nextSibling),x===null){v=null;break t}}v=x}v!==null?(e.memoizedState={dehydrated:v,treeContext:Na!==null?{id:Nn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},x=je(18,null,null,0),x.stateNode=v,x.return=e,e.child=x,De=e,Pt=null,x=!0):x=!1}x||Ya(e)}if(v=e.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Po(v)?e.lanes=32:e.lanes=536870912,null;Ln(e)}return v=l.children,l=l.fallback,r?(ua(),r=e.mode,v=ls({mode:"hidden",children:v},r),l=Ca(l,r,i,null),v.return=e,l.return=e,v.sibling=l,e.child=v,r=e.child,r.memoizedState=go(i),r.childLanes=mo(t,g,i),e.memoizedState=ho,l):(la(e),po(e,v))}if(x=t.memoizedState,x!==null&&(v=x.dehydrated,v!==null)){if(c)e.flags&256?(la(e),e.flags&=-257,e=yo(t,e,i)):e.memoizedState!==null?(ua(),e.child=t.child,e.flags|=128,e=null):(ua(),r=l.fallback,v=e.mode,l=ls({mode:"visible",children:l.children},v),r=Ca(r,v,i,null),r.flags|=2,l.return=e,r.return=e,l.sibling=r,e.child=l,Ni(e,t.child,null,i),l=e.child,l.memoizedState=go(i),l.childLanes=mo(t,g,i),e.memoizedState=ho,e=r);else if(la(e),Po(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var H=g.dgst;g=H,l=Error(s(419)),l.stack="",l.digest=g,bl({value:l,source:null,stack:null}),e=yo(t,e,i)}else if(de||wl(t,e,i,!1),g=(i&t.childLanes)!==0,de||g){if(g=Zt,g!==null&&(l=i&-i,l=(l&42)!==0?1:M(l),l=(l&(g.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Ei(t,l),Ze(g,t,l),sd;v.data==="$?"||No(),e=yo(t,e,i)}else v.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,Pt=An(v.nextSibling),De=e,zt=!0,Ga=null,xn=!1,t!==null&&(an[ln++]=Nn,an[ln++]=Hn,an[ln++]=Na,Nn=t.id,Hn=t.overflow,Na=e),e=po(e,l.children),e.flags|=4096);return e}return r?(ua(),r=l.fallback,v=e.mode,x=t.child,H=x.sibling,l=Cn(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?r=Cn(H,r):(r=Ca(r,v,i,null),r.flags|=2),r.return=e,l.return=e,l.sibling=r,e.child=l,l=r,r=e.child,v=t.child.memoizedState,v===null?v=go(i):(x=v.cachePool,x!==null?(H=ue._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=nh(),v={baseLanes:v.baseLanes|i,cachePool:x}),r.memoizedState=v,r.childLanes=mo(t,g,i),e.memoizedState=ho,l):(la(e),i=t.child,t=i.sibling,i=Cn(i,{mode:"visible",children:l.children}),i.return=e,i.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=i,e.memoizedState=null,i)}function po(t,e){return e=ls({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ls(t,e){return t=je(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yo(t,e,i){return Ni(e,t.child,null,i),t=po(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yd(t,e,i){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),Cr(t.return,e,i)}function vo(t,e,i,l,r){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:r}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=i,c.tailMode=r)}function vd(t,e,i){var l=e.pendingProps,r=l.revealOrder,c=l.tail;if(ye(t,e,l.children,i),l=se.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yd(t,i,e);else if(t.tag===19)yd(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(se,l),r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&es(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),vo(e,!1,r,i,c);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&es(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}vo(e,!0,i,null,c);break;case"together":vo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jn(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),fa|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(wl(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,i=Cn(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Cn(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Ao(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function U0(t,e,i){switch(e.tag){case 3:Gt(e,e.stateNode.containerInfo),ta(e,ue,t.memoizedState.cache),Al();break;case 27:case 5:bn(e);break;case 4:Gt(e,e.stateNode.containerInfo);break;case 10:ta(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(la(e),e.flags|=128,null):(i&e.child.childLanes)!==0?pd(t,e,i):(la(e),t=jn(t,e,i),t!==null?t.sibling:null);la(e);break;case 19:var r=(t.flags&128)!==0;if(l=(i&e.childLanes)!==0,l||(wl(t,e,i,!1),l=(i&e.childLanes)!==0),r){if(l)return vd(t,e,i);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),et(se,se.current),l)break;return null;case 22:case 23:return e.lanes=0,fd(t,e,i);case 24:ta(e,ue,t.memoizedState.cache)}return jn(t,e,i)}function Ad(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)de=!0;else{if(!Ao(t,i)&&(e.flags&128)===0)return de=!1,U0(t,e,i);de=(t.flags&131072)!==0}else de=!1,zt&&(e.flags&1048576)!==0&&Ff(e,Yu,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,r=l._init;if(l=r(l._payload),e.type=l,typeof l=="function")qr(l)?(t=Va(l,t),e.tag=1,e=gd(null,e,l,t,i)):(e.tag=0,e=fo(null,e,l,t,i));else{if(l!=null){if(r=l.$$typeof,r===nt){e.tag=11,e=rd(null,e,l,t,i);break t}else if(r===z){e.tag=14,e=od(null,e,l,t,i);break t}}throw e=At(l)||l,Error(s(306,e,""))}}return e;case 0:return fo(t,e,e.type,e.pendingProps,i);case 1:return l=e.type,r=Va(l,e.pendingProps),gd(t,e,l,r,i);case 3:t:{if(Gt(e,e.stateNode.containerInfo),t===null)throw Error(s(387));l=e.pendingProps;var c=e.memoizedState;r=c.element,jr(t,e),Rl(e,l,null,i);var g=e.memoizedState;if(l=g.cache,ta(e,ue,l),l!==c.cache&&Nr(e,[ue],i,!0),ql(),l=g.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){e=md(t,e,l,i);break t}else if(l!==r){r=en(Error(s(424)),e),bl(r),e=md(t,e,l,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=An(t.firstChild),De=e,zt=!0,Ga=null,xn=!0,i=Ih(e,null,l,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Al(),l===r){e=jn(t,e,i);break t}ye(t,e,l,i)}e=e.child}return e;case 26:return is(t,e),t===null?(i=Sg(e.type,null,e.pendingProps,null))?e.memoizedState=i:zt||(i=e.type,t=e.pendingProps,l=As(mt.current).createElement(i),l[xt]=e,l[Vt]=t,Ae(l,i,t),he(l),e.stateNode=l):e.memoizedState=Sg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return bn(e),t===null&&zt&&(l=e.stateNode=bg(e.type,e.pendingProps,mt.current),De=e,xn=!0,r=Pt,ma(e.type)?($o=r,Pt=An(l.firstChild)):Pt=r),ye(t,e,e.pendingProps.children,i),is(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&zt&&((r=l=Pt)&&(l=uy(l,e.type,e.pendingProps,xn),l!==null?(e.stateNode=l,De=e,Pt=An(l.firstChild),xn=!1,r=!0):r=!1),r||Ya(e)),bn(e),r=e.type,c=e.pendingProps,g=t!==null?t.memoizedProps:null,l=c.children,Fo(r,c)?l=null:g!==null&&Fo(r,g)&&(e.flags|=32),e.memoizedState!==null&&(r=kr(t,e,E0,null,null,i),Wl._currentValue=r),is(t,e),ye(t,e,l,i),e.child;case 6:return t===null&&zt&&((t=i=Pt)&&(i=sy(i,e.pendingProps,xn),i!==null?(e.stateNode=i,De=e,Pt=null,t=!0):t=!1),t||Ya(e)),null;case 13:return pd(t,e,i);case 4:return Gt(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=Ni(e,null,l,i):ye(t,e,l,i),e.child;case 11:return rd(t,e,e.type,e.pendingProps,i);case 7:return ye(t,e,e.pendingProps,i),e.child;case 8:return ye(t,e,e.pendingProps.children,i),e.child;case 12:return ye(t,e,e.pendingProps.children,i),e.child;case 10:return l=e.pendingProps,ta(e,e.type,l.value),ye(t,e,l.children,i),e.child;case 9:return r=e.type._context,l=e.pendingProps.children,La(e),r=Ee(r),l=l(r),e.flags|=1,ye(t,e,l,i),e.child;case 14:return od(t,e,e.type,e.pendingProps,i);case 15:return cd(t,e,e.type,e.pendingProps,i);case 19:return vd(t,e,i);case 31:return l=e.pendingProps,i=e.mode,l={mode:l.mode,children:l.children},t===null?(i=ls(l,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Cn(t.child,l),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return fd(t,e,i);case 24:return La(e),l=Ee(ue),t===null?(r=Yr(),r===null&&(r=Zt,c=Hr(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=i),r=c),e.memoizedState={parent:l,cache:r},Lr(e),ta(e,ue,r)):((t.lanes&i)!==0&&(jr(t,e),Rl(e,null,null,i),ql()),r=t.memoizedState,c=e.memoizedState,r.parent!==l?(r={parent:l,cache:l},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ta(e,ue,l)):(l=c.cache,ta(e,ue,l),l!==r.cache&&Nr(e,[ue],i,!0))),ye(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function Xn(t){t.flags|=4}function bd(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Rg(e)){if(e=un.current,e!==null&&((Ot&4194048)===Ot?Sn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||e!==Sn))throw Ml=_r,ah;t.flags|=8192}}function us(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Da():536870912,t.lanes|=e,_i|=e)}function Nl(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(e)for(var r=t.child;r!==null;)i|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)i|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=l,t.childLanes=i,e}function z0(t,e,i){var l=e.pendingProps;switch(Br(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return Ft(e),null;case 3:return i=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Yn(ue),Pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(vl(e)?Xn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Pf())),Ft(e),null;case 26:return i=e.memoizedState,t===null?(Xn(e),i!==null?(Ft(e),bd(e,i)):(Ft(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Xn(e),Ft(e),bd(e,i)):(Ft(e),e.flags&=-16777217):(t.memoizedProps!==l&&Xn(e),Ft(e),e.flags&=-16777217),null;case 27:qe(e),i=mt.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Xn(e);else{if(!l){if(e.stateNode===null)throw Error(s(166));return Ft(e),null}t=ot.current,vl(e)?Wf(e):(t=bg(r,l,i),e.stateNode=t,Xn(e))}return Ft(e),null;case 5:if(qe(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Xn(e);else{if(!l){if(e.stateNode===null)throw Error(s(166));return Ft(e),null}if(t=ot.current,vl(e))Wf(e);else{switch(r=As(mt.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?r.createElement(i,{is:l.is}):r.createElement(i)}}t[xt]=e,t[Vt]=l;t:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;t:switch(Ae(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Xn(e)}}return Ft(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&Xn(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(s(166));if(t=mt.current,vl(e)){if(t=e.stateNode,i=e.memoizedProps,l=null,r=De,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}t[xt]=e,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||dg(t.nodeValue,i)),t||Ya(e)}else t=As(t).createTextNode(l),t[xt]=e,e.stateNode=t}return Ft(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=vl(e),l!==null&&l.dehydrated!==null){if(t===null){if(!r)throw Error(s(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));r[xt]=e}else Al(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ft(e),r=!1}else r=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ln(e),e):(Ln(e),null)}if(Ln(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=e.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool);var c=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==r&&(l.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),us(e,e.updateQueue),Ft(e),null;case 4:return Pe(),t===null&&Qo(e.stateNode.containerInfo),Ft(e),null;case 10:return Yn(e.type),Ft(e),null;case 19:if(W(se),r=e.memoizedState,r===null)return Ft(e),null;if(l=(e.flags&128)!==0,c=r.rendering,c===null)if(l)Nl(r,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(c=es(t),c!==null){for(e.flags|=128,Nl(r,!1),t=c.updateQueue,e.updateQueue=t,us(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Jf(i,t),i=i.sibling;return et(se,se.current&1|2),e.child}t=t.sibling}r.tail!==null&&Yt()>os&&(e.flags|=128,l=!0,Nl(r,!1),e.lanes=4194304)}else{if(!l)if(t=es(c),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,us(e,t),Nl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!zt)return Ft(e),null}else 2*Yt()-r.renderingStartTime>os&&i!==536870912&&(e.flags|=128,l=!0,Nl(r,!1),e.lanes=4194304);r.isBackwards?(c.sibling=e.child,e.child=c):(t=r.last,t!==null?t.sibling=c:e.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Yt(),e.sibling=null,t=se.current,et(se,l?t&1|2:t&1),e):(Ft(e),null);case 22:case 23:return Ln(e),Kr(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(i&536870912)!==0&&(e.flags&128)===0&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),i=e.updateQueue,i!==null&&us(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==i&&(e.flags|=2048),t!==null&&W(ja),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Yn(ue),Ft(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function C0(t,e){switch(Br(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(ue),Pe(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return qe(e),null;case 13:if(Ln(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(se),null;case 4:return Pe(),null;case 10:return Yn(e.type),null;case 22:case 23:return Ln(e),Kr(),t!==null&&W(ja),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Yn(ue),null;case 25:return null;default:return null}}function wd(t,e){switch(Br(e),e.tag){case 3:Yn(ue),Pe();break;case 26:case 27:case 5:qe(e);break;case 4:Pe();break;case 13:Ln(e);break;case 19:W(se);break;case 10:Yn(e.type);break;case 22:case 23:Ln(e),Kr(),t!==null&&W(ja);break;case 24:Yn(ue)}}function Hl(t,e){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var r=l.next;i=r;do{if((i.tag&t)===t){l=void 0;var c=i.create,g=i.inst;l=c(),g.destroy=l}i=i.next}while(i!==r)}}catch(v){Qt(e,e.return,v)}}function sa(t,e,i){try{var l=e.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&t)===t){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,r=e;var x=i,H=v;try{H()}catch(V){Qt(r,x,V)}}}l=l.next}while(l!==c)}}catch(V){Qt(e,e.return,V)}}function xd(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{oh(e,i)}catch(l){Qt(t,t.return,l)}}}function Sd(t,e,i){i.props=Va(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){Qt(t,e,l)}}function Gl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(r){Qt(t,e,r)}}function En(t,e){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(r){Qt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Qt(t,e,r)}else i.current=null}function Ed(t){var e=t.type,i=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break t;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(r){Qt(t,t.return,r)}}function bo(t,e,i){try{var l=t.stateNode;ey(l,t.type,i,e),l[Vt]=e}catch(r){Qt(t,t.return,r)}}function Md(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function wo(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xo(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=vs));else if(l!==4&&(l===27&&ma(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(xo(t,e,i),t=t.sibling;t!==null;)xo(t,e,i),t=t.sibling}function ss(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ss(t,e,i),t=t.sibling;t!==null;)ss(t,e,i),t=t.sibling}function Td(t){var e=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ae(e,l,i),e[xt]=t,e[Vt]=i}catch(c){Qt(t,t.return,c)}}var Vn=!1,ne=!1,So=!1,qd=typeof WeakSet=="function"?WeakSet:Set,ge=null;function N0(t,e){if(t=t.containerInfo,ko=Ms,t=Yf(t),br(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var r=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break t}var g=0,v=-1,x=-1,H=0,V=0,F=t,Y=null;e:for(;;){for(var _;F!==i||r!==0&&F.nodeType!==3||(v=g+r),F!==c||l!==0&&F.nodeType!==3||(x=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(_=F.firstChild)!==null;)Y=F,F=_;for(;;){if(F===t)break e;if(Y===i&&++H===r&&(v=g),Y===c&&++V===l&&(x=g),(_=F.nextSibling)!==null)break;F=Y,Y=F.parentNode}F=_}i=v===-1||x===-1?null:{start:v,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jo={focusedElem:t,selectionRange:i},Ms=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){switch(e=ge,c=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,i=e,r=c.memoizedProps,c=c.memoizedState,l=i.stateNode;try{var pt=Va(i.type,r,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(pt,c),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Qt(i,i.return,ht)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)Io(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Io(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}}function Rd(t,e,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ra(t,i),l&4&&Hl(5,i);break;case 1:if(ra(t,i),l&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(g){Qt(i,i.return,g)}else{var r=Va(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(i,i.return,g)}}l&64&&xd(i),l&512&&Gl(i,i.return);break;case 3:if(ra(t,i),l&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{oh(t,e)}catch(g){Qt(i,i.return,g)}}break;case 27:e===null&&l&4&&Td(i);case 26:case 5:ra(t,i),e===null&&l&4&&Ed(i),l&512&&Gl(i,i.return);break;case 12:ra(t,i);break;case 13:ra(t,i),l&4&&Bd(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Q0.bind(null,i),ry(t,i))));break;case 22:if(l=i.memoizedState!==null||Vn,!l){e=e!==null&&e.memoizedState!==null||ne,r=Vn;var c=ne;Vn=l,(ne=e)&&!c?oa(t,i,(i.subtreeFlags&8772)!==0):ra(t,i),Vn=r,ne=c}break;case 30:break;default:ra(t,i)}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&er(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,ze=!1;function Qn(t,e,i){for(i=i.child;i!==null;)Od(t,e,i),i=i.sibling}function Od(t,e,i){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Se,i)}catch{}switch(i.tag){case 26:ne||En(i,e),Qn(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ne||En(i,e);var l=kt,r=ze;ma(i.type)&&(kt=i.stateNode,ze=!1),Qn(t,e,i),Zl(i.stateNode),kt=l,ze=r;break;case 5:ne||En(i,e);case 6:if(l=kt,r=ze,kt=null,Qn(t,e,i),kt=l,ze=r,kt!==null)if(ze)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(i.stateNode)}catch(c){Qt(i,e,c)}else try{kt.removeChild(i.stateNode)}catch(c){Qt(i,e,c)}break;case 18:kt!==null&&(ze?(t=kt,vg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),tu(t)):vg(kt,i.stateNode));break;case 4:l=kt,r=ze,kt=i.stateNode.containerInfo,ze=!0,Qn(t,e,i),kt=l,ze=r;break;case 0:case 11:case 14:case 15:ne||sa(2,i,e),ne||sa(4,i,e),Qn(t,e,i);break;case 1:ne||(En(i,e),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Sd(i,e,l)),Qn(t,e,i);break;case 21:Qn(t,e,i);break;case 22:ne=(l=ne)||i.memoizedState!==null,Qn(t,e,i),ne=l;break;default:Qn(t,e,i)}}function Bd(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tu(t)}catch(i){Qt(e,e.return,i)}}function H0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qd),e;default:throw Error(s(435,t.tag))}}function Eo(t,e){var i=H0(t);e.forEach(function(l){var r=K0.bind(null,t,l);i.has(l)||(i.add(l),l.then(r,r))})}function Xe(t,e){var i=e.deletions;if(i!==null)for(var l=0;l<i.length;l++){var r=i[l],c=t,g=e,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(ma(v.type)){kt=v.stateNode,ze=!1;break t}break;case 5:kt=v.stateNode,ze=!1;break t;case 3:case 4:kt=v.stateNode.containerInfo,ze=!0;break t}v=v.return}if(kt===null)throw Error(s(160));Od(c,g,r),kt=null,ze=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Ud(e,t),e=e.sibling}var vn=null;function Ud(t,e){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xe(e,t),Ve(t),l&4&&(sa(3,t,t.return),Hl(3,t),sa(5,t,t.return));break;case 1:Xe(e,t),Ve(t),l&512&&(ne||i===null||En(i,i.return)),l&64&&Vn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var r=vn;if(Xe(e,t),Ve(t),l&512&&(ne||i===null||En(i,i.return)),l&4){var c=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){t:{l=t.type,i=t.memoizedProps,r=r.ownerDocument||r;e:switch(l){case"title":c=r.getElementsByTagName("title")[0],(!c||c[sl]||c[xt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(l),r.head.insertBefore(c,r.querySelector("head > title"))),Ae(c,l,i),c[xt]=t,he(c),l=c;break t;case"link":var g=Tg("link","href",r).get(l+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(c=g[v],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break e}}c=r.createElement(l),Ae(c,l,i),r.head.appendChild(c);break;case"meta":if(g=Tg("meta","content",r).get(l+(i.content||""))){for(v=0;v<g.length;v++)if(c=g[v],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break e}}c=r.createElement(l),Ae(c,l,i),r.head.appendChild(c);break;default:throw Error(s(468,l))}c[xt]=t,he(c),l=c}t.stateNode=l}else qg(r,t.type,t.stateNode);else t.stateNode=Mg(r,l,t.memoizedProps);else c!==l?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,l===null?qg(r,t.type,t.stateNode):Mg(r,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bo(t,t.memoizedProps,i.memoizedProps)}break;case 27:Xe(e,t),Ve(t),l&512&&(ne||i===null||En(i,i.return)),i!==null&&l&4&&bo(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Xe(e,t),Ve(t),l&512&&(ne||i===null||En(i,i.return)),t.flags&32){r=t.stateNode;try{yi(r,"")}catch(_){Qt(t,t.return,_)}}l&4&&t.stateNode!=null&&(r=t.memoizedProps,bo(t,r,i!==null?i.memoizedProps:r)),l&1024&&(So=!0);break;case 6:if(Xe(e,t),Ve(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(_){Qt(t,t.return,_)}}break;case 3:if(xs=null,r=vn,vn=bs(e.containerInfo),Xe(e,t),vn=r,Ve(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(_){Qt(t,t.return,_)}So&&(So=!1,zd(t));break;case 4:l=vn,vn=bs(t.stateNode.containerInfo),Xe(e,t),Ve(t),vn=l;break;case 12:Xe(e,t),Ve(t);break;case 13:Xe(e,t),Ve(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oo=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eo(t,l)));break;case 22:r=t.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,H=Vn,V=ne;if(Vn=H||r,ne=V||x,Xe(e,t),ne=V,Vn=H,Ve(t),l&8192)t:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(i===null||x||Vn||ne||Qa(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){x=i=e;try{if(c=x.stateNode,r)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=x.stateNode;var F=x.memoizedProps.style,Y=F!=null&&F.hasOwnProperty("display")?F.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(_){Qt(x,x.return,_)}}}else if(e.tag===6){if(i===null){x=e;try{x.stateNode.nodeValue=r?"":x.memoizedProps}catch(_){Qt(x,x.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Eo(t,i))));break;case 19:Xe(e,t),Ve(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eo(t,l)));break;case 30:break;case 21:break;default:Xe(e,t),Ve(t)}}function Ve(t){var e=t.flags;if(e&2){try{for(var i,l=t.return;l!==null;){if(Md(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var r=i.stateNode,c=wo(t);ss(t,c,r);break;case 5:var g=i.stateNode;i.flags&32&&(yi(g,""),i.flags&=-33);var v=wo(t);ss(t,v,g);break;case 3:case 4:var x=i.stateNode.containerInfo,H=wo(t);xo(t,H,x);break;default:throw Error(s(161))}}catch(V){Qt(t,t.return,V)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;zd(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ra(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Rd(t,e.alternate,e),e=e.sibling}function Qa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sa(4,e,e.return),Qa(e);break;case 1:En(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Sd(e,e.return,i),Qa(e);break;case 27:Zl(e.stateNode);case 26:case 5:En(e,e.return),Qa(e);break;case 22:e.memoizedState===null&&Qa(e);break;case 30:Qa(e);break;default:Qa(e)}t=t.sibling}}function oa(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,r=t,c=e,g=c.flags;switch(c.tag){case 0:case 11:case 15:oa(r,c,i),Hl(4,c);break;case 1:if(oa(r,c,i),l=c,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(H){Qt(l,l.return,H)}if(l=c,r=l.updateQueue,r!==null){var v=l.stateNode;try{var x=r.shared.hiddenCallbacks;if(x!==null)for(r.shared.hiddenCallbacks=null,r=0;r<x.length;r++)rh(x[r],v)}catch(H){Qt(l,l.return,H)}}i&&g&64&&xd(c),Gl(c,c.return);break;case 27:Td(c);case 26:case 5:oa(r,c,i),i&&l===null&&g&4&&Ed(c),Gl(c,c.return);break;case 12:oa(r,c,i);break;case 13:oa(r,c,i),i&&g&4&&Bd(r,c);break;case 22:c.memoizedState===null&&oa(r,c,i),Gl(c,c.return);break;case 30:break;default:oa(r,c,i)}e=e.sibling}}function Mo(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&xl(i))}function To(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xl(t))}function Mn(t,e,i,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cd(t,e,i,l),e=e.sibling}function Cd(t,e,i,l){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Mn(t,e,i,l),r&2048&&Hl(9,e);break;case 1:Mn(t,e,i,l);break;case 3:Mn(t,e,i,l),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xl(t)));break;case 12:if(r&2048){Mn(t,e,i,l),t=e.stateNode;try{var c=e.memoizedProps,g=c.id,v=c.onPostCommit;typeof v=="function"&&v(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Qt(e,e.return,x)}}else Mn(t,e,i,l);break;case 13:Mn(t,e,i,l);break;case 23:break;case 22:c=e.stateNode,g=e.alternate,e.memoizedState!==null?c._visibility&2?Mn(t,e,i,l):Yl(t,e):c._visibility&2?Mn(t,e,i,l):(c._visibility|=2,Hi(t,e,i,l,(e.subtreeFlags&10256)!==0)),r&2048&&Mo(g,e);break;case 24:Mn(t,e,i,l),r&2048&&To(e.alternate,e);break;default:Mn(t,e,i,l)}}function Hi(t,e,i,l,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var c=t,g=e,v=i,x=l,H=g.flags;switch(g.tag){case 0:case 11:case 15:Hi(c,g,v,x,r),Hl(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?Hi(c,g,v,x,r):Yl(c,g):(V._visibility|=2,Hi(c,g,v,x,r)),r&&H&2048&&Mo(g.alternate,g);break;case 24:Hi(c,g,v,x,r),r&&H&2048&&To(g.alternate,g);break;default:Hi(c,g,v,x,r)}e=e.sibling}}function Yl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,l=e,r=l.flags;switch(l.tag){case 22:Yl(i,l),r&2048&&Mo(l.alternate,l);break;case 24:Yl(i,l),r&2048&&To(l.alternate,l);break;default:Yl(i,l)}e=e.sibling}}var _l=8192;function Gi(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Nd(t),t=t.sibling}function Nd(t){switch(t.tag){case 26:Gi(t),t.flags&_l&&t.memoizedState!==null&&wy(vn,t.memoizedState,t.memoizedProps);break;case 5:Gi(t);break;case 3:case 4:var e=vn;vn=bs(t.stateNode.containerInfo),Gi(t),vn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=_l,_l=16777216,Gi(t),_l=e):Gi(t));break;default:Gi(t)}}function Hd(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ll(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ge=l,Yd(l,t)}Hd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(t),t=t.sibling}function Gd(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&sa(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,rs(t)):Ll(t);break;default:Ll(t)}}function rs(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];ge=l,Yd(l,t)}Hd(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sa(8,e,e.return),rs(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,rs(e));break;default:rs(e)}t=t.sibling}}function Yd(t,e){for(;ge!==null;){var i=ge;switch(i.tag){case 0:case 11:case 15:sa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ge=l;else t:for(i=t;ge!==null;){l=ge;var r=l.sibling,c=l.return;if(Dd(l),l===i){ge=null;break t}if(r!==null){r.return=c,ge=r;break t}ge=c}}}var G0={getCacheForType:function(t){var e=Ee(ue),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Y0=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Zt=null,qt=null,Ot=0,Nt=0,Qe=null,ca=!1,Yi=!1,qo=!1,Kn=0,$t=0,fa=0,Ka=0,Ro=0,sn=0,_i=0,jl=null,Ce=null,Do=!1,Oo=0,os=1/0,cs=null,ha=null,ve=0,da=null,Li=null,ji=0,Bo=0,Uo=null,_d=null,Xl=0,zo=null;function Ke(){if((Ct&2)!==0&&Ot!==0)return Ot&-Ot;if(N.T!==null){var t=Ri;return t!==0?t:Lo()}return I()}function Ld(){sn===0&&(sn=(Ot&536870912)===0||zt?oi():536870912);var t=un.current;return t!==null&&(t.flags|=32),sn}function Ze(t,e,i){(t===Zt&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)&&(Xi(t,0),ga(t,Ot,sn,!1)),Pn(t,i),((Ct&2)===0||t!==Zt)&&(t===Zt&&((Ct&2)===0&&(Ka|=i),$t===4&&ga(t,Ot,sn,!1)),Tn(t))}function jd(t,e,i){if((Ct&6)!==0)throw Error(s(327));var l=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Ra(t,e),r=l?j0(t,e):Ho(t,e,!0),c=l;do{if(r===0){Yi&&!l&&ga(t,e,0,!1);break}else{if(i=t.current.alternate,c&&!_0(i)){r=Ho(t,e,!1),c=!1;continue}if(r===2){if(c=e,t.errorRecoveryDisabledLanes&c)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var v=t;r=jl;var x=v.current.memoizedState.isDehydrated;if(x&&(Xi(v,g).flags|=256),g=Ho(v,g,!1),g!==2){if(qo&&!x){v.errorRecoveryDisabledLanes|=c,Ka|=c,r=4;break t}c=Ce,Ce=r,c!==null&&(Ce===null?Ce=c:Ce.push.apply(Ce,c))}r=g}if(c=!1,r!==2)continue}}if(r===1){Xi(t,0),ga(t,e,0,!0);break}t:{switch(l=t,c=r,c){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:ga(l,e,sn,!ca);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(r=Oo+300-Yt(),10<r)){if(ga(l,e,sn,!ca),ri(l,0,!0)!==0)break t;l.timeoutHandle=pg(Xd.bind(null,l,i,Ce,cs,Do,e,sn,Ka,_i,ca,c,2,-0,0),r);break t}Xd(l,i,Ce,cs,Do,e,sn,Ka,_i,ca,c,0,-0,0)}}break}while(!0);Tn(t)}function Xd(t,e,i,l,r,c,g,v,x,H,V,F,Y,_){if(t.timeoutHandle=-1,F=e.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:by},Nd(e),F=xy(),F!==null)){t.cancelPendingCommit=F(Fd.bind(null,t,e,c,i,l,r,g,v,x,V,1,Y,_)),ga(t,c,g,!H);return}Fd(t,e,c,i,l,r,g,v,x)}function _0(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var r=i[l],c=r.getSnapshot;r=r.value;try{if(!Le(c(),r))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ga(t,e,i,l){e&=~Ro,e&=~Ka,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var r=e;0<r;){var c=31-Xt(r),g=1<<c;l[c]=-1,r&=~g}i!==0&&il(t,i,e)}function fs(){return(Ct&6)===0?(Vl(0),!1):!0}function Co(){if(qt!==null){if(Nt===0)var t=qt.return;else t=qt,Gn=_a=null,Wr(t),Ci=null,zl=0,t=qt;for(;t!==null;)wd(t.alternate,t),t=t.return;qt=null}}function Xi(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,ay(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Co(),Zt=t,qt=i=Cn(t.current,null),Ot=e,Nt=0,Qe=null,ca=!1,Yi=Ra(t,e),qo=!1,_i=sn=Ro=Ka=fa=$t=0,Ce=jl=null,Do=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var r=31-Xt(l),c=1<<r;e|=t[r],l&=~c}return Kn=e,zu(),i}function Vd(t,e){St=null,N.H=Pu,e===El||e===Xu?(e=uh(),Nt=3):e===ah?(e=uh(),Nt=4):Nt=e===sd?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Qe=e,qt===null&&($t=1,as(t,en(e,t.current)))}function Qd(){var t=N.H;return N.H=Pu,t===null?Pu:t}function Kd(){var t=N.A;return N.A=G0,t}function No(){$t=4,ca||(Ot&4194048)!==Ot&&un.current!==null||(Yi=!0),(fa&134217727)===0&&(Ka&134217727)===0||Zt===null||ga(Zt,Ot,sn,!1)}function Ho(t,e,i){var l=Ct;Ct|=2;var r=Qd(),c=Kd();(Zt!==t||Ot!==e)&&(cs=null,Xi(t,e)),e=!1;var g=$t;t:do try{if(Nt!==0&&qt!==null){var v=qt,x=Qe;switch(Nt){case 8:Co(),g=6;break t;case 3:case 2:case 9:case 6:un.current===null&&(e=!0);var H=Nt;if(Nt=0,Qe=null,Vi(t,v,x,H),i&&Yi){g=0;break t}break;default:H=Nt,Nt=0,Qe=null,Vi(t,v,x,H)}}L0(),g=$t;break}catch(V){Vd(t,V)}while(!0);return e&&t.shellSuspendCounter++,Gn=_a=null,Ct=l,N.H=r,N.A=c,qt===null&&(Zt=null,Ot=0,zu()),g}function L0(){for(;qt!==null;)Zd(qt)}function j0(t,e){var i=Ct;Ct|=2;var l=Qd(),r=Kd();Zt!==t||Ot!==e?(cs=null,os=Yt()+500,Xi(t,e)):Yi=Ra(t,e);t:do try{if(Nt!==0&&qt!==null){e=qt;var c=Qe;e:switch(Nt){case 1:Nt=0,Qe=null,Vi(t,e,c,1);break;case 2:case 9:if(ih(c)){Nt=0,Qe=null,kd(e);break}e=function(){Nt!==2&&Nt!==9||Zt!==t||(Nt=7),Tn(t)},c.then(e,e);break t;case 3:Nt=7;break t;case 4:Nt=5;break t;case 7:ih(c)?(Nt=0,Qe=null,kd(e)):(Nt=0,Qe=null,Vi(t,e,c,7));break;case 5:var g=null;switch(qt.tag){case 26:g=qt.memoizedState;case 5:case 27:var v=qt;if(!g||Rg(g)){Nt=0,Qe=null;var x=v.sibling;if(x!==null)qt=x;else{var H=v.return;H!==null?(qt=H,hs(H)):qt=null}break e}}Nt=0,Qe=null,Vi(t,e,c,5);break;case 6:Nt=0,Qe=null,Vi(t,e,c,6);break;case 8:Co(),$t=6;break t;default:throw Error(s(462))}}X0();break}catch(V){Vd(t,V)}while(!0);return Gn=_a=null,N.H=l,N.A=r,Ct=i,qt!==null?0:(Zt=null,Ot=0,zu(),$t)}function X0(){for(;qt!==null&&!wt();)Zd(qt)}function Zd(t){var e=Ad(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?hs(t):qt=e}function kd(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=dd(i,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=dd(i,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:Wr(e);default:wd(i,e),e=qt=Jf(e,Kn),e=Ad(i,e,Kn)}t.memoizedProps=t.pendingProps,e===null?hs(t):qt=e}function Vi(t,e,i,l){Gn=_a=null,Wr(e),Ci=null,zl=0;var r=e.return;try{if(B0(t,r,e,i,Ot)){$t=1,as(t,en(i,t.current)),qt=null;return}}catch(c){if(r!==null)throw qt=r,c;$t=1,as(t,en(i,t.current)),qt=null;return}e.flags&32768?(zt||l===1?t=!0:Yi||(Ot&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jd(e,t)):hs(e)}function hs(t){var e=t;do{if((e.flags&32768)!==0){Jd(e,ca);return}t=e.return;var i=z0(e.alternate,e,Kn);if(i!==null){qt=i;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);$t===0&&($t=5)}function Jd(t,e){do{var i=C0(t.alternate,t);if(i!==null){i.flags&=32767,qt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){qt=t;return}qt=t=i}while(t!==null);$t=6,qt=null}function Fd(t,e,i,l,r,c,g,v,x){t.cancelPendingCommit=null;do ds();while(ve!==0);if((Ct&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(c=e.lanes|e.childLanes,c|=Mr,tr(t,i,c,g,v,x),t===Zt&&(qt=Zt=null,Ot=0),Li=e,da=t,ji=i,Bo=c,Uo=r,_d=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Z0(In,function(){return tg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,r=Z.p,Z.p=2,g=Ct,Ct|=4;try{N0(t,e,i)}finally{Ct=g,Z.p=r,N.T=l}}ve=1,Wd(),Id(),Pd()}}function Wd(){if(ve===1){ve=0;var t=da,e=Li,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var l=Z.p;Z.p=2;var r=Ct;Ct|=4;try{Ud(e,t);var c=Jo,g=Yf(t.containerInfo),v=c.focusedElem,x=c.selectionRange;if(g!==v&&v&&v.ownerDocument&&Gf(v.ownerDocument.documentElement,v)){if(x!==null&&br(v)){var H=x.start,V=x.end;if(V===void 0&&(V=H),"selectionStart"in v)v.selectionStart=H,v.selectionEnd=Math.min(V,v.value.length);else{var F=v.ownerDocument||document,Y=F&&F.defaultView||window;if(Y.getSelection){var _=Y.getSelection(),pt=v.textContent.length,ht=Math.min(x.start,pt),jt=x.end===void 0?ht:Math.min(x.end,pt);!_.extend&&ht>jt&&(g=jt,jt=ht,ht=g);var B=Hf(v,ht),R=Hf(v,jt);if(B&&R&&(_.rangeCount!==1||_.anchorNode!==B.node||_.anchorOffset!==B.offset||_.focusNode!==R.node||_.focusOffset!==R.offset)){var C=F.createRange();C.setStart(B.node,B.offset),_.removeAllRanges(),ht>jt?(_.addRange(C),_.extend(R.node,R.offset)):(C.setEnd(R.node,R.offset),_.addRange(C))}}}}for(F=[],_=v;_=_.parentNode;)_.nodeType===1&&F.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<F.length;v++){var J=F[v];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ms=!!ko,Jo=ko=null}finally{Ct=r,Z.p=l,N.T=i}}t.current=e,ve=2}}function Id(){if(ve===2){ve=0;var t=da,e=Li,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var l=Z.p;Z.p=2;var r=Ct;Ct|=4;try{Rd(t,e.alternate,e)}finally{Ct=r,Z.p=l,N.T=i}}ve=3}}function Pd(){if(ve===4||ve===3){ve=0,Kt();var t=da,e=Li,i=ji,l=_d;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ve=5:(ve=0,Li=da=null,$d(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ha=null),j(i),e=e.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Se,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=N.T,r=Z.p,Z.p=2,N.T=null;try{for(var c=t.onRecoverableError,g=0;g<l.length;g++){var v=l[g];c(v.value,{componentStack:v.stack})}}finally{N.T=e,Z.p=r}}(ji&3)!==0&&ds(),Tn(t),r=t.pendingLanes,(i&4194090)!==0&&(r&42)!==0?t===zo?Xl++:(Xl=0,zo=t):Xl=0,Vl(0)}}function $d(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,xl(e)))}function ds(t){return Wd(),Id(),Pd(),tg()}function tg(){if(ve!==5)return!1;var t=da,e=Bo;Bo=0;var i=j(ji),l=N.T,r=Z.p;try{Z.p=32>i?32:i,N.T=null,i=Uo,Uo=null;var c=da,g=ji;if(ve=0,Li=da=null,ji=0,(Ct&6)!==0)throw Error(s(331));var v=Ct;if(Ct|=4,Gd(c.current),Cd(c,c.current,g,i),Ct=v,Vl(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Se,c)}catch{}return!0}finally{Z.p=r,N.T=l,$d(t,e)}}function eg(t,e,i){e=en(i,e),e=co(t.stateNode,e,2),t=aa(t,e,2),t!==null&&(Pn(t,2),Tn(t))}function Qt(t,e,i){if(t.tag===3)eg(t,t,i);else for(;e!==null;){if(e.tag===3){eg(e,t,i);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=en(i,t),i=ld(2),l=aa(e,i,2),l!==null&&(ud(i,l,e,t),Pn(l,2),Tn(l));break}}e=e.return}}function Go(t,e,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Y0;var r=new Set;l.set(e,r)}else r=l.get(e),r===void 0&&(r=new Set,l.set(e,r));r.has(i)||(qo=!0,r.add(i),t=V0.bind(null,t,e,i),e.then(t,t))}function V0(t,e,i){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,Zt===t&&(Ot&i)===i&&($t===4||$t===3&&(Ot&62914560)===Ot&&300>Yt()-Oo?(Ct&2)===0&&Xi(t,0):Ro|=i,_i===Ot&&(_i=0)),Tn(t)}function ng(t,e){e===0&&(e=Da()),t=Ei(t,e),t!==null&&(Pn(t,e),Tn(t))}function Q0(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ng(t,i)}function K0(t,e){var i=0;switch(t.tag){case 13:var l=t.stateNode,r=t.memoizedState;r!==null&&(i=r.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(e),ng(t,i)}function Z0(t,e){return ct(t,e)}var gs=null,Qi=null,Yo=!1,ms=!1,_o=!1,Za=0;function Tn(t){t!==Qi&&t.next===null&&(Qi===null?gs=Qi=t:Qi=Qi.next=t),ms=!0,Yo||(Yo=!0,J0())}function Vl(t,e){if(!_o&&ms){_o=!0;do for(var i=!1,l=gs;l!==null;){if(t!==0){var r=l.pendingLanes;if(r===0)var c=0;else{var g=l.suspendedLanes,v=l.pingedLanes;c=(1<<31-Xt(42|t)+1)-1,c&=r&~(g&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,ug(l,c))}else c=Ot,c=ri(l,l===Zt?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Ra(l,c)||(i=!0,ug(l,c));l=l.next}while(i);_o=!1}}function k0(){ag()}function ag(){ms=Yo=!1;var t=0;Za!==0&&(ny()&&(t=Za),Za=0);for(var e=Yt(),i=null,l=gs;l!==null;){var r=l.next,c=ig(l,e);c===0?(l.next=null,i===null?gs=r:i.next=r,r===null&&(Qi=i)):(i=l,(t!==0||(c&3)!==0)&&(ms=!0)),l=r}Vl(t)}function ig(t,e){for(var i=t.suspendedLanes,l=t.pingedLanes,r=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var g=31-Xt(c),v=1<<g,x=r[g];x===-1?((v&i)===0||(v&l)!==0)&&(r[g]=Re(v,e)):x<=e&&(t.expiredLanes|=v),c&=~v}if(e=Zt,i=Ot,i=ri(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===e&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yt(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ra(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(l!==null&&yt(l),j(i)){case 2:case 8:i=mn;break;case 32:i=In;break;case 268435456:i=ai;break;default:i=In}return l=lg.bind(null,t),i=ct(i,l),t.callbackPriority=e,t.callbackNode=i,e}return l!==null&&l!==null&&yt(l),t.callbackPriority=2,t.callbackNode=null,2}function lg(t,e){if(ve!==0&&ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(ds()&&t.callbackNode!==i)return null;var l=Ot;return l=ri(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jd(t,l,e),ig(t,Yt()),t.callbackNode!=null&&t.callbackNode===i?lg.bind(null,t):null)}function ug(t,e){if(ds())return null;jd(t,e,!0)}function J0(){iy(function(){(Ct&6)!==0?ct(pe,k0):ag()})}function Lo(){return Za===0&&(Za=oi()),Za}function sg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Tu(""+t)}function rg(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function F0(t,e,i,l,r){if(e==="submit"&&i&&i.stateNode===r){var c=sg((r[Vt]||null).action),g=l.submitter;g&&(e=(e=g[Vt]||null)?sg(e.formAction):g.getAttribute("formAction"),e!==null&&(c=e,g=null));var v=new Ou("action","action",null,l,r);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var x=g?rg(r,g):new FormData(r);lo(i,{pending:!0,data:x,method:r.method,action:c},null,x)}}else typeof c=="function"&&(v.preventDefault(),x=g?rg(r,g):new FormData(r),lo(i,{pending:!0,data:x,method:r.method,action:c},c,x))},currentTarget:r}]})}}for(var jo=0;jo<Er.length;jo++){var Xo=Er[jo],W0=Xo.toLowerCase(),I0=Xo[0].toUpperCase()+Xo.slice(1);yn(W0,"on"+I0)}yn(jf,"onAnimationEnd"),yn(Xf,"onAnimationIteration"),yn(Vf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(g0,"onTransitionRun"),yn(m0,"onTransitionStart"),yn(p0,"onTransitionCancel"),yn(Qf,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function og(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],r=l.event;l=l.listeners;t:{var c=void 0;if(e)for(var g=l.length-1;0<=g;g--){var v=l[g],x=v.instance,H=v.currentTarget;if(v=v.listener,x!==c&&r.isPropagationStopped())break t;c=v,r.currentTarget=H;try{c(r)}catch(V){ns(V)}r.currentTarget=null,c=x}else for(g=0;g<l.length;g++){if(v=l[g],x=v.instance,H=v.currentTarget,v=v.listener,x!==c&&r.isPropagationStopped())break t;c=v,r.currentTarget=H;try{c(r)}catch(V){ns(V)}r.currentTarget=null,c=x}}}}function Rt(t,e){var i=e[_e];i===void 0&&(i=e[_e]=new Set);var l=t+"__bubble";i.has(l)||(cg(e,t,2,!1),i.add(l))}function Vo(t,e,i){var l=0;e&&(l|=4),cg(i,t,l,e)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[ps]){t[ps]=!0,nf.forEach(function(i){i!=="selectionchange"&&(P0.has(i)||Vo(i,!1,t),Vo(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ps]||(e[ps]=!0,Vo("selectionchange",!1,e))}}function cg(t,e,i,l){switch(Cg(e)){case 2:var r=My;break;case 8:r=Ty;break;default:r=ic}i=r.bind(null,e,i,t),r=void 0,!fr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),l?r!==void 0?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):r!==void 0?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function Ko(t,e,i,l,r){var c=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===r)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===r)return;g=g.return}for(;v!==null;){if(g=fi(v),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=c=g;continue t}v=v.parentNode}}l=l.return}yf(function(){var H=c,V=or(i),F=[];t:{var Y=Kf.get(t);if(Y!==void 0){var _=Ou,pt=t;switch(t){case"keypress":if(Ru(i)===0)break t;case"keydown":case"keyup":_=Zp;break;case"focusin":pt="focus",_=mr;break;case"focusout":pt="blur",_=mr;break;case"beforeblur":case"afterblur":_=mr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Fp;break;case jf:case Xf:case Vf:_=Gp;break;case Qf:_=Ip;break;case"scroll":case"scrollend":_=Up;break;case"wheel":_=$p;break;case"copy":case"cut":case"paste":_=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=xf;break;case"toggle":case"beforetoggle":_=e0}var ht=(e&4)!==0,jt=!ht&&(t==="scroll"||t==="scrollend"),B=ht?Y!==null?Y+"Capture":null:Y;ht=[];for(var R=H,C;R!==null;){var J=R;if(C=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||C===null||B===null||(J=ol(R,B),J!=null&&ht.push(Kl(R,J,C))),jt)break;R=R.return}0<ht.length&&(Y=new _(Y,pt,null,i,V),F.push({event:Y,listeners:ht}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",Y&&i!==rr&&(pt=i.relatedTarget||i.fromElement)&&(fi(pt)||pt[Ye]))break t;if((_||Y)&&(Y=V.window===V?V:(Y=V.ownerDocument)?Y.defaultView||Y.parentWindow:window,_?(pt=i.relatedTarget||i.toElement,_=H,pt=pt?fi(pt):null,pt!==null&&(jt=f(pt),ht=pt.tag,pt!==jt||ht!==5&&ht!==27&&ht!==6)&&(pt=null)):(_=null,pt=H),_!==pt)){if(ht=bf,J="onMouseLeave",B="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ht=xf,J="onPointerLeave",B="onPointerEnter",R="pointer"),jt=_==null?Y:rl(_),C=pt==null?Y:rl(pt),Y=new ht(J,R+"leave",_,i,V),Y.target=jt,Y.relatedTarget=C,J=null,fi(V)===H&&(ht=new ht(B,R+"enter",pt,i,V),ht.target=C,ht.relatedTarget=jt,J=ht),jt=J,_&&pt)e:{for(ht=_,B=pt,R=0,C=ht;C;C=Ki(C))R++;for(C=0,J=B;J;J=Ki(J))C++;for(;0<R-C;)ht=Ki(ht),R--;for(;0<C-R;)B=Ki(B),C--;for(;R--;){if(ht===B||B!==null&&ht===B.alternate)break e;ht=Ki(ht),B=Ki(B)}ht=null}else ht=null;_!==null&&fg(F,Y,_,ht,!1),pt!==null&&jt!==null&&fg(F,jt,pt,ht,!0)}}t:{if(Y=H?rl(H):window,_=Y.nodeName&&Y.nodeName.toLowerCase(),_==="select"||_==="input"&&Y.type==="file")var st=Of;else if(Rf(Y))if(Bf)st=f0;else{st=o0;var Tt=r0}else _=Y.nodeName,!_||_.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&sr(H.elementType)&&(st=Of):st=c0;if(st&&(st=st(t,H))){Df(F,st,i,V);break t}Tt&&Tt(t,Y,H),t==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&ur(Y,"number",Y.value)}switch(Tt=H?rl(H):window,t){case"focusin":(Rf(Tt)||Tt.contentEditable==="true")&&(wi=Tt,wr=H,yl=null);break;case"focusout":yl=wr=wi=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_f(F,i,V);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":_f(F,i,V)}var ft;if(yr)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else bi?Tf(t,i)&&(gt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(gt="onCompositionStart");gt&&(Sf&&i.locale!=="ko"&&(bi||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&bi&&(ft=vf()):($n=V,hr="value"in $n?$n.value:$n.textContent,bi=!0)),Tt=ys(H,gt),0<Tt.length&&(gt=new wf(gt,t,null,i,V),F.push({event:gt,listeners:Tt}),ft?gt.data=ft:(ft=qf(i),ft!==null&&(gt.data=ft)))),(ft=a0?i0(t,i):l0(t,i))&&(gt=ys(H,"onBeforeInput"),0<gt.length&&(Tt=new wf("onBeforeInput","beforeinput",null,i,V),F.push({event:Tt,listeners:gt}),Tt.data=ft)),F0(F,t,H,i,V)}og(F,e)})}function Kl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function ys(t,e){for(var i=e+"Capture",l=[];t!==null;){var r=t,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=ol(t,i),r!=null&&l.unshift(Kl(t,r,c)),r=ol(t,e),r!=null&&l.push(Kl(t,r,c))),t.tag===3)return l;t=t.return}return[]}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fg(t,e,i,l,r){for(var c=e._reactName,g=[];i!==null&&i!==l;){var v=i,x=v.alternate,H=v.stateNode;if(v=v.tag,x!==null&&x===l)break;v!==5&&v!==26&&v!==27||H===null||(x=H,r?(H=ol(i,c),H!=null&&g.unshift(Kl(i,H,x))):r||(H=ol(i,c),H!=null&&g.push(Kl(i,H,x)))),i=i.return}g.length!==0&&t.push({event:e,listeners:g})}var $0=/\r\n?/g,ty=/\u0000|\uFFFD/g;function hg(t){return(typeof t=="string"?t:""+t).replace($0,`
`).replace(ty,"")}function dg(t,e){return e=hg(e),hg(t)===e}function vs(){}function Lt(t,e,i,l,r,c){switch(i){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||yi(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&yi(t,""+l);break;case"className":Su(t,"class",l);break;case"tabIndex":Su(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Su(t,i,l);break;case"style":mf(t,l,c);break;case"data":if(e!=="object"){Su(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Tu(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(e!=="input"&&Lt(t,e,"name",r.name,r,null),Lt(t,e,"formEncType",r.formEncType,r,null),Lt(t,e,"formMethod",r.formMethod,r,null),Lt(t,e,"formTarget",r.formTarget,r,null)):(Lt(t,e,"encType",r.encType,r,null),Lt(t,e,"method",r.method,r,null),Lt(t,e,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Tu(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=vs);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(r.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Tu(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),xu(t,"popover",l);break;case"xlinkActuate":Un(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xu(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Op.get(i)||i,xu(t,i,l))}}function Zo(t,e,i,l,r,c){switch(i){case"style":mf(t,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(r.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof l=="string"?yi(t,l):(typeof l=="number"||typeof l=="bigint")&&yi(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),e=i.slice(2,r?i.length-7:void 0),c=t[Vt]||null,c=c!=null?c[i]:null,typeof c=="function"&&t.removeEventListener(e,c,r),typeof l=="function")){typeof c!="function"&&c!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,l,r);break t}i in t?t[i]=l:l===!0?t.setAttribute(i,""):xu(t,i,l)}}}function Ae(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,r=!1,c;for(c in i)if(i.hasOwnProperty(c)){var g=i[c];if(g!=null)switch(c){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Lt(t,e,c,g,i,null)}}r&&Lt(t,e,"srcSet",i.srcSet,i,null),l&&Lt(t,e,"src",i.src,i,null);return;case"input":Rt("invalid",t);var v=c=g=r=null,x=null,H=null;for(l in i)if(i.hasOwnProperty(l)){var V=i[l];if(V!=null)switch(l){case"name":r=V;break;case"type":g=V;break;case"checked":x=V;break;case"defaultChecked":H=V;break;case"value":c=V;break;case"defaultValue":v=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,e));break;default:Lt(t,e,l,V,i,null)}}ff(t,c,v,x,H,g,r,!1),Eu(t);return;case"select":Rt("invalid",t),l=g=c=null;for(r in i)if(i.hasOwnProperty(r)&&(v=i[r],v!=null))switch(r){case"value":c=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:Lt(t,e,r,v,i,null)}e=c,i=g,t.multiple=!!l,e!=null?pi(t,!!l,e,!1):i!=null&&pi(t,!!l,i,!0);return;case"textarea":Rt("invalid",t),c=r=l=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":r=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Lt(t,e,g,v,i,null)}df(t,l,r,c),Eu(t);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Lt(t,e,x,l,i,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Rt(Ql[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(l=i[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Lt(t,e,H,l,i,null)}return;default:if(sr(e)){for(V in i)i.hasOwnProperty(V)&&(l=i[V],l!==void 0&&Zo(t,e,V,l,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(l=i[v],l!=null&&Lt(t,e,v,l,i,null))}function ey(t,e,i,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,g=null,v=null,x=null,H=null,V=null;for(_ in i){var F=i[_];if(i.hasOwnProperty(_)&&F!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":x=F;default:l.hasOwnProperty(_)||Lt(t,e,_,null,l,F)}}for(var Y in l){var _=l[Y];if(F=i[Y],l.hasOwnProperty(Y)&&(_!=null||F!=null))switch(Y){case"type":c=_;break;case"name":r=_;break;case"checked":H=_;break;case"defaultChecked":V=_;break;case"value":g=_;break;case"defaultValue":v=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(137,e));break;default:_!==F&&Lt(t,e,Y,_,l,F)}}lr(t,g,v,x,H,V,c,r);return;case"select":_=g=v=Y=null;for(c in i)if(x=i[c],i.hasOwnProperty(c)&&x!=null)switch(c){case"value":break;case"multiple":_=x;default:l.hasOwnProperty(c)||Lt(t,e,c,null,l,x)}for(r in l)if(c=l[r],x=i[r],l.hasOwnProperty(r)&&(c!=null||x!=null))switch(r){case"value":Y=c;break;case"defaultValue":v=c;break;case"multiple":g=c;default:c!==x&&Lt(t,e,r,c,l,x)}e=v,i=g,l=_,Y!=null?pi(t,!!i,Y,!1):!!l!=!!i&&(e!=null?pi(t,!!i,e,!0):pi(t,!!i,i?[]:"",!1));return;case"textarea":_=Y=null;for(v in i)if(r=i[v],i.hasOwnProperty(v)&&r!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Lt(t,e,v,null,l,r)}for(g in l)if(r=l[g],c=i[g],l.hasOwnProperty(g)&&(r!=null||c!=null))switch(g){case"value":Y=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(s(91));break;default:r!==c&&Lt(t,e,g,r,l,c)}hf(t,Y,_);return;case"option":for(var pt in i)if(Y=i[pt],i.hasOwnProperty(pt)&&Y!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Lt(t,e,pt,null,l,Y)}for(x in l)if(Y=l[x],_=i[x],l.hasOwnProperty(x)&&Y!==_&&(Y!=null||_!=null))switch(x){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Lt(t,e,x,Y,l,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in i)Y=i[ht],i.hasOwnProperty(ht)&&Y!=null&&!l.hasOwnProperty(ht)&&Lt(t,e,ht,null,l,Y);for(H in l)if(Y=l[H],_=i[H],l.hasOwnProperty(H)&&Y!==_&&(Y!=null||_!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,e));break;default:Lt(t,e,H,Y,l,_)}return;default:if(sr(e)){for(var jt in i)Y=i[jt],i.hasOwnProperty(jt)&&Y!==void 0&&!l.hasOwnProperty(jt)&&Zo(t,e,jt,void 0,l,Y);for(V in l)Y=l[V],_=i[V],!l.hasOwnProperty(V)||Y===_||Y===void 0&&_===void 0||Zo(t,e,V,Y,l,_);return}}for(var B in i)Y=i[B],i.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&Lt(t,e,B,null,l,Y);for(F in l)Y=l[F],_=i[F],!l.hasOwnProperty(F)||Y===_||Y==null&&_==null||Lt(t,e,F,Y,l,_)}var ko=null,Jo=null;function As(t){return t.nodeType===9?t:t.ownerDocument}function gg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Fo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wo=null;function ny(){var t=window.event;return t&&t.type==="popstate"?t===Wo?!1:(Wo=t,!0):(Wo=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,ay=typeof clearTimeout=="function"?clearTimeout:void 0,yg=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof yg<"u"?function(t){return yg.resolve(null).then(t).catch(ly)}:pg;function ly(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function vg(t,e){var i=e,l=0,r=0;do{var c=i.nextSibling;if(t.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<l&&8>l){i=l;var g=t.ownerDocument;if(i&1&&Zl(g.documentElement),i&2&&Zl(g.body),i&4)for(i=g.head,Zl(i),g=i.firstChild;g;){var v=g.nextSibling,x=g.nodeName;g[sl]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=v}}if(r===0){t.removeChild(c),tu(e);return}r--}else i==="$"||i==="$?"||i==="$!"?r++:l=i.charCodeAt(0)-48;else l=0;i=c}while(i);tu(e)}function Io(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Io(i),er(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function uy(t,e,i,l){for(;t.nodeType===1;){var r=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[sl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function sy(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=An(t.nextSibling),t===null))return null;return t}function Po(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ry(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var l=function(){e(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function An(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var $o=null;function Ag(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function bg(t,e,i){switch(e=As(i),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Zl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);er(t)}var rn=new Map,wg=new Set;function bs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=Z.d;Z.d={f:oy,r:cy,D:fy,C:hy,L:dy,m:gy,X:py,S:my,M:yy};function oy(){var t=Zn.f(),e=fs();return t||e}function cy(t){var e=hi(t);e!==null&&e.tag===5&&e.type==="form"?jh(e):Zn.r(t)}var Zi=typeof document>"u"?null:document;function xg(t,e,i){var l=Zi;if(l&&typeof e=="string"&&e){var r=tn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),wg.has(r)||(wg.add(r),t={rel:t,crossOrigin:i,href:e},l.querySelector(r)===null&&(e=l.createElement("link"),Ae(e,"link",t),he(e),l.head.appendChild(e)))}}function fy(t){Zn.D(t),xg("dns-prefetch",t,null)}function hy(t,e){Zn.C(t,e),xg("preconnect",t,e)}function dy(t,e,i){Zn.L(t,e,i);var l=Zi;if(l&&t&&e){var r='link[rel="preload"][as="'+tn(e)+'"]';e==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+tn(i.imageSizes)+'"]')):r+='[href="'+tn(t)+'"]';var c=r;switch(e){case"style":c=ki(t);break;case"script":c=Ji(t)}rn.has(c)||(t=b({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),rn.set(c,t),l.querySelector(r)!==null||e==="style"&&l.querySelector(kl(c))||e==="script"&&l.querySelector(Jl(c))||(e=l.createElement("link"),Ae(e,"link",t),he(e),l.head.appendChild(e)))}}function gy(t,e){Zn.m(t,e);var i=Zi;if(i&&t){var l=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',c=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ji(t)}if(!rn.has(c)&&(t=b({rel:"modulepreload",href:t},e),rn.set(c,t),i.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Jl(c)))return}l=i.createElement("link"),Ae(l,"link",t),he(l),i.head.appendChild(l)}}}function my(t,e,i){Zn.S(t,e,i);var l=Zi;if(l&&t){var r=di(l).hoistableStyles,c=ki(t);e=e||"default";var g=r.get(c);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(kl(c)))v.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":e},i),(i=rn.get(c))&&tc(t,i);var x=g=l.createElement("link");he(x),Ae(x,"link",t),x._p=new Promise(function(H,V){x.onload=H,x.onerror=V}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ws(g,e,l)}g={type:"stylesheet",instance:g,count:1,state:v},r.set(c,g)}}}function py(t,e){Zn.X(t,e);var i=Zi;if(i&&t){var l=di(i).hoistableScripts,r=Ji(t),c=l.get(r);c||(c=i.querySelector(Jl(r)),c||(t=b({src:t,async:!0},e),(e=rn.get(r))&&ec(t,e),c=i.createElement("script"),he(c),Ae(c,"link",t),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(r,c))}}function yy(t,e){Zn.M(t,e);var i=Zi;if(i&&t){var l=di(i).hoistableScripts,r=Ji(t),c=l.get(r);c||(c=i.querySelector(Jl(r)),c||(t=b({src:t,async:!0,type:"module"},e),(e=rn.get(r))&&ec(t,e),c=i.createElement("script"),he(c),Ae(c,"link",t),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(r,c))}}function Sg(t,e,i,l){var r=(r=mt.current)?bs(r):null;if(!r)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=ki(i.href),i=di(r).hoistableStyles,l=i.get(e),l||(l={type:"style",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ki(i.href);var c=di(r).hoistableStyles,g=c.get(t);if(g||(r=r.ownerDocument||r,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,g),(c=r.querySelector(kl(t)))&&!c._p&&(g.instance=c,g.state.loading=5),rn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},rn.set(t,i),c||vy(r,t,i,g.state))),e&&l===null)throw Error(s(528,""));return g}if(e&&l!==null)throw Error(s(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ji(i),i=di(r).hoistableScripts,l=i.get(e),l||(l={type:"script",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ki(t){return'href="'+tn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Eg(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function vy(t,e,i,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),Ae(e,"link",i),he(e),t.head.appendChild(e))}function Ji(t){return'[src="'+tn(t)+'"]'}function Jl(t){return"script[async]"+t}function Mg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+tn(i.href)+'"]');if(l)return e.instance=l,he(l),l;var r=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Ae(l,"style",r),ws(l,i.precedence,t),e.instance=l;case"stylesheet":r=ki(i.href);var c=t.querySelector(kl(r));if(c)return e.state.loading|=4,e.instance=c,he(c),c;l=Eg(i),(r=rn.get(r))&&tc(l,r),c=(t.ownerDocument||t).createElement("link"),he(c);var g=c;return g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),Ae(c,"link",l),e.state.loading|=4,ws(c,i.precedence,t),e.instance=c;case"script":return c=Ji(i.src),(r=t.querySelector(Jl(c)))?(e.instance=r,he(r),r):(l=i,(r=rn.get(c))&&(l=b({},i),ec(l,r)),t=t.ownerDocument||t,r=t.createElement("script"),he(r),Ae(r,"link",l),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,ws(l,i.precedence,t));return e.instance}function ws(t,e,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,c=r,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===e)c=v;else if(c!==r)break}c?c.parentNode.insertBefore(t,c.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function tc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ec(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xs=null;function Tg(t,e,i){if(xs===null){var l=new Map,r=xs=new Map;r.set(i,l)}else r=xs,l=r.get(i),l||(l=new Map,r.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),r=0;r<i.length;r++){var c=i[r];if(!(c[sl]||c[xt]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(e)||"";g=t+g;var v=l.get(g);v?v.push(c):l.set(g,[c])}}return l}function qg(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function Ay(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Rg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function by(){}function wy(t,e,i){if(Fl===null)throw Error(s(475));var l=Fl;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var r=ki(i.href),c=t.querySelector(kl(r));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ss.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=c,he(c);return}c=t.ownerDocument||t,i=Eg(i),(r=rn.get(r))&&tc(i,r),c=c.createElement("link"),he(c);var g=c;g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),Ae(c,"link",i),e.instance=c}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=Ss.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function xy(){if(Fl===null)throw Error(s(475));var t=Fl;return t.stylesheets&&t.count===0&&nc(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&nc(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Ss(){if(this.count--,this.count===0){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Es=null;function nc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Es=new Map,e.forEach(Sy,t),Es=null,Ss.call(t))}function Sy(t,e){if(!(e.state.loading&4)){var i=Es.get(t);if(i)var l=i.get(null);else{i=new Map,Es.set(t,i);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var g=r[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}r=e.instance,g=r.getAttribute("data-precedence"),c=i.get(g)||l,c===l&&i.set(null,r),i.set(g,r),this.count++,l=Ss.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),c?c.parentNode.insertBefore(r,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Wl={$$typeof:P,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function Ey(t,e,i,l,r,c,g,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Dg(t,e,i,l,r,c,g,v,x,H,V,F){return t=new Ey(t,e,i,g,v,x,H,F),e=1,c===!0&&(e|=24),c=je(3,null,null,e),t.current=c,c.stateNode=t,e=Hr(),e.refCount++,t.pooledCache=e,e.refCount++,c.memoizedState={element:l,isDehydrated:i,cache:e},Lr(c),t}function Og(t){return t?(t=Mi,t):Mi}function Bg(t,e,i,l,r,c){r=Og(r),l.context===null?l.context=r:l.pendingContext=r,l=na(e),l.payload={element:i},c=c===void 0?null:c,c!==null&&(l.callback=c),i=aa(t,l,e),i!==null&&(Ze(i,t,e),Tl(i,t,e))}function Ug(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function ac(t,e){Ug(t,e),(t=t.alternate)&&Ug(t,e)}function zg(t){if(t.tag===13){var e=Ei(t,67108864);e!==null&&Ze(e,t,67108864),ac(t,67108864)}}var Ms=!0;function My(t,e,i,l){var r=N.T;N.T=null;var c=Z.p;try{Z.p=2,ic(t,e,i,l)}finally{Z.p=c,N.T=r}}function Ty(t,e,i,l){var r=N.T;N.T=null;var c=Z.p;try{Z.p=8,ic(t,e,i,l)}finally{Z.p=c,N.T=r}}function ic(t,e,i,l){if(Ms){var r=lc(l);if(r===null)Ko(t,e,l,Ts,i),Ng(t,l);else if(Ry(r,t,e,i,l))l.stopPropagation();else if(Ng(t,l),e&4&&-1<qy.indexOf(t)){for(;r!==null;){var c=hi(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=wn(c.pendingLanes);if(g!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var x=1<<31-Xt(g);v.entanglements[1]|=x,g&=~x}Tn(c),(Ct&6)===0&&(os=Yt()+500,Vl(0))}}break;case 13:v=Ei(c,2),v!==null&&Ze(v,c,2),fs(),ac(c,2)}if(c=lc(l),c===null&&Ko(t,e,l,Ts,i),c===r)break;r=c}r!==null&&l.stopPropagation()}else Ko(t,e,l,null,i)}}function lc(t){return t=or(t),uc(t)}var Ts=null;function uc(t){if(Ts=null,t=fi(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=h(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ts=t,null}function Cg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case pe:return 2;case mn:return 8;case In:case nl:return 32;case ai:return 268435456;default:return 32}default:return 32}}var sc=!1,pa=null,ya=null,va=null,Il=new Map,Pl=new Map,Aa=[],qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(t,e){switch(t){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function $l(t,e,i,l,r,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:i,eventSystemFlags:l,nativeEvent:c,targetContainers:[r]},e!==null&&(e=hi(e),e!==null&&zg(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Ry(t,e,i,l,r){switch(e){case"focusin":return pa=$l(pa,t,e,i,l,r),!0;case"dragenter":return ya=$l(ya,t,e,i,l,r),!0;case"mouseover":return va=$l(va,t,e,i,l,r),!0;case"pointerover":var c=r.pointerId;return Il.set(c,$l(Il.get(c)||null,t,e,i,l,r)),!0;case"gotpointercapture":return c=r.pointerId,Pl.set(c,$l(Pl.get(c)||null,t,e,i,l,r)),!0}return!1}function Hg(t){var e=fi(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=h(i),e!==null){t.blockedOn=e,lt(t.priority,function(){if(i.tag===13){var l=Ke();l=M(l);var r=Ei(i,l);r!==null&&Ze(r,i,l),ac(i,l)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=lc(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);rr=l,i.target.dispatchEvent(l),rr=null}else return e=hi(i),e!==null&&zg(e),t.blockedOn=i,!1;e.shift()}return!0}function Gg(t,e,i){qs(t)&&i.delete(e)}function Dy(){sc=!1,pa!==null&&qs(pa)&&(pa=null),ya!==null&&qs(ya)&&(ya=null),va!==null&&qs(va)&&(va=null),Il.forEach(Gg),Pl.forEach(Gg)}function Rs(t,e){t.blockedOn===e&&(t.blockedOn=null,sc||(sc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dy)))}var Ds=null;function Yg(t){Ds!==t&&(Ds=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ds===t&&(Ds=null);for(var e=0;e<t.length;e+=3){var i=t[e],l=t[e+1],r=t[e+2];if(typeof l!="function"){if(uc(l||i)===null)continue;break}var c=hi(i);c!==null&&(t.splice(e,3),e-=3,lo(c,{pending:!0,data:r,method:i.method,action:l},l,r))}}))}function tu(t){function e(x){return Rs(x,t)}pa!==null&&Rs(pa,t),ya!==null&&Rs(ya,t),va!==null&&Rs(va,t),Il.forEach(e),Pl.forEach(e);for(var i=0;i<Aa.length;i++){var l=Aa[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(i=Aa[0],i.blockedOn===null);)Hg(i),i.blockedOn===null&&Aa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var r=i[l],c=i[l+1],g=r[Vt]||null;if(typeof c=="function")g||Yg(i);else if(g){var v=null;if(c&&c.hasAttribute("formAction")){if(r=c,g=c[Vt]||null)v=g.formAction;else if(uc(r)!==null)continue}else v=g.action;typeof v=="function"?i[l+1]=v:(i.splice(l,3),l-=3),Yg(i)}}}function rc(t){this._internalRoot=t}Os.prototype.render=rc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var i=e.current,l=Ke();Bg(i,l,t,e,null,null)},Os.prototype.unmount=rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bg(t.current,2,null,t,null,null),fs(),e[Ye]=null}};function Os(t){this._internalRoot=t}Os.prototype.unstable_scheduleHydration=function(t){if(t){var e=I();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Aa.length&&e!==0&&e<Aa[i].priority;i++);Aa.splice(i,0,t),i===0&&Hg(t)}};var _g=n.version;if(_g!=="19.1.0")throw Error(s(527,_g,"19.1.0"));Z.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(e),t=t!==null?d(t):null,t=t===null?null:t.stateNode,t};var Oy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Se=Bs.inject(Oy),It=Bs}catch{}}return nu.createRoot=function(t,e){if(!o(t))throw Error(s(299));var i=!1,l="",r=ed,c=nd,g=ad,v=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(c=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(v=e.unstable_transitionCallbacks)),e=Dg(t,1,!1,null,null,i,l,r,c,g,v,null),t[Ye]=e.current,Qo(t),new rc(e)},nu.hydrateRoot=function(t,e,i){if(!o(t))throw Error(s(299));var l=!1,r="",c=ed,g=nd,v=ad,x=null,H=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(H=i.formState)),e=Dg(t,1,!0,e,i??null,l,r,c,g,v,x,H),e.context=Og(null),i=e.current,l=Ke(),l=M(l),r=na(l),r.callback=null,aa(i,r,l),i=l,e.current.lanes=i,Pn(e,i),Tn(e),t[Ye]=e.current,Qo(t),new Os(e)},nu.version="19.1.0",nu}var Fg;function Xy(){if(Fg)return fc.exports;Fg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),fc.exports=jy(),fc.exports}var Vy=Xy(),Qy=(()=>{for(var a=new Uint8Array(128),n=0;n<64;n++)a[n<26?n+65:n<52?n+71:n<62?n-4:n*4-205]=n;return u=>{for(var s=u.length,o=new Uint8Array((s-(u[s-1]=="=")-(u[s-2]=="="))*3/4|0),f=0,h=0;f<s;){var A=a[u.charCodeAt(f++)],m=a[u.charCodeAt(f++)],d=a[u.charCodeAt(f++)],b=a[u.charCodeAt(f++)];o[h++]=A<<2|m>>4,o[h++]=m<<4|d>>2,o[h++]=d<<6|b}return o}})(),Ky={version:"3001.0.19"};function Dn(a,n,u){return n>u?Dn(a,u,n):Math.min(Math.max(a,n),u)}var Dt=class re{r=255;g=255;b=255;constructor(n,u,s){this.r=Dn(n,0,255),this.g=Dn(u,0,255),this.b=Dn(s,0,255)}static fromArray(n){return new re(n[0],n[1],n[2])}static fromHex(n){if(typeof n=="number")return new re(n>>16&255,n>>8&255,n>>0&255);if(typeof n=="string"){let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);if(!u)throw new Error("Invalid hex color format");return new re(parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(n,u,s){if(u==0)return new re(255*s,255*s,255*s);let o=(b,q,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?b+(q-b)*6*p:p<1/2?q:p<2/3?b+(q-b)*(2/3-p)*6:b),f=s<.5?s*(1+u):s+u-s*u,h=2*s-f,A=o(h,f,n+1/3),m=o(h,f,n),d=o(h,f,n-1/3);return new re(Math.round(A*255),Math.round(m*255),Math.round(d*255))}static RED=new re(255,0,0);static GREEN=new re(0,255,0);static BLUE=new re(0,0,255);static YELLOW=new re(255,255,0);static MAGENTA=new re(255,0,255);static CYAN=new re(0,255,255);static WHITE=new re(255,255,255);static BLACK=new re(0,0,0);clone(){return new re(this.r,this.g,this.b)}lighten(n){return new re(this.r+n,this.g+n,this.b+n)}darken(n){return this.lighten(-n)}invert(){return new re(255-this.r,255-this.g,255-this.b)}mult(n){return new re(this.r*n.r/255,this.g*n.g/255,this.b*n.b/255)}lerp(n,u){return new re(Je(this.r,n.r,u),Je(this.g,n.g,u),Je(this.b,n.b,u))}toHSL(){let n=this.r/255,u=this.g/255,s=this.b/255,o=Math.max(n,u,s),f=Math.min(n,u,s),h=(o+f)/2,A=h,m=h;if(o==f)h=A=0;else{let d=o-f;switch(A=m>.5?d/(2-o-f):d/(o+f),o){case n:h=(u-s)/d+(u<s?6:0);break;case u:h=(s-n)/d+2;break;case s:h=(n-u)/d+4;break}h/=6}return[h,A,m]}eq(n){return this.r===n.r&&this.g===n.g&&this.b===n.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}};function Ht(...a){if(a.length===0)return new Dt(255,255,255);if(a.length===1){if(a[0]instanceof Dt)return a[0].clone();if(typeof a[0]=="string")return Dt.fromHex(a[0]);if(Array.isArray(a[0])&&a[0].length===3)return Dt.fromArray(a[0])}else if(a.length===2){if(a[0]instanceof Dt)return a[0].clone()}else if(a.length===3||a.length===4)return new Dt(a[0],a[1],a[2]);throw new Error("Invalid color arguments")}var Zy=(a,n,u)=>Dt.fromHSL(a,n,u);function ce(a){return a*Math.PI/180}function Wa(a){return a*180/Math.PI}function Je(a,n,u){if(typeof a=="number"&&typeof n=="number")return a+(n-a)*u;if(a instanceof X&&n instanceof X||a instanceof Dt&&n instanceof Dt)return a.lerp(n,u);throw new Error(`Bad value for lerp(): ${a}, ${n}. Only number, Vec2 and Color is supported.`)}function Rn(a,n,u,s,o){return s+(a-n)/(u-n)*(o-s)}function ky(a,n,u,s,o){return Dn(Rn(a,n,u,s,o),s,o)}var X=class be{x=0;y=0;constructor(n=0,u=n){this.x=n,this.y=u}static fromAngle(n){let u=ce(n);return new be(Math.cos(u),Math.sin(u))}static fromArray(n){return new be(n[0],n[1])}static ZERO=new be(0,0);static ONE=new be(1,1);static LEFT=new be(-1,0);static RIGHT=new be(1,0);static UP=new be(0,-1);static DOWN=new be(0,1);clone(){return new be(this.x,this.y)}add(...n){let u=L(...n);return new be(this.x+u.x,this.y+u.y)}sub(...n){let u=L(...n);return new be(this.x-u.x,this.y-u.y)}scale(...n){let u=L(...n);return new be(this.x*u.x,this.y*u.y)}dist(...n){let u=L(...n);return this.sub(u).len()}sdist(...n){let u=L(...n);return this.sub(u).slen()}static sdist(n,u){let s=n.x-u.x,o=n.y-u.y;return s*s+o*o}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let n=this.len();return n===0?new be(0):this.scale(1/n)}normal(){return new be(this.y,-this.x)}reflect(n){return this.sub(n.scale(2*this.dot(n)))}project(n){return n.scale(n.dot(this)/n.len())}reject(n){return this.sub(this.project(n))}dot(n){return this.x*n.x+this.y*n.y}static dot(n,u){return n.x*u.x+n.y*u.y}cross(n){return this.x*n.y-this.y*n.x}static cross(n,u){return n.x*u.y-n.y*u.x}angle(...n){let u=L(...n);return Wa(Math.atan2(this.y-u.y,this.x-u.x))}angleBetween(...n){let u=L(...n);return Wa(Math.atan2(this.cross(u),this.dot(u)))}lerp(n,u){return new be(Je(this.x,n.x,u),Je(this.y,n.y,u))}slerp(n,u){let s=this.dot(n),o=this.cross(n),f=Math.atan2(o,s);return this.scale(Math.sin((1-u)*f)).add(n.scale(Math.sin(u*f))).scale(1/o)}isZero(){return this.x===0&&this.y===0}toFixed(n){return new be(Number(this.x.toFixed(n)),Number(this.y.toFixed(n)))}transform(n){return n.multVec2(this)}eq(n){return this.x===n.x&&this.y===n.y}bbox(){return new Jt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}};function L(...a){if(a.length===1){if(a[0]instanceof X)return new X(a[0].x,a[0].y);if(Array.isArray(a[0])&&a[0].length===2)return new X(...a[0])}return new X(...a)}var te=class vc{x=0;y=0;w=1;h=1;constructor(n,u,s,o){this.x=n,this.y=u,this.w=s,this.h=o}scale(n){return new vc(this.x+this.w*n.x,this.y+this.h*n.y,this.w*n.w,this.h*n.h)}pos(){return new X(this.x,this.y)}clone(){return new vc(this.x,this.y,this.w,this.h)}eq(n){return this.x===n.x&&this.y===n.y&&this.w===n.w&&this.h===n.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};function oe(a,n,u,s){return new te(a,n,u,s)}var Ys=class Wi{a;b;c;d;constructor(n,u,s,o){this.a=n,this.b=u,this.c=s,this.d=o}mul(n){return new Wi(this.a*n.a+this.b*n.c,this.a*n.b+this.b*n.d,this.c*n.a+this.d*n.c,this.c*n.b+this.d*n.d)}transform(n){return L(this.a*n.x+this.b*n.y,this.c*n.x+this.d*n.y)}get inverse(){let n=this.det;return new Wi(this.d/n,-this.b/n,-this.c/n,this.a/n)}get transpose(){return new Wi(this.a,this.c,this.b,this.d)}get eigenvalues(){let n=this.trace/2,u=this.det,s=n+Math.sqrt(n*n-u),o=n-Math.sqrt(n*n-u);return[s,o]}eigenvectors(n,u){return this.c!=0?[[n-this.d,this.c],[u-this.d,this.c]]:this.b!=0?[[this.b,n-this.a],[this.b,u-this.a]]:Math.abs(this.transform(L(1,0)).x-n)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(n){let u=Math.cos(n),s=Math.sin(n);return new Wi(u,s,-s,u)}static scale(n,u){return new Wi(n,0,0,u)}},lu=class uu{m11;m12;m13;m21;m22;m23;m31;m32;m33;constructor(n,u,s,o,f,h,A,m,d){this.m11=n,this.m12=u,this.m13=s,this.m21=o,this.m22=f,this.m23=h,this.m31=A,this.m32=m,this.m33=d}static fromMat2(n){return new uu(n.a,n.b,0,n.c,n.d,0,0,0,1)}toMat2(){return new Ys(this.m11,this.m12,this.m21,this.m22)}mul(n){return new uu(this.m11*n.m11+this.m12*n.m21+this.m13*n.m31,this.m11*n.m12+this.m12*n.m22+this.m13*n.m32,this.m11*n.m13+this.m12*n.m23+this.m13*n.m33,this.m21*n.m11+this.m22*n.m21+this.m23*n.m31,this.m21*n.m12+this.m22*n.m22+this.m23*n.m32,this.m21*n.m13+this.m22*n.m23+this.m23*n.m33,this.m31*n.m11+this.m32*n.m21+this.m33*n.m31,this.m31*n.m12+this.m32*n.m22+this.m33*n.m32,this.m31*n.m13+this.m32*n.m23+this.m33*n.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(n){let u=Math.cos(n),s=Math.sin(n),o=this.m11,f=this.m12;return this.m11=u*this.m11+s*this.m21,this.m12=u*this.m12+s*this.m22,this.m21=u*this.m21-s*o,this.m22=u*this.m22-s*f,this}scale(n,u){return this.m11*=n,this.m12*=n,this.m21*=u,this.m22*=u,this}get inverse(){let n=this.det;return new uu((this.m22*this.m33-this.m23*this.m32)/n,(this.m13*this.m32-this.m12*this.m33)/n,(this.m12*this.m23-this.m13*this.m22)/n,(this.m23*this.m31-this.m21*this.m33)/n,(this.m11*this.m33-this.m13*this.m31)/n,(this.m13*this.m21-this.m11*this.m23)/n,(this.m21*this.m32-this.m22*this.m31)/n,(this.m12*this.m31-this.m11*this.m32)/n,(this.m11*this.m22-this.m12*this.m21)/n)}get transpose(){return new uu(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},On=class Jn{m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];constructor(n){n&&(this.m=n)}static translate(n){return new Jn([1,0,0,0,0,1,0,0,0,0,1,0,n.x,n.y,0,1])}static scale(n){return new Jn([n.x,0,0,0,0,n.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(n){n=ce(-n);let u=Math.cos(n),s=Math.sin(n);return new Jn([1,0,0,0,0,u,-s,0,0,s,u,0,0,0,0,1])}static rotateY(n){n=ce(-n);let u=Math.cos(n),s=Math.sin(n);return new Jn([u,0,s,0,0,1,0,0,-s,0,u,0,0,0,0,1])}static rotateZ(n){n=ce(-n);let u=Math.cos(n),s=Math.sin(n);return new Jn([u,-s,0,0,s,u,0,0,0,0,1,0,0,0,0,1])}translate(n){return this.m[12]+=this.m[0]*n.x+this.m[4]*n.y,this.m[13]+=this.m[1]*n.x+this.m[5]*n.y,this.m[14]+=this.m[2]*n.x+this.m[6]*n.y,this.m[15]+=this.m[3]*n.x+this.m[7]*n.y,this}scale(n){return this.m[0]*=n.x,this.m[4]*=n.y,this.m[1]*=n.x,this.m[5]*=n.y,this.m[2]*=n.x,this.m[6]*=n.y,this.m[3]*=n.x,this.m[7]*=n.y,this}rotate(n){n=ce(-n);let u=Math.cos(n),s=Math.sin(n),o=this.m[0],f=this.m[1],h=this.m[4],A=this.m[5];return this.m[0]=o*u+f*s,this.m[1]=-o*s+f*u,this.m[4]=h*u+A*s,this.m[5]=-h*s+A*u,this}mult(n){let u=[];for(let s=0;s<4;s++)for(let o=0;o<4;o++)u[s*4+o]=this.m[0*4+o]*n.m[s*4+0]+this.m[1*4+o]*n.m[s*4+1]+this.m[2*4+o]*n.m[s*4+2]+this.m[3*4+o]*n.m[s*4+3];return new Jn(u)}multVec2(n){return new X(n.x*this.m[0]+n.y*this.m[4]+this.m[12],n.x*this.m[1]+n.y*this.m[5]+this.m[13])}getTranslation(){return new X(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new X(u,n/u)}else if(this.m[4]!=0||this.m[5]!=0){let n=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new X(n/u,u)}else return new X(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return Wa(this.m[1]>0?Math.acos(this.m[0]/n):-Math.acos(this.m[0]/n))}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return Wa(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/n):-Math.acos(this.m[4]/n)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let n=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new X(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n),0)}else if(this.m[4]!=0||this.m[5]!=0){let n=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new X(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(n*n))}else return new X(0,0)}invert(){let n=[],u=this.m[10]*this.m[15]-this.m[14]*this.m[11],s=this.m[9]*this.m[15]-this.m[13]*this.m[11],o=this.m[9]*this.m[14]-this.m[13]*this.m[10],f=this.m[8]*this.m[15]-this.m[12]*this.m[11],h=this.m[8]*this.m[14]-this.m[12]*this.m[10],A=this.m[8]*this.m[13]-this.m[12]*this.m[9],m=this.m[6]*this.m[15]-this.m[14]*this.m[7],d=this.m[5]*this.m[15]-this.m[13]*this.m[7],b=this.m[5]*this.m[14]-this.m[13]*this.m[6],q=this.m[4]*this.m[15]-this.m[12]*this.m[7],p=this.m[4]*this.m[14]-this.m[12]*this.m[6],E=this.m[5]*this.m[15]-this.m[13]*this.m[7],w=this.m[4]*this.m[13]-this.m[12]*this.m[5],U=this.m[6]*this.m[11]-this.m[10]*this.m[7],T=this.m[5]*this.m[11]-this.m[9]*this.m[7],D=this.m[5]*this.m[10]-this.m[9]*this.m[6],Q=this.m[4]*this.m[11]-this.m[8]*this.m[7],P=this.m[4]*this.m[10]-this.m[8]*this.m[6],nt=this.m[4]*this.m[9]-this.m[8]*this.m[5];n[0]=this.m[5]*u-this.m[6]*s+this.m[7]*o,n[4]=-(this.m[4]*u-this.m[6]*f+this.m[7]*h),n[8]=this.m[4]*s-this.m[5]*f+this.m[7]*A,n[12]=-(this.m[4]*o-this.m[5]*h+this.m[6]*A),n[1]=-(this.m[1]*u-this.m[2]*s+this.m[3]*o),n[5]=this.m[0]*u-this.m[2]*f+this.m[3]*h,n[9]=-(this.m[0]*s-this.m[1]*f+this.m[3]*A),n[13]=this.m[0]*o-this.m[1]*h+this.m[2]*A,n[2]=this.m[1]*m-this.m[2]*d+this.m[3]*b,n[6]=-(this.m[0]*m-this.m[2]*q+this.m[3]*p),n[10]=this.m[0]*E-this.m[1]*q+this.m[3]*w,n[14]=-(this.m[0]*b-this.m[1]*p+this.m[2]*w),n[3]=-(this.m[1]*U-this.m[2]*T+this.m[3]*D),n[7]=this.m[0]*U-this.m[2]*Q+this.m[3]*P,n[11]=-(this.m[0]*T-this.m[1]*Q+this.m[3]*nt),n[15]=this.m[0]*D-this.m[1]*P+this.m[2]*nt;let G=this.m[0]*n[0]+this.m[1]*n[4]+this.m[2]*n[8]+this.m[3]*n[12];for(let O=0;O<4;O++)for(let z=0;z<4;z++)n[O*4+z]*=1/G;return new Jn(n)}clone(){return new Jn([...this.m])}toString(){return this.m.toString()}};function fm(a,n,u,s=o=>-Math.cos(o)){return a+(s(u)+1)/2*(n-a)}var Jy=1103515245,Fy=12345,Wg=2147483648,hm=class{seed;constructor(a){this.seed=a}gen(){return this.seed=(Jy*this.seed+Fy)%Wg,this.seed/Wg}genNumber(a,n){return a+this.gen()*(n-a)}genVec2(a,n){return new X(this.genNumber(a.x,n.x),this.genNumber(a.y,n.y))}genColor(a,n){return new Dt(this.genNumber(a.r,n.r),this.genNumber(a.g,n.g),this.genNumber(a.b,n.b))}genAny(...a){if(a.length===0)return this.gen();if(a.length===1){if(typeof a[0]=="number")return this.genNumber(0,a[0]);if(a[0]instanceof X)return this.genVec2(L(0,0),a[0]);if(a[0]instanceof Dt)return this.genColor(Ht(0,0,0),a[0])}else if(a.length===2){if(typeof a[0]=="number"&&typeof a[1]=="number")return this.genNumber(a[0],a[1]);if(a[0]instanceof X&&a[1]instanceof X)return this.genVec2(a[0],a[1]);if(a[0]instanceof Dt&&a[1]instanceof Dt)return this.genColor(a[0],a[1])}throw new Error("More than 2 arguments not supported")}},Ac=new hm(Date.now());function Wy(a){return a!=null&&(Ac.seed=a),Ac.seed}function we(...a){return Ac.genAny(...a)}function dm(...a){return Math.floor(we(...a.length>0?a:[2]))}function Iy(a){return we()<=a}function gm(a){for(let n=a.length-1;n>0;n--){let u=Math.floor(Math.random()*(n+1));[a[n],a[u]]=[a[u],a[n]]}return a}function Py(a,n){return a.length<=n?a.slice():gm(a.slice()).slice(0,n)}function $y(a){return a[dm(a.length)]}function mm(a,n){return a.pos.x+a.width>n.pos.x&&a.pos.x<n.pos.x+n.width&&a.pos.y+a.height>n.pos.y&&a.pos.y<n.pos.y+n.height}function t1(a,n){if(a.p1.x===a.p2.x&&a.p1.y===a.p2.y||n.p1.x===n.p2.x&&n.p1.y===n.p2.y)return null;let u=(n.p2.y-n.p1.y)*(a.p2.x-a.p1.x)-(n.p2.x-n.p1.x)*(a.p2.y-a.p1.y);if(u===0)return null;let s=((n.p2.x-n.p1.x)*(a.p1.y-n.p1.y)-(n.p2.y-n.p1.y)*(a.p1.x-n.p1.x))/u,o=((a.p2.x-a.p1.x)*(a.p1.y-n.p1.y)-(a.p2.y-a.p1.y)*(a.p1.x-n.p1.x))/u;return s<0||s>1||o<0||o>1?null:s}function Yc(a,n){let u=t1(a,n);return u?L(a.p1.x+u*(a.p2.x-a.p1.x),a.p1.y+u*(a.p2.y-a.p1.y)):null}function _c(a,n){let u=n.p2.sub(n.p1),s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(u.x!=0){let f=(a.pos.x-n.p1.x)/u.x,h=(a.pos.x+a.width-n.p1.x)/u.x;s=Math.max(s,Math.min(f,h)),o=Math.min(o,Math.max(f,h))}if(u.y!=0){let f=(a.pos.y-n.p1.y)/u.y,h=(a.pos.y+a.height-n.p1.y)/u.y;s=Math.max(s,Math.min(f,h)),o=Math.min(o,Math.max(f,h))}return o>=s&&o>=0&&s<=1}function ks(a,n){return n.x>a.pos.x&&n.x<a.pos.x+a.width&&n.y>a.pos.y&&n.y<a.pos.y+a.height}function pm(a,n){let u=Math.max(a.pos.x,Math.min(n.center.x,a.pos.x+a.width)),s=Math.max(a.pos.y,Math.min(n.center.y,a.pos.y+a.height));return L(u,s).sdist(n.center)<=n.radius*n.radius}function ym(a,n){return vm(n,new He(a.points()))}function Lc(a,n){let u=n.sub(a.p1),s=a.p2.sub(a.p1);if(Math.abs(u.cross(s))>Number.EPSILON)return!1;let o=u.dot(s)/s.dot(s);return o>=0&&o<=1}function bu(a,n){let u=a.p2.sub(a.p1),s=u.dot(u),o=a.p1.sub(n.center),f=2*u.dot(o),h=o.dot(o)-n.radius*n.radius,A=f*f-4*s*h;if(s<=Number.EPSILON||A<0)return!1;if(A==0){let m=-f/(2*s);if(m>=0&&m<=1)return!0}else{let m=(-f+Math.sqrt(A))/(2*s),d=(-f-Math.sqrt(A))/(2*s);if(m>=0&&m<=1||d>=0&&d<=1)return!0}return Js(n,a.p1)}function jc(a,n){if(Ea(n,a.p1)||Ea(n,a.p2))return!0;for(let u=0;u<n.pts.length;u++){let s=n.pts[u],o=n.pts[(u+1)%n.pts.length];if(Yc(a,new We(s,o)))return!0}return!1}function Js(a,n){return a.center.sdist(n)<a.radius*a.radius}function e1(a,n){return a.center.sdist(n.center)<(a.radius+n.radius)*(a.radius+n.radius)}function Fs(a,n){let u=n.pts[n.pts.length-1];for(let s of n.pts){if(bu(new We(u,s),a))return!0;u=s}return Js(a,n.pts[0])?!0:Ea(n,a.center)}function vm(a,n){for(let u=0;u<a.pts.length;u++)if(jc(new We(a.pts[u],a.pts[(u+1)%a.pts.length]),n))return!0;return!!(a.pts.some(u=>Ea(n,u))||n.pts.some(u=>Ea(a,u)))}function Ea(a,n){let u=!1,s=a.pts;for(let o=0,f=s.length-1;o<s.length;f=o++)s[o].y>n.y!=s[f].y>n.y&&n.x<(s[f].x-s[o].x)*(n.y-s[o].y)/(s[f].y-s[o].y)+s[o].x&&(u=!u);return u}function Xc(a,n){n=n.sub(a.center);let u=ce(a.angle),s=Math.cos(u),o=Math.sin(u),f=n.x*s+n.y*o,h=-n.x*o+n.y*s;return f*f/(a.radiusX*a.radiusX)+h*h/(a.radiusY*a.radiusY)<1}function _s(a,n){let u=n.center.sub(a.center),s=ce(a.angle),o=Math.cos(s),f=Math.sin(s),h=u.x*o+u.y*f,A=-u.x*f+u.y*o;return Xc(new Fn(L(),a.radiusX+n.radius,a.radiusY+n.radius,0),L(h,A))}function Am(a,n){let u=a.toMat2().inverse;return n=new We(u.transform(n.p1.sub(a.center)),u.transform(n.p2.sub(a.center))),bu(n,new Fe(L(),1))}function n1(a,n){if(a.radiusX===a.radiusY)return _s(n,new Fe(a.center,a.radiusX));if(n.radiusX===n.radiusY)return _s(a,new Fe(n.center,n.radiusX));let u=new lu(1/a.radiusX**2,0,0,0,1/a.radiusY**2,0,0,0,-1),s=new lu(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),o=a.center.x,f=a.center.y,h=n.center.x,A=n.center.y,m=ce(a.angle),d=ce(n.angle),b=new lu(Math.cos(m),-Math.sin(m),o,Math.sin(m),Math.cos(m),f,0,0,1),q=new lu(Math.cos(d),-Math.sin(d),h,Math.sin(d),Math.cos(d),A,0,0,1),p=b.inverse,E=q.inverse,w=p.transpose.mul(u).mul(p),U=E.transpose.mul(s).mul(E),T=w.m11,D=w.m12,Q=w.m13,P=w.m21,nt=w.m22,G=w.m23,O=w.m31,z=w.m32,K=w.m33,$=U.m11,tt=U.m12,at=U.m13,ut=U.m21,vt=U.m22,At=U.m23,dt=U.m31,N=U.m32,Z=U.m33,it=T*nt*K-T*G*z-D*P*K+D*G*O+Q*P*z-Q*nt*O,rt=(T*nt*Z-T*G*N-T*z*At+T*K*vt-D*P*Z+D*G*dt+D*O*At-D*K*ut+Q*P*N-Q*nt*dt-Q*O*vt+Q*z*ut+P*z*at-P*K*tt-nt*O*at+nt*K*$+G*O*tt-G*z*$)/it,S=(T*vt*Z-T*At*N-D*ut*Z+D*At*dt+Q*ut*N-Q*vt*dt-P*tt*Z+P*at*N+nt*$*Z-nt*at*dt-G*$*N+G*tt*dt+O*tt*At-O*at*vt-z*$*At+z*at*ut+K*$*vt-K*tt*ut)/it,k=($*vt*Z-$*At*N-tt*ut*Z+tt*At*dt+at*ut*N-at*vt*dt)/it;if(rt>=0){let W=-3*S+rt**2,et=3*rt*k+S*rt**2-4*S**2,ot=-27*k**2+18*k*rt*S+rt**2*S**2-4*rt**3*k-4*S**3;return!(W>0&&et<0&&ot>0)}else{let W=-3*S+rt**2,et=-27*k**2+18*k*rt*S+rt**2*S**2-4*rt**3*k-4*S**3;return!(W>0&&et>0)}}function bm(a,n){return Vc(a,new He(n.points()))}function Vc(a,n){let u=a.toMat2().inverse;return n=new He(n.pts.map(s=>u.transform(s.sub(a.center)))),Fs(new Fe(L(),1),n)}function a1(a,n){return a.x===n.x&&a.y===n.y}function i1(a,n){return n instanceof X?a1(n,a.pt):n instanceof Fe?Js(n,a.pt):n instanceof We?Lc(n,a.pt):n instanceof Jt?ks(n,a.pt):n instanceof He?Ea(n,a.pt):n instanceof Fn?Xc(n,a.pt):!1}function l1(a,n){return n instanceof X?Lc(a,n):n instanceof Fe?bu(a,n):n instanceof We?Yc(a,n)!=null:n instanceof Jt?_c(n,a):n instanceof He?jc(a,n):n instanceof Fn?Am(n,a):!1}function u1(a,n){return n instanceof X?Js(a,n):n instanceof Fe?e1(a,n):n instanceof We?bu(n,a):n instanceof Jt?pm(n,a):n instanceof He?Fs(a,n):n instanceof Fn?_s(n,a):!1}function s1(a,n){return n instanceof X?ks(a,n):n instanceof Fe?pm(a,n):n instanceof We?_c(a,n):n instanceof Jt?mm(a,n):n instanceof He?ym(a,n):n instanceof Fn?bm(n,a):!1}function r1(a,n){return n instanceof X?Ea(a,n):n instanceof Fe?Fs(n,a):n instanceof We?jc(n,a):n instanceof Jt?ym(n,a):n instanceof He?vm(n,a):n instanceof Fn?Vc(n,a):!1}function o1(a,n){return n instanceof X?Xc(a,n):n instanceof Fe?_s(a,n):n instanceof We?Am(a,n):n instanceof Jt?bm(a,n):n instanceof He?Vc(a,n):n instanceof Fn?n1(n,a):!1}function wm(a,n,u){let s=a,o=u.p1,f=u.p2,h=n,A=f.sub(o),m=h.cross(A);if(Math.abs(m)<Number.EPSILON)return null;let d=o.sub(s),b=d.cross(A)/m;if(b<=0||b>=1)return null;let q=d.cross(h)/m;if(q<=0||q>=1)return null;let p=A.normal().unit();return n.dot(p)>0&&(p.x*=-1,p.y*=-1),{point:s.add(h.scale(b)),normal:p,fraction:b}}function c1(a,n,u){let s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,f;if(a.x!=0){let h=(u.pos.x-a.x)/n.x,A=(u.pos.x+u.width-a.x)/n.x;f=L(-Math.sign(n.x),0),s=Math.max(s,Math.min(h,A)),o=Math.min(o,Math.max(h,A))}if(a.y!=0){let h=(u.pos.y-a.y)/n.y,A=(u.pos.y+u.height-a.y)/n.y;Math.min(h,A)>s&&(f=L(0,-Math.sign(n.y))),s=Math.max(s,Math.min(h,A)),o=Math.min(o,Math.max(h,A))}return o>=s&&s>=0&&s<=1?{point:a.add(n.scale(s)),normal:f,fraction:s}:null}function xm(a,n,u){let s=a,o=u.center,f=n,h=f.dot(f),A=s.sub(o),m=2*f.dot(A),d=A.dot(A)-u.radius*u.radius,b=m*m-4*h*d;if(h<=Number.EPSILON||b<0)return null;if(b==0){let q=-m/(2*h);if(q>=0&&q<=1){let p=s.add(f.scale(q));return{point:p,normal:p.sub(o),fraction:q}}}else{let q=(-m+Math.sqrt(b))/(2*h),p=(-m-Math.sqrt(b))/(2*h),E=null;if(q>=0&&q<=1&&(E=q),p>=0&&p<=1&&(E=Math.min(p,E??p)),E!=null){let w=s.add(f.scale(E));return{point:w,normal:w.sub(o).unit(),fraction:E}}}return null}function f1(a,n,u){let s=u.pts,o=null,f=s[s.length-1];for(let h=0;h<s.length;h++){let A=s[h],m=wm(a,n,new We(f,A));m&&(!o||o.fraction>m.fraction)&&(o=m),f=A}return o}function h1(a,n,u){let s=u.toMat2(),o=s.inverse,f=o.transform(a.sub(u.center)),h=o.transform(n),A=xm(f,h,new Fe(L(),1));if(A){let m=Ys.rotation(ce(-u.angle)),d=Ys.scale(u.radiusX,u.radiusY).transform(A.point),b=s.transform(A.point).add(u.center),q=b.dist(a)/n.len();return{point:b,normal:m.transform(L(u.radiusY**2*d.x,u.radiusX**2*d.y)).unit(),fraction:q}}return A}function d1(a,n,u,s=64){let o=a,f=n.len(),h=n.scale(1/f),A=0,m=L(Math.floor(a.x),Math.floor(a.y)),d=L(h.x>0?1:-1,h.y>0?1:-1),b=L(Math.abs(1/h.x),Math.abs(1/h.y)),q=L(d.x>0?m.x+1-a.x:a.x-m.x,d.y>0?m.y+1-a.y:a.y-m.y),p=L(b.x<1/0?b.x*q.x:1/0,b.y<1/0?b.y*q.y:1/0),E=-1;for(;A<=s;){let w=u(m);if(w===!0)return{point:o.add(h.scale(A)),normal:L(E===0?-d.x:0,E===1?-d.y:0),fraction:A/f,gridPos:m};if(w)return w;p.x<p.y?(m.x+=d.x,A=p.x,p.x+=b.x,E=0):(m.y+=d.y,A=p.y,p.y+=b.y,E=1)}return null}var g1=class bc{pt;constructor(n){this.pt=n.clone()}transform(n){return new bc(n.multVec2(this.pt))}bbox(){return new Jt(this.pt,0,0)}area(){return 0}clone(){return new bc(this.pt)}collides(n){return i1(this,n)}contains(n){return this.pt.eq(n)}raycast(n,u){return null}random(){return this.pt.clone()}},We=class wc{p1;p2;constructor(n,u){this.p1=n.clone(),this.p2=u.clone()}transform(n){return new wc(n.multVec2(this.p1),n.multVec2(this.p2))}bbox(){return Jt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new wc(this.p1,this.p2)}collides(n){return l1(this,n)}contains(n){return this.collides(n)}raycast(n,u){return wm(n,u,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(we(1)))}},Jt=class xc{pos;width;height;constructor(n,u,s){this.pos=n.clone(),this.width=u,this.height=s}static fromPoints(n,u){return new xc(n.clone(),u.x-n.x,u.y-n.y)}center(){return new X(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(n){return new He(this.points().map(u=>n.multVec2(u)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new xc(this.pos.clone(),this.width,this.height)}distToPoint(n){return Math.sqrt(this.sdistToPoint(n))}sdistToPoint(n){let u=this.pos,s=this.pos.add(this.width,this.height),o=Math.max(u.x-n.x,0,n.x-s.x),f=Math.max(u.y-n.y,0,n.y-s.y);return o*o+f*f}collides(n){return s1(this,n)}contains(n){return this.collides(n)}raycast(n,u){return c1(n,u,this)}random(){return this.pos.add(we(this.width),we(this.height))}},Fe=class Sm{center;radius;constructor(n,u){this.center=n.clone(),this.radius=u}transform(n){return new Fn(this.center,this.radius,this.radius).transform(n)}bbox(){return Jt.fromPoints(this.center.sub(L(this.radius)),this.center.add(L(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new Sm(this.center,this.radius)}collides(n){return u1(this,n)}contains(n){return this.collides(n)}raycast(n,u){return xm(n,u,this)}random(){return this.center.add(X.fromAngle(we(360)).scale(we(this.radius)))}},Fn=class Ii{center;radiusX;radiusY;angle;constructor(n,u,s,o=0){this.center=n.clone(),this.radiusX=u,this.radiusY=s,this.angle=o}static fromMat2(n){let u=n.inverse,s=u.transpose.mul(u),[o,f]=s.eigenvalues,[h,A]=s.eigenvectors(o,f),[m,d]=[1/Math.sqrt(o),1/Math.sqrt(f)];return m>d?new Ii(L(),m,d,Wa(Math.atan2(-h[1],h[0]))):new Ii(L(),d,m,Wa(Math.atan2(-A[1],A[0])))}toMat2(){let n=ce(this.angle),u=Math.cos(n),s=Math.sin(n);return new Ys(u*this.radiusX,-s*this.radiusY,s*this.radiusX,u*this.radiusY)}transform(n){if(this.angle==0&&n.getRotation()==0)return new Ii(n.multVec2(this.center),n.m[0]*this.radiusX,n.m[5]*this.radiusY);{let u=this.toMat2(),s=n.getRotation(),o=n.getScale();u=lu.fromMat2(u).scale(o.x,o.y).rotate(s).toMat2();let f=Ii.fromMat2(u);return f.center=n.multVec2(this.center),f}}bbox(){if(this.angle==0)return Jt.fromPoints(this.center.sub(L(this.radiusX,this.radiusY)),this.center.add(L(this.radiusX,this.radiusY)));{let n=ce(this.angle),u=Math.cos(n),s=Math.sin(n),o=this.radiusX*u,f=this.radiusX*s,h=this.radiusY*s,A=this.radiusY*u,m=Math.sqrt(o*o+h*h),d=Math.sqrt(f*f+A*A);return Jt.fromPoints(this.center.sub(L(m,d)),this.center.add(L(m,d)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Ii(this.center,this.radiusX,this.radiusY,this.angle)}collides(n){return o1(this,n)}contains(n){n=n.sub(this.center);let u=ce(this.angle),s=Math.cos(u),o=Math.sin(u),f=n.x*s+n.y*o,h=-n.x*o+n.y*s;return f*f/(this.radiusX*this.radiusX)+h*h/(this.radiusY*this.radiusY)<1}raycast(n,u){return h1(n,u,this)}random(){return this.center}};function m1(a,n,u,s){let o=n.sub(a),f=s.sub(u),h=o.cross(f);return h<1e-5&&h>-1e-5||(h=u.sub(a).cross(f)/h,h<0||h>1)?null:a.add(o.scale(h))}var He=class su{pts;constructor(n){if(n.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=n}transform(n){return new su(this.pts.map(u=>n.multVec2(u)))}bbox(){let n=L(Number.MAX_VALUE),u=L(-Number.MAX_VALUE);for(let s of this.pts)n.x=Math.min(n.x,s.x),u.x=Math.max(u.x,s.x),n.y=Math.min(n.y,s.y),u.y=Math.max(u.y,s.y);return Jt.fromPoints(n,u)}area(){let n=0,u=this.pts.length;for(let s=0;s<u;s++){let o=this.pts[s],f=this.pts[(s+1)%u];n+=o.x*f.y*.5,n-=f.x*o.y*.5}return Math.abs(n)}clone(){return new su(this.pts.map(n=>n.clone()))}collides(n){return r1(this,n)}contains(n){return this.collides(n)}raycast(n,u){return f1(n,u,this)}random(){return L()}cut(n,u){new We(n,u);let s=[],o=[],f=u.sub(n),h=this.pts[this.pts.length-1],A=h.sub(n),m=f.cross(A)>0;return this.pts.forEach(d=>{A=d.sub(n);let b=f.cross(A)>0;if(m!=b){let q=m1(h,d,n,u);s.push(q),o.push(q),m=b}(b?s:o).push(d),h=d}),[s.length?new su(s):null,o.length?new su(o):null]}};function p1(a,n,u,s){let o=s*s,f=1-s,h=f*f;return a.scale(h).add(n.scale(2*f*s)).add(u.scale(o))}function y1(a,n,u,s){let o=1-s;return n.sub(a).scale(2*o).add(u.sub(n).scale(2*s))}function v1(a,n,u,s){return u.sub(n.scale(2)).add(a).scale(2)}function Qc(a,n,u,s,o){let f=o*o,h=f*o,A=1-o,m=A*A,d=m*A;return a.scale(d).add(n.scale(3*m*o)).add(u.scale(3*A*f)).add(s.scale(h))}function A1(a,n,u,s,o){let f=o*o,h=1-o,A=h*h;return n.sub(a).scale(3*A).add(u.sub(n).scale(6*h*o)).add(s.sub(u).scale(3*f))}function b1(a,n,u,s,o){let f=1-o;return u.sub(n.scale(2)).add(a).scale(6*f).add(s.sub(u.scale(2)).add(n).scale(6*o))}function w1(a,n,u,s,o){let f=.5*(((-o+2)*o-1)*o),h=.5*((3*o-5)*o*o+2),A=.5*(((-3*o+4)*o+1)*o),m=.5*((o-1)*o*o);return a.scale(f).add(n.scale(h)).add(u.scale(A)).add(s.scale(m))}function x1(a,n,u,s,o){let f=.5*((-3*o+4)*o-1),h=.5*((9*o-10)*o),A=.5*((-9*o+8)*o+1),m=.5*((3*o-2)*o);return a.scale(f).add(n.scale(h)).add(u.scale(A)).add(s.scale(m))}function S1(a){let n=Em(a),u=n(1);return s=>{let o=s*u,f=n(o,!0);return a(f)}}function Em(a,n=10,u=10){let s=[0],o=[0],f=1/(n-1)/u,h=0,A=a(0),m=0;for(let d=1;d<n;d++){for(let b=0;b<u;b++){m+=f;let q=a(m),p=q.dist(A);h+=p,A=q}s[d]=h,o[d]=m}return o[n-1]=1,(d,b=!1)=>{if(b){let q=d;if(q<=0)return 0;if(q>=h)return 1;let p=0;for(;s[p+1]<q;)p++;let E=o[p],w=o[p+1],U=s[p],T=s[p+1],D=(q-U)/(T-U);return E+(w-E)*D}else{if(d<=0)return 0;if(d>=1)return s[n-1];let q=0;for(;o[q+1]<d;)q++;let p=o[q],E=o[q+1],w=s[q],U=s[q+1],T=(d-p)/(E-p);return w+(U-w)*T}}}function wu(a,n,u,s){let o=2*a+n-2*s+u,f=-3*a+3*s-2*n-u,h=n,A=a;return m=>{let d=m*m,b=d*m;return o*b+f*d+h*m+A}}function Mm(a,n,u,s,o,f=wu){let h=f(n.x,(1-o)*(u.x-a.x),(1-o)*(s.x-n.x),u.x),A=f(n.y,(1-o)*(u.y-a.y),(1-o)*(s.y-n.y),u.y);return m=>new X(h(m),A(m))}function Ls(a,n,u,s,o=wu){return Mm(a,n,u,s,.5,o)}function E1(a,n,u,s,o=wu){return Ls(s.add(a.sub(n).scale(6)),a,s,a.add(s.sub(u).scale(6)),o)}function M1(a,n,u,s,o,f,h,A=wu){let m=A(n.x,.5*(1-o)*(1+h)*(1+f)*(n.x-a.x)+.5*(1-o)*(1-h)*(1-f)*(u.x-n.x),.5*(1-o)*(1+h)*(1-f)*(u.x-n.x)+.5*(1-o)*(1-h)*(1+f)*(s.x-u.x),u.x),d=A(n.y,.5*(1-o)*(1+h)*(1+f)*(n.y-a.y)+.5*(1-o)*(1-h)*(1-f)*(u.y-n.y),.5*(1-o)*(1+h)*(1-f)*(u.y-n.y)+.5*(1-o)*(1-h)*(1+f)*(s.y-u.y),u.y);return b=>new X(m(b),d(b))}function T1(a,n,u,s){let o=2*a+n-2*s+u,f=-3*a+3*s-2*n+u,h=n;return A=>{let m=A*A;return 3*o*m+2*f*A+h}}function au(a){return 0<=a&&a<=1}function mc(a,n){return Math.abs(a-n)<=Number.EPSILON}function iu(a){return a<0?-Math.pow(-a,1/3):Math.pow(a,1/3)}function q1(a,n,u,s){let o=3*a-6*n+3*u,f=-3*a+3*n,h=a,A=-a+3*n-3*u+s;if(mc(A,0)){if(mc(o,0))return mc(f,0)?[]:[-h/f].filter(au);let T=Math.sqrt(f*f-4*o*h),D=2*o;return[(T-f)/D,(-f-T)/D].filter(au)}o/=A,f/=A,h/=A;let m=(3*f-o*o)/3,d=m/3,b=(2*o*o*o-9*o*f+27*h)/27,q=b/2,p=q*q+d*d*d;if(p<0){let T=-m/3,D=T*T*T,Q=Math.sqrt(D),P=-b/(2*Q),nt=P<-1?-1:P>1?1:P,G=Math.acos(nt),O=2*iu(Q),z=O*Math.cos(G/3)-o/3,K=O*Math.cos((G+2*Math.PI)/3)-o/3,$=O*Math.cos((G+4*Math.PI)/3)-o/3;return[z,K,$].filter(au)}if(p===0){let T=q<0?iu(-q):-iu(q),D=2*T-o/3,Q=-T-o/3;return[D,Q].filter(au)}let E=Math.sqrt(p),w=iu(E-q),U=iu(E+q);return[w-U-o/3].filter(au)}function R1(a,n,u,s,o){let f=q1(a.x-o,n.x-o,u.x-o,s.x-o);return f.length>0?Qc(a,n,u,s,f[0]).y:NaN}function D1(a){if(!a||a.length==0)throw new Error("Need at least one point for easingLinear.");let n=a.length;return u=>{if(u<=0||a.length==1||u<=a[0].x)return a[0].y;for(let s=0;s<n;s++)if(a[s].x>=u)return Rn(u,a[s-1].x,a[s].x,a[s-1].y,a[s].y);return a[a.length-1].y}}function O1(a,n){return u=>R1(L(0,0),a,n,L(1,1),u)}function B1(a,n="jump-end"){let u=1/a,s=n=="jump-start"||n=="jump-both",o=n=="jump-end"||n=="jump-both",f=1/(a+(o?1:0)),h=s?f:0;return A=>{let m=Math.floor(A/u);return h+m*f}}function U1(a,n){let u=Number.MAX_VALUE,s={normal:L(0),distance:0};for(let o of[a,n])for(let f=0;f<o.pts.length;f++){let h=o.pts[f],A=o.pts[(f+1)%o.pts.length].sub(h).normal().unit(),m=Number.MAX_VALUE,d=-Number.MAX_VALUE;for(let E=0;E<a.pts.length;E++){let w=a.pts[E].dot(A);m=Math.min(m,w),d=Math.max(d,w)}let b=Number.MAX_VALUE,q=-Number.MAX_VALUE;for(let E=0;E<n.pts.length;E++){let w=n.pts[E].dot(A);b=Math.min(b,w),q=Math.max(q,w)}let p=Math.min(d,q)-Math.max(m,b);if(p<0)return null;if(p<Math.abs(u)){let E=q-m,w=b-d;u=Math.abs(E)<Math.abs(w)?E:w,s.normal=A,s.distance=u}}return s}function Tm(a,n,u){return(n.x-a.x)*(u.y-a.y)-(n.y-a.y)*(u.x-a.x)>=0}function z1(a){let n=0,u=a[a.length-1];for(let s=0;s<a.length;s++)n+=(a[s].x-u.x)*(a[s].y+u.y),u=a[s];return n<0}function pc(a,n,u,s){let o=s.x-u.x,f=s.y-u.y,h=o*(a.y-u.y)-f*(a.x-u.x),A=o*(n.y-u.y)-f*(n.x-u.x);return h*A>=0}function C1(a,n,u,s){return pc(a,n,u,s)&&pc(a,u,n,s)&&pc(a,s,n,u)}function N1(a,n,u,s){for(let o of a)if(o!==n&&o!==u&&o!==s&&C1(o,n,u,s))return!0;return!1}function H1(a,n,u,s){return Tm(a,n,u)&&!N1(s,a,n,u)}function qm(a){if(a.length<3)return[];if(a.length==3)return[a];let n=[],u=[],s=0;for(let q=0;q<a.length;q++){let p=a[s],E=a[q];(E.x<p.x||E.x==p.x&&E.y<p.y)&&(s=s),n[q]=q+1,u[q]=q-1}n[n.length-1]=0,u[0]=u.length-1,z1(a)||([n,u]=[u,n]);let o=[];for(let q=0;q<a.length;++q)Tm(a[u[q]],a[q],a[n[q]])||o.push(a[q]);let f=[],h=a.length,A=1,m=0,d,b;for(;h>3;){d=n[A],b=u[A];let q=a[b],p=a[A],E=a[d];if(H1(q,p,E,o))f.push([q,p,E]),n[b]=d,u[d]=b,o.splice(o.indexOf(p),1),--h,m=0;else if(++m>h)return[];A=d}return d=n[A],b=u[A],f.push([a[b],a[A],a[d]]),f}function G1(a){if(a.length<3)return!1;let n=a.length-2,u=a.length-1,s=0,o=a[u].sub(a[n]),f=a[s].sub(a[u]),h=o.cross(f);for(;s+1<a.length;)if(n=u,u=s,s++,o=a[u].sub(a[n]),f=a[s].sub(a[u]),o.cross(f)*h<0)return!1;return!0}var Rm=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Ws="topleft",Y1="monospace",js="monospace",Sc="linear",Kc=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],_1=Kc.reduce((a,n)=>a+n.size,0),Dm=2048,L1=Dm*4*_1,j1=Dm*6,X1=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,V1=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Ec=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Mc=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,Q1=new Set(["id","require"]),K1=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Ig=200,Z1=640,k1=65536,Om=Symbol.for("kaplay.cancel"),Bm=class extends Map{lastID=0;push(a){let n=this.lastID;return this.set(n,a),this.lastID++,n}pushd(a){let n=this.push(a);return()=>this.delete(n)}},ei=class Um{paused=!1;cancel;constructor(n){this.cancel=n}static join(n){let u=new Um(()=>n.forEach(s=>s.cancel()));return Object.defineProperty(u,"paused",{get:()=>n[0].paused,set:s=>n.forEach(o=>o.paused=s)}),u.paused=!1,u}static replace(n,u){return n.cancel=()=>u.cancel(),u.paused=n.paused,Object.defineProperty(n,"paused",{get:()=>u.paused,set:s=>u.paused=s}),n}},Ne=class{cancellers=new WeakMap;handlers=new Bm;add(a){function n(...o){if(!s.paused)return a(...o)}let u=this.handlers.pushd(n),s=new ei(u);return this.cancellers.set(n,u),s}addOnce(a){let n=this.add((...u)=>{n.cancel(),a(...u)});return n}next(){return new Promise(a=>this.addOnce(a))}trigger(...a){this.handlers.forEach(n=>{let u=n(...a),s;u===Om&&(s=this.cancellers.get(n))&&s()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},mu=class{handlers={};registers={};on(a,n){return this.handlers[a]||(this.handlers[a]=new Ne),this.handlers[a].add(n)}onOnce(a,n){let u=this.on(a,(...s)=>{u.cancel(),n(...s)});return u}next(a){return new Promise(n=>{this.onOnce(a,(...u)=>n(u[0]))})}trigger(a,...n){this.handlers[a]&&this.handlers[a].trigger(...n)}remove(a){delete this.handlers[a]}clear(){this.handlers={}}numListeners(a){return this.handlers[a]?.numListeners()??0}},J1=a=>a[0]instanceof Dt,F1=a=>a[0]instanceof X,W1=a=>typeof a[0]=="number",zm=class{_items;_compareFn;constructor(a=(n,u)=>n<u){this._compareFn=a,this._items=[]}insert(a){this._items.push(a),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let a=this._items[0],n=this._items.pop();return this._items.length!==0&&(this._items[0]=n,this.moveDown(0)),a}clear(){this._items.splice(0,this._items.length)}moveUp(a){for(;a>0;){let n=Math.floor((a-1)/2);if(!this._compareFn(this._items[a],this._items[n])&&this._items[a]>=this._items[n])break;this.swap(a,n),a=n}}moveDown(a){for(;a<Math.floor(this._items.length/2);){let n=2*a+1;if(n<this._items.length-1&&!this._compareFn(this._items[n],this._items[n+1])&&++n,this._compareFn(this._items[a],this._items[n]))break;this.swap(a,n),a=n}}swap(a,n){[this._items[a],this._items[n]]=[this._items[n],this._items[a]]}get length(){return this._items.length}};function I1(a){let n=window.atob(a),u=n.length,s=new Uint8Array(u);for(let o=0;o<u;o++)s[o]=n.charCodeAt(o);return s.buffer}function P1(a){return I1(a.split(",")[1])}function Zc(a,n){let u=document.createElement("a");u.href=n,u.download=a,u.click()}function Cm(a,n){Zc(a,"data:text/plain;charset=utf-8,"+n)}function $1(a,n){Cm(a,JSON.stringify(n))}function Pg(a,n){let u=URL.createObjectURL(n);Zc(a,u),URL.revokeObjectURL(u)}var Nm=a=>a.match(/^data:\w+\/\w+;base64,.+/),tv=a=>a.split(".").slice(0,-1).join(".");function kc(a,n){if(a===n)return!0;let u=typeof a,s=typeof n;if(u!==s)return!1;if(u==="object"&&s==="object"&&a!==null&&n!==null){if(Array.isArray(a)!==Array.isArray(n))return!1;let o=Object.keys(a),f=Object.keys(n);if(o.length!==f.length)return!1;for(let h of o){let A=a[h],m=n[h];if(!kc(A,m))return!1}return!0}return!1}var $g=new Set,ev=a=>a instanceof Error?a.message:String(a);function nv(a){$g.has(a)||($g.add(a),console.warn(a))}function $i(a,n){nv(`${a} is deprecated. Use ${n} instead.`)}function Tc(a,n){return Number(a.toFixed(n))}function Wt(a,n){return(...u)=>{let s=u.length;if(s===a.length)return a(...u);if(s===n.length)return n(...u)}}var av=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function iv(a){if(typeof a!="string")throw new TypeError("string cannot be undefined or null");let n=[],u=0,s=0;for(;u<a.length;){if(s+=lv(u+s,a),hv(a[u+s])&&s++,ov(a[u+s])&&s++,cv(a[u+s])&&s++,dv(a[u+s])){s++;continue}n.push(a.substring(u,u+s)),u+=s,s=0}return n}function lv(a,n){let u=n[a];if(!uv(u)||a===n.length-1)return 1;let s=u+n[a+1],o=n.substring(a+2,a+5);return tm(s)&&tm(o)?4:sv(s)&&fv(o)?n.slice(a).indexOf(String.fromCodePoint(917631))+2:rv(o)?4:2}function uv(a){return a&&ni(a[0].charCodeAt(0),55296,56319)}function tm(a){return ni(Jc(a),127462,127487)}function sv(a){return ni(Jc(a),127988,127988)}function rv(a){return ni(Jc(a),127995,127999)}function ov(a){return typeof a=="string"&&ni(a.charCodeAt(0),65024,65039)}function cv(a){return typeof a=="string"&&ni(a.charCodeAt(0),8400,8447)}function fv(a){let n=a.codePointAt(0);return typeof a=="string"&&typeof n=="number"&&ni(n,917504,917631)}function hv(a){return typeof a=="string"&&av.includes(a.charCodeAt(0))}function dv(a){return typeof a=="string"&&a.charCodeAt(0)===8205}function Jc(a){let n=a.charCodeAt(0)-55296,u=a.charCodeAt(1)-56320;return(n<<10)+u+65536}function ni(a,n,u){return a>=n&&a<=u}var on=(a,n)=>Array.isArray(a)?a?.includes(n):a===n,qn=(a,n)=>Array.isArray(n)?n.some(u=>a.has(u)):a.has(n),Us=(a,n,u)=>{a.has(n)?a.get(n)?.push(u):a.set(n,[u])},gv=(()=>{let a=0;return()=>a++})(),mv={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}};function Hm(){let a=y.globalOpt.pixelDensity??1,n=y.globalOpt.width,u=y.globalOpt.height,s=y.gfx.ggl.gl.drawingBufferWidth,o=y.gfx.ggl.gl.drawingBufferHeight,f=s/a,h=o/a,A=0,m=0,d=f,b=h;if(y.globalOpt.letterbox){if(!n||!u)throw new Error("Letterboxing requires width and height defined.");let q=f/h,p=n/u;if(q>p){let E=h*p;A=(f-E)/2,d=E}else{let E=f/p;b=E,m=(h-E)/2}}if(y.globalOpt.stretch&&(!y.globalOpt.width||!y.globalOpt.height))throw new Error("Stretching requires width and height defined.");y.gfx.viewport={x:A,y:m,width:d,height:b,scale:(y.gfx.viewport.width+y.gfx.viewport.height)/(y.gfx.width+y.gfx.height)}}function pv(a){return new X(a.x*y.gfx.viewport.width/y.gfx.width,a.y*y.gfx.viewport.height/y.gfx.height)}function kn(a){return new X((a.x-y.gfx.viewport.x)*y.gfx.width/y.gfx.viewport.width,(a.y-y.gfx.viewport.y)*y.gfx.height/y.gfx.viewport.height)}var yv=()=>Ja.lastInputDevice,vv=()=>{let a=Ja.buttons;for(let n in a){let u=a[n].keyboard&&[a[n].keyboard].flat(),s=a[n].keyboardCode&&[a[n].keyboardCode].flat(),o=a[n].gamepad&&[a[n].gamepad].flat(),f=a[n].mouse&&[a[n].mouse].flat();u&&u.forEach(h=>{Us(Ja.buttonsByKey,h,n)}),s&&s.forEach(h=>{Us(Ja.buttonsByKeyCode,h,n)}),o&&o.forEach(h=>{Us(Ja.buttonsByGamepad,h,n)}),f&&f.forEach(h=>{Us(Ja.buttonsByMouse,h,n)})}},fu=class{pressed=new Set([]);pressedRepeat=new Set([]);released=new Set([]);down=new Set([]);update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(a){this.pressed.add(a),this.pressedRepeat.add(a),this.down.add(a)}pressRepeat(a){this.pressedRepeat.add(a)}release(a){this.down.delete(a),this.pressed.delete(a),this.released.add(a)}},Av=class{buttonState=new fu;stickState=new Map},bv=class{dts=[];timer=0;fps=0;tick(a){this.dts.push(a),this.timer+=a,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((n,u)=>n+u)/this.dts.length)),this.dts=[])}},Ja,em=mv,wv=a=>{let n=a.buttons??{};return{canvas:a.canvas,buttons:n,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new bv,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new X(0),mouseDeltaPos:new X(0),keyState:new fu,mouseState:new fu,mergedGamepadState:new Av,gamepadStates:new Map,lastInputDevice:null,buttonState:new fu,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:a.canvas.offsetWidth,lastHeight:a.canvas.offsetHeight,events:new mu}},xv=a=>{if(!a.canvas)throw new Error("Please provide a canvas");let n=wv(a);Ja=n,vv();function u(){return n.dt*n.timeScale}function s(){return n.fixedDt*n.timeScale}function o(){return n.restDt*n.timeScale}function f(){return n.isHidden}function h(){return n.time}function A(){return n.fpsCounter.fps}function m(){return n.numFrames}function d(){return n.canvas.toDataURL()}function b(M){n.canvas.style.cursor=M}function q(){return n.canvas.style.cursor}function p(M){if(M)try{let j=n.canvas.requestPointerLock();j?.catch&&j.catch(I=>console.error(I))}catch(j){console.error(j)}else document.exitPointerLock()}function E(){return!!document.pointerLockElement}function w(M){M.requestFullscreen?M.requestFullscreen():M.webkitRequestFullscreen&&M.webkitRequestFullscreen()}function U(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}function T(M=!0){M?w(n.canvas):U()}function D(){return document.fullscreenElement===n.canvas||document.webkitFullscreenElement===n.canvas}function Q(){n.stopped=!0;let M=Object.entries(Re),j=Object.entries(oi),I=Object.entries(Da);for(let[lt,Mt]of M)n.canvas.removeEventListener(lt,Mt);for(let[lt,Mt]of j)document.removeEventListener(lt,Mt);for(let[lt,Mt]of I)window.removeEventListener(lt,Mt);ll.disconnect()}function P(M,j){n.loopID!==null&&cancelAnimationFrame(n.loopID);let I=0,lt=0,Mt=xt=>{if(n.stopped)return;if(document.visibilityState!=="visible"){n.loopID=requestAnimationFrame(Mt);return}let Vt=xt/1e3,Ye=Math.min(Vt-n.realTime,.25),_e=a.maxFPS?1/a.maxFPS:0;if(n.realTime=Vt,lt+=Ye,lt>_e){if(!n.skipTime){for(I+=lt,n.dt=n.fixedDt,n.restDt=0;I>n.fixedDt;)I-=n.fixedDt,I<n.fixedDt&&(n.restDt=I),M();n.restDt=I,n.dt=lt,n.time+=u(),n.fpsCounter.tick(n.dt)}lt=0,n.skipTime=!1,n.numFrames++,j(ui,si)}n.loopID=requestAnimationFrame(Mt)};Mt(0)}function nt(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function G(){return n.mousePos.clone()}function O(){return n.mouseDeltaPos.clone()}function z(M="left"){return n.mouseState.pressed.has(M)}function K(M="left"){return n.mouseState.down.has(M)}function $(M="left"){return n.mouseState.released.has(M)}function tt(){return n.isMouseMoved}function at(M){return M===void 0?n.keyState.pressed.size>0:qn(n.keyState.pressed,M)}function ut(M){return M===void 0?n.keyState.pressedRepeat.size>0:qn(n.keyState.pressedRepeat,M)}function vt(M){return M===void 0?n.keyState.down.size>0:qn(n.keyState.down,M)}function At(M){return M===void 0?n.keyState.released.size>0:qn(n.keyState.released,M)}function dt(M){return M===void 0?n.mergedGamepadState.buttonState.pressed.size>0:qn(n.mergedGamepadState.buttonState.pressed,M)}function N(M){return M===void 0?n.mergedGamepadState.buttonState.down.size>0:qn(n.mergedGamepadState.buttonState.down,M)}function Z(M){return M===void 0?n.mergedGamepadState.buttonState.released.size>0:qn(n.mergedGamepadState.buttonState.released,M)}function it(M){return M===void 0?n.buttonState.pressed.size>0:qn(n.buttonState.pressed,M)}function rt(M){return M===void 0?n.buttonState.down.size>0:qn(n.buttonState.down,M)}function S(M){return M===void 0?n.buttonState.released.size>0:qn(n.buttonState.released,M)}function k(M){return n.buttons?.[M]}function W(M,j){n.buttons[M]={...n.buttons[M],...j}}function et(M){n.buttonState.press(M),n.events.trigger("buttonPress",M)}function ot(M){n.buttonState.release(M),n.events.trigger("buttonRelease",M)}function Et(M){return n.events.on("resize",M)}let mt=Wt(M=>n.events.on("keyDown",M),(M,j)=>n.events.on("keyDown",I=>on(M,I)&&j(I))),fe=Wt(M=>n.events.on("keyPress",j=>M(j)),(M,j)=>n.events.on("keyPress",I=>on(M,I)&&j(I))),Gt=Wt(M=>n.events.on("keyPressRepeat",M),(M,j)=>n.events.on("keyPressRepeat",I=>on(M,I)&&j(I))),Pe=Wt(M=>n.events.on("keyRelease",M),(M,j)=>n.events.on("keyRelease",I=>on(M,I)&&j(I))),bn=Wt(M=>n.events.on("mouseDown",j=>M(j)),(M,j)=>n.events.on("mouseDown",I=>on(M,I)&&j(I))),qe=Wt(M=>n.events.on("mousePress",j=>M(j)),(M,j)=>n.events.on("mousePress",I=>on(M,I)&&j(I))),Wn=Wt(M=>n.events.on("mouseRelease",j=>M(j)),(M,j)=>n.events.on("mouseRelease",I=>I===M&&j(I)));function ct(M){return n.events.on("mouseMove",()=>M(G(),O()))}function yt(M){return n.events.on("charInput",M)}function wt(M){return n.events.on("touchStart",M)}function Kt(M){return n.events.on("touchMove",M)}function Yt(M){return n.events.on("touchEnd",M)}function Ut(M){return n.events.on("scroll",M)}function pe(M){return n.events.on("hide",M)}function mn(M){return n.events.on("show",M)}let In=Wt(M=>n.events.on("gamepadButtonPress",(j,I)=>M(j,I)),(M,j)=>n.events.on("gamepadButtonPress",(I,lt)=>on(M,I)&&j(I,lt))),nl=Wt(M=>n.events.on("gamepadButtonDown",(j,I)=>M(j,I)),(M,j)=>n.events.on("gamepadButtonDown",(I,lt)=>on(M,I)&&j(I,lt))),ai=Wt(M=>n.events.on("gamepadButtonRelease",(j,I)=>M(j,I)),(M,j)=>n.events.on("gamepadButtonRelease",(I,lt)=>on(M,I)&&j(I,lt)));function al(M,j){return n.events.on("gamepadStick",(I,lt,Mt)=>I===M&&j(lt,Mt))}function ii(M){n.events.on("gamepadConnect",M)}function Se(M){n.events.on("gamepadDisconnect",M)}function It(M){return n.mergedGamepadState.stickState.get(M)||new X(0)}function Ge(){return[...n.charInputted]}function Xt(){return[...n.gamepads]}let qa=Wt(M=>n.events.on("buttonPress",j=>M(j)),(M,j)=>n.events.on("buttonPress",I=>on(M,I)&&j(I))),pn=Wt(M=>n.events.on("buttonDown",j=>M(j)),(M,j)=>n.events.on("buttonDown",I=>on(M,I)&&j(I))),li=Wt(M=>n.events.on("buttonRelease",j=>M(j)),(M,j)=>n.events.on("buttonRelease",I=>on(M,I)&&j(I)));function ui(){n.events.trigger("input"),n.keyState.down.forEach(M=>n.events.trigger("keyDown",M)),n.mouseState.down.forEach(M=>n.events.trigger("mouseDown",M)),n.buttonState.down.forEach(M=>{n.events.trigger("buttonDown",M)}),Ra()}function si(){n.keyState.update(),n.mouseState.update(),n.buttonState.update(),n.mergedGamepadState.buttonState.update(),n.mergedGamepadState.stickState.forEach((M,j)=>{n.mergedGamepadState.stickState.set(j,new X(0))}),n.charInputted=[],n.isMouseMoved=!1,n.mouseDeltaPos=new X(0),n.gamepadStates.forEach(M=>{M.buttonState.update(),M.stickState.forEach((j,I)=>{M.stickState.set(I,new X(0))})})}function wn(M){let j={index:M.index,isPressed:I=>n.gamepadStates.get(M.index)?.buttonState.pressed.has(I)||!1,isDown:I=>n.gamepadStates.get(M.index)?.buttonState.down.has(I)||!1,isReleased:I=>n.gamepadStates.get(M.index)?.buttonState.released.has(I)||!1,getStick:I=>n.gamepadStates.get(M.index)?.stickState.get(I)||L()};return n.gamepads.push(j),n.gamepadStates.set(M.index,{buttonState:new fu,stickState:new Map([["left",new X(0)],["right",new X(0)]])}),j}function ri(M){n.gamepads=n.gamepads.filter(j=>j.index!==M.index),n.gamepadStates.delete(M.index)}function Ra(){for(let M of navigator.getGamepads())M&&!n.gamepadStates.has(M.index)&&wn(M);for(let M of n.gamepads){let j=navigator.getGamepads()[M.index];if(!j)continue;let I=(a.gamepads??{})[j.id]||em[j.id]||em.default,lt=n.gamepadStates.get(M.index);if(lt){for(let Mt=0;Mt<j.buttons.length;Mt++){let xt=I.buttons[Mt],Vt=j.buttons[Mt],Ye=n.buttonsByGamepad.has(xt);if(Vt.pressed){if(lt.buttonState.down.has(xt)){n.events.trigger("gamepadButtonDown",xt,M);continue}n.lastInputDevice="gamepad",Ye&&n.buttonsByGamepad.get(xt)?.forEach(_e=>{n.buttonState.press(_e),n.events.trigger("buttonPress",_e)}),n.mergedGamepadState.buttonState.press(xt),lt.buttonState.press(xt),n.events.trigger("gamepadButtonPress",xt,M)}else lt.buttonState.down.has(xt)&&(Ye&&n.buttonsByGamepad.get(xt)?.forEach(_e=>{n.buttonState.release(_e),n.events.trigger("buttonRelease",_e)}),n.mergedGamepadState.buttonState.release(xt),lt.buttonState.release(xt),n.events.trigger("gamepadButtonRelease",xt,M))}for(let Mt in I.sticks){let xt=I.sticks[Mt];if(!xt)continue;let Vt=new X(j.axes[xt.x],j.axes[xt.y]);lt.stickState.set(Mt,Vt),n.mergedGamepadState.stickState.set(Mt,Vt),n.events.trigger("gamepadStick",Mt,Vt,M)}}}}let Re={},oi={},Da={},ci=a.pixelDensity||1;Re.mousemove=M=>{let j=kn(new X(M.offsetX,M.offsetY)),I=new X(M.movementX,M.movementY);if(D()){let lt=n.canvas.width/ci,Mt=n.canvas.height/ci,xt=window.innerWidth,Vt=window.innerHeight,Ye=xt/Vt,_e=lt/Mt;if(Ye>_e){let Bn=Vt/Mt,ul=(xt-lt*Bn)/2;j.x=Rn(M.offsetX-ul,0,lt*Bn,0,lt),j.y=Rn(M.offsetY,0,Mt*Bn,0,Mt)}else{let Bn=xt/lt,ul=(Vt-Mt*Bn)/2;j.x=Rn(M.offsetX,0,lt*Bn,0,lt),j.y=Rn(M.offsetY-ul,0,Mt*Bn,0,Mt)}}n.events.onOnce("input",()=>{n.isMouseMoved=!0,n.mousePos=j,n.mouseDeltaPos=I,n.events.trigger("mouseMove")})};let Pn=["left","middle","right","back","forward"];Re.mousedown=M=>{n.events.onOnce("input",()=>{let j=Pn[M.button];j&&(n.lastInputDevice="mouse",n.buttonsByMouse.has(j)&&n.buttonsByMouse.get(j)?.forEach(I=>{n.buttonState.press(I),n.events.trigger("buttonPress",I)}),n.mouseState.press(j),n.events.trigger("mousePress",j))})},Re.mouseup=M=>{n.events.onOnce("input",()=>{let j=Pn[M.button];j&&(n.buttonsByMouse.has(j)&&n.buttonsByMouse.get(j)?.forEach(I=>{n.buttonState.release(I),n.events.trigger("buttonRelease",I)}),n.mouseState.release(j),n.events.trigger("mouseRelease",j))})};let tr=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),il={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};Re.keydown=M=>{tr.has(M.key)&&M.preventDefault(),n.events.onOnce("input",()=>{let j=il[M.key]||M.key.toLowerCase(),I=M.code;if(j===void 0)throw new Error(`Unknown key: ${M.key}`);j.length===1?(n.events.trigger("charInput",j),n.charInputted.push(j)):j==="space"&&(n.events.trigger("charInput"," "),n.charInputted.push(" ")),M.repeat?(n.keyState.pressRepeat(j),n.events.trigger("keyPressRepeat",j)):(n.lastInputDevice="keyboard",n.buttonsByKey.has(j)&&n.buttonsByKey.get(j)?.forEach(lt=>{n.buttonState.press(lt),n.events.trigger("buttonPress",lt)}),n.buttonsByKeyCode.has(I)&&n.buttonsByKeyCode.get(I)?.forEach(lt=>{n.buttonState.press(lt),n.events.trigger("buttonPress",lt)}),n.keyState.press(j),n.events.trigger("keyPressRepeat",j),n.events.trigger("keyPress",j))})},Re.keyup=M=>{n.events.onOnce("input",()=>{let j=il[M.key]||M.key.toLowerCase(),I=M.code;n.buttonsByKey.has(j)&&n.buttonsByKey.get(j)?.forEach(lt=>{n.buttonState.release(lt),n.events.trigger("buttonRelease",lt)}),n.buttonsByKeyCode.has(I)&&n.buttonsByKeyCode.get(I)?.forEach(lt=>{n.buttonState.release(lt),n.events.trigger("buttonRelease",lt)}),n.keyState.release(j),n.events.trigger("keyRelease",j)})},Re.touchstart=M=>{M.preventDefault(),n.events.onOnce("input",()=>{let j=[...M.changedTouches],I=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=kn(new X(j[0].clientX-I.x,j[0].clientY-I.y)),n.lastInputDevice="mouse",n.buttonsByMouse.has("left")&&n.buttonsByMouse.get("left")?.forEach(lt=>{n.buttonState.press(lt),n.events.trigger("buttonPress",lt)}),n.mouseState.press("left"),n.events.trigger("mousePress","left")),j.forEach(lt=>{n.events.trigger("touchStart",kn(new X(lt.clientX-I.x,lt.clientY-I.y)),lt)})})},Re.touchmove=M=>{M.preventDefault(),n.events.onOnce("input",()=>{let j=[...M.changedTouches],I=n.canvas.getBoundingClientRect();if(a.touchToMouse!==!1){let lt=n.mousePos;n.mousePos=kn(new X(j[0].clientX-I.x,j[0].clientY-I.y)),n.mouseDeltaPos=n.mousePos.sub(lt),n.events.trigger("mouseMove")}j.forEach(lt=>{n.events.trigger("touchMove",kn(new X(lt.clientX-I.x,lt.clientY-I.y)),lt)})})},Re.touchend=M=>{n.events.onOnce("input",()=>{let j=[...M.changedTouches],I=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=kn(new X(j[0].clientX-I.x,j[0].clientY-I.y)),n.mouseDeltaPos=new X(0,0),n.buttonsByMouse.has("left")&&n.buttonsByMouse.get("left")?.forEach(lt=>{n.buttonState.release(lt),n.events.trigger("buttonRelease",lt)}),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),j.forEach(lt=>{n.events.trigger("touchEnd",kn(new X(lt.clientX-I.x,lt.clientY-I.y)),lt)})})},Re.touchcancel=M=>{n.events.onOnce("input",()=>{let j=[...M.changedTouches],I=n.canvas.getBoundingClientRect();a.touchToMouse!==!1&&(n.mousePos=kn(new X(j[0].clientX-I.x,j[0].clientY-I.y)),n.mouseState.release("left"),n.events.trigger("mouseRelease","left")),j.forEach(lt=>{n.events.trigger("touchEnd",kn(new X(lt.clientX-I.x,lt.clientY-I.y)),lt)})})},Re.wheel=M=>{M.preventDefault(),n.events.onOnce("input",()=>{n.events.trigger("scroll",new X(M.deltaX,M.deltaY))})},Re.contextmenu=M=>M.preventDefault(),oi.visibilitychange=()=>{document.visibilityState==="visible"?(n.skipTime=!0,n.isHidden=!1,n.events.trigger("show")):(n.isHidden=!0,n.events.trigger("hide"))},Da.gamepadconnected=M=>{let j=wn(M.gamepad);n.events.onOnce("input",()=>{n.events.trigger("gamepadConnect",j)})},Da.gamepaddisconnected=M=>{let j=Xt().filter(I=>I.index===M.gamepad.index)[0];ri(M.gamepad),n.events.onOnce("input",()=>{n.events.trigger("gamepadDisconnect",j)})};for(let[M,j]of Object.entries(Re))n.canvas.addEventListener(M,j);for(let[M,j]of Object.entries(oi))document.addEventListener(M,j);for(let[M,j]of Object.entries(Da))window.addEventListener(M,j);let ll=new ResizeObserver(M=>{for(let j of M)if(j.target===n.canvas){if(n.lastWidth===n.canvas.offsetWidth&&n.lastHeight===n.canvas.offsetHeight)return;n.lastWidth=n.canvas.offsetWidth,n.lastHeight=n.canvas.offsetHeight,n.events.onOnce("input",()=>{n.events.trigger("resize")})}});return ll.observe(n.canvas),{state:n,dt:u,fixedDt:s,restDt:o,time:h,run:P,canvas:n.canvas,fps:A,numFrames:m,quit:Q,isHidden:f,setFullscreen:T,isFullscreen:D,setCursor:b,screenshot:d,getGamepads:Xt,getCursor:q,setCursorLocked:p,isCursorLocked:E,isTouchscreen:nt,mousePos:G,mouseDeltaPos:O,isKeyDown:vt,isKeyPressed:at,isKeyPressedRepeat:ut,isKeyReleased:At,isMouseDown:K,isMousePressed:z,isMouseReleased:$,isMouseMoved:tt,isGamepadButtonPressed:dt,isGamepadButtonDown:N,isGamepadButtonReleased:Z,getGamepadStick:It,isButtonPressed:it,isButtonDown:rt,isButtonReleased:S,setButton:W,getButton:k,pressButton:et,releaseButton:ot,charInputted:Ge,onResize:Et,onKeyDown:mt,onKeyPress:fe,onKeyPressRepeat:Gt,onKeyRelease:Pe,onMouseDown:bn,onMousePress:qe,onMouseRelease:Wn,onMouseMove:ct,onCharInput:yt,onTouchStart:wt,onTouchMove:Kt,onTouchEnd:Yt,onScroll:Ut,onHide:pe,onShow:mn,onGamepadButtonDown:nl,onGamepadButtonPress:In,onGamepadButtonRelease:ai,onGamepadStick:al,onGamepadConnect:ii,onGamepadDisconnect:Se,onButtonPress:qa,onButtonDown:pn,onButtonRelease:li,getLastInputDeviceType:yv,events:n.events}};function xe(){return y.app.dt()}function qc(){return y.app.fixedDt()}function Rc(){return y.app.restDt()}var Sv=new X(-1,-1),Ev=new X(0,-1),Mv=new X(1,-1),Tv=new X(-1,0),qv=new X(0,0),Rv=new X(1,0),Dv=new X(-1,1),Ov=new X(0,1),Bv=new X(1,1);function tl(a){switch(a){case"topleft":return Sv;case"top":return Ev;case"topright":return Mv;case"left":return Tv;case"center":return qv;case"right":return Rv;case"botleft":return Dv;case"bot":return Ov;case"botright":return Bv;default:return a}}function Uv(a){switch(a){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}function zv(a){return a.createBuffer(1,1,44100)}var zs=2.5949095,nm=1.70158+1,am=2*Math.PI/3,im=2*Math.PI/4.5,Cs={linear:a=>a,easeInSine:a=>1-Math.cos(a*Math.PI/2),easeOutSine:a=>Math.sin(a*Math.PI/2),easeInOutSine:a=>-(Math.cos(Math.PI*a)-1)/2,easeInQuad:a=>a*a,easeOutQuad:a=>1-(1-a)*(1-a),easeInOutQuad:a=>a<.5?2*a*a:1-Math.pow(-2*a+2,2)/2,easeInCubic:a=>a*a*a,easeOutCubic:a=>1-Math.pow(1-a,3),easeInOutCubic:a=>a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2,easeInQuart:a=>a*a*a*a,easeOutQuart:a=>1-Math.pow(1-a,4),easeInOutQuart:a=>a<.5?8*a*a*a*a:1-Math.pow(-2*a+2,4)/2,easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>1-Math.pow(1-a,5),easeInOutQuint:a=>a<.5?16*a*a*a*a*a:1-Math.pow(-2*a+2,5)/2,easeInExpo:a=>a===0?0:Math.pow(2,10*a-10),easeOutExpo:a=>a===1?1:1-Math.pow(2,-10*a),easeInOutExpo:a=>a===0?0:a===1?1:a<.5?Math.pow(2,20*a-10)/2:(2-Math.pow(2,-20*a+10))/2,easeInCirc:a=>1-Math.sqrt(1-Math.pow(a,2)),easeOutCirc:a=>Math.sqrt(1-Math.pow(a-1,2)),easeInOutCirc:a=>a<.5?(1-Math.sqrt(1-Math.pow(2*a,2)))/2:(Math.sqrt(1-Math.pow(-2*a+2,2))+1)/2,easeInBack:a=>nm*a*a*a-1.70158*a*a,easeOutBack:a=>1+nm*Math.pow(a-1,3)+1.70158*Math.pow(a-1,2),easeInOutBack:a=>a<.5?Math.pow(2*a,2)*((zs+1)*2*a-zs)/2:(Math.pow(2*a-2,2)*((zs+1)*(a*2-2)+zs)+2)/2,easeInElastic:a=>a===0?0:a===1?1:-Math.pow(2,10*a-10)*Math.sin((a*10-10.75)*am),easeOutElastic:a=>a===0?0:a===1?1:Math.pow(2,-10*a)*Math.sin((a*10-.75)*am)+1,easeInOutElastic:a=>a===0?0:a===1?1:a<.5?-(Math.pow(2,20*a-10)*Math.sin((20*a-11.125)*im))/2:Math.pow(2,-20*a+10)*Math.sin((20*a-11.125)*im)/2+1,easeInBounce:a=>1-Cs.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>a<.5?(1-Cs.easeOutBounce(1-2*a))/2:(1+Cs.easeOutBounce(2*a-1))/2},pu=Cs;function Cv(a,n,u){let s=[],o=n;for(s.push(o);o!==a;){if(o=u.get(o),o==null)return null;s.push(o)}return s.reverse()}function Nv(a,n,u){let s=new zm((h,A)=>h.cost<A.cost);s.insert({cost:0,node:n});let o=new Map;o.set(n,n);let f=new Map;for(f.set(n,0);s.length!==0;){let h=s.remove()?.node;if(h===u)break;let A=a.getNeighbours(h);for(let m of A){let d=(f.get(h)||0)+a.getCost(h,m)+a.getHeuristic(m,u);(!f.has(m)||d<f.get(m))&&(f.set(m,d),s.insert({cost:d,node:m}),o.set(m,h))}}return Cv(n,u,o)}var Hv=class{a;b;polygon;constructor(a,n,u){this.a=a,this.b=n,this.polygon=new WeakRef(u)}isLeft(a,n){return(this.b.x-this.a.x)*(n-this.a.y)-(a-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},Gv=class{_edges;_centroid;_id;constructor(a){this._id=a}get id(){return this._id}set edges(a){this._edges=a;let n=0,u=0,s=0;for(let o of this._edges){o.polygon=new WeakRef(this);let f=o.a.x*o.b.y-o.a.y*o.b.x;n+=(o.a.x+o.b.x)*f,u+=(o.a.y+o.b.y)*f,s+=f}s/=2,this._centroid=L(n/(6*s),u/(6*s))}get edges(){return this._edges}get centroid(){return this._centroid}contains(a){let n=!1;for(let u of this.edges)u.b.y>a.y!=u.a.y>a.y&&a.x<(u.a.x-u.b.x)*(a.y-u.b.y)/(u.a.y-u.b.y)+u.b.x&&(n=!n);return n}},Yv=class{_polygons;_pointCache;_edgeCache;constructor(){this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(a){let n=this._pointCache[`${a.x}_${a.y}`];return n||(n=a.clone(),this._pointCache[`${a.x}_${a.y}`]=n,n)}_addEdge(a){let n=`${a.a.x}_${a.a.y}-${a.b.x}_${a.b.y}`;return this._edgeCache[n]=a,a}_findEdge(a,n){let u=`${a.x}_${a.y}-${n.x}_${n.y}`;return this._edgeCache[u]}_findCommonEdge(a,n){for(let u of a.edges){let s=this._findEdge(u.b,u.a);if(s&&s.polygon.deref().id===n.id)return s}return null}addPolygon(a){let n=new Gv(this._polygons.length),u=a.map((s,o)=>new Hv(s,a[(o+1)%a.length],n));n.edges=u,this._polygons.push(n);for(let s of n.edges)this._addEdge(s);return n}addRect(a,n){let u=this._addPoint(a),s=this._addPoint(a.add(n.x,0)),o=this._addPoint(a.add(n)),f=this._addPoint(a.add(0,n.y));return this.addPolygon([u,s,o,f])}_getLocation(a){for(let n of this._polygons)if(n.contains(a))return n;return null}getNeighbours(a){let n=[];for(let u of this._polygons[a].edges){let s=this._findEdge(u.b,u.a);if(s){let o=s.polygon.deref();o&&n.push(o.id)}}return n}getCost(a,n){return 1}getHeuristic(a,n){let u=this._polygons[a],s=this._polygons[n],o=u.centroid.x-s.centroid.x,f=u.centroid.y-s.centroid.y;return Math.sqrt(o*o+f*f)}getPath(a,n){return a===void 0||n===void 0?[]:a===n?[a,n]:Nv(this,a,n)}getWaypointPath(a,n,u){let s=u?.type||"centroids",o=this._getLocation(a),f=this._getLocation(n);if(o===void 0||f===void 0)return[];let h=this.getPath(o.id,f.id);if(!h)return[];if(s==="edges"){let A=[];for(let m=1;m<h.length;m++){let d=this._polygons[h[m-1]],b=this._polygons[h[m]],q=this._findCommonEdge(d,b);A.push(q.middle.add(b.centroid.sub(q.middle).unit().scale(4)))}return[a,...A,n]}else return[a,...h.slice(1,-1).map(A=>this._polygons[A].centroid),n]}};function hu(a){let n=new On;return a.pos&&n.translate(a.pos),a.scale&&n.scale(a.scale),a.angle&&n.rotate(a.angle),a.parent?n.mult(a.parent.transform):n}function _v(a){return new X(a.x/Te()*2-1,-a.y/Oe()*2+1)}function ru(a,n,u,s,o,f=1){s=ce(s%360),o=ce(o%360),o<=s&&(o+=Math.PI*2);let h=[],A=Math.ceil((o-s)/ce(8)*f),m=(o-s)/A,d=L(Math.cos(s),Math.sin(s)),b=L(Math.cos(m),Math.sin(m));for(let q=0;q<=A;q++)h.push(a.add(n*d.x,u*d.y)),d=L(d.x*b.x-d.y*b.y,d.x*b.y+d.y*b.x);return h}function Lv(...a){let n=Ht(...a),u=a[3]??1;y.gfx.bgColor=n,y.gfx.bgAlpha=u,y.gfx.ggl.gl.clearColor(n.r/255,n.g/255,n.b/255,u)}function jv(){return y.gfx.bgColor?.clone?.()??null}function ae(...a){if(a[0]===void 0)return;let n=L(...a);n.x===0&&n.y===0||y.gfx.transform.translate(n)}function cn(){y.gfx.transformStack.push(y.gfx.transform.clone())}function Xv(a){y.gfx.transform=a.clone()}function yu(...a){if(a[0]===void 0)return;let n=L(...a);n.x===1&&n.y===1||y.gfx.transform.scale(n)}function Pi(a){a&&y.gfx.transform.rotate(a)}function ke(){y.gfx.transformStack.length>0&&(y.gfx.transform=y.gfx.transformStack.pop())}function fn(){y.gfx.renderer.flush()}function Te(){return y.gfx.width}function Oe(){return y.gfx.height}function Gm(){return(y.gfx.viewport.width+y.gfx.viewport.height)/(y.gfx.width+y.gfx.height)}function Xs(){return L(Te()/2,Oe()/2)}var Vv=class{lastTextureId=0;textures=[];bigTextures=[];texturesPosition=new Map;canvas;c2d;x=0;y=0;curHeight=0;gfx;padding;constructor(a,n,u,s){this.gfx=a,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=u,this.textures=[Sa.fromImage(a,this.canvas)],this.bigTextures=[],this.padding=s;let o=this.canvas.getContext("2d");if(!o)throw new Error("Failed to get 2d context");this.c2d=o}addSingle(a){let n=Sa.fromImage(this.gfx,a);return this.bigTextures.push(n),[n,new te(0,0,1,1),0]}add(a){let n=a.width+this.padding*2,u=a.height+this.padding*2;if(n>this.canvas.width||u>this.canvas.height)return this.addSingle(a);this.x+n>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+u>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Sa.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let s=this.textures[this.textures.length-1],o=new X(this.x+this.padding,this.y+this.padding);return this.x+=n,u>this.curHeight&&(this.curHeight=u),a instanceof ImageData?this.c2d.putImageData(a,o.x,o.y):this.c2d.drawImage(a,o.x,o.y),s.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:o,size:new X(a.width,a.height),texture:s}),this.lastTextureId++,[s,new te(o.x/this.canvas.width,o.y/this.canvas.height,a.width/this.canvas.width,a.height/this.canvas.height),this.lastTextureId-1]}free(){for(let a of this.textures)a.free();for(let a of this.bigTextures)a.free()}};function dn(a){return typeof a!="string"||Nm(a)?a:y.assets.urlPrefix+a}var gn=class Ym{loaded=!1;data=null;error=null;onLoadEvents=new Ne;onErrorEvents=new Ne;onFinishEvents=new Ne;constructor(n){n.then(u=>{this.loaded=!0,this.data=u,this.onLoadEvents.trigger(u)}).catch(u=>{if(this.error=u,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(u);else throw u}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(n){let u=new Ym(Promise.resolve(n));return u.data=n,u.loaded=!0,u}onLoad(n){return this.loaded&&this.data?n(this.data):this.onLoadEvents.add(n),this}onError(n){return this.loaded&&this.error?n(this.error):this.onErrorEvents.add(n),this}onFinish(n){return this.loaded?n():this.onFinishEvents.add(n),this}then(n){return this.onLoad(n)}catch(n){return this.onError(n)}finally(n){return this.onFinish(n)}},Fi=class{assets=new Map;lastUID=0;add(a,n){let u=a??this.lastUID+++"",s=new gn(n);return this.assets.set(u,s),s}addLoaded(a,n){let u=a??this.lastUID+++"",s=gn.loaded(n);return this.assets.set(u,s),s}get(a){return this.assets.get(a)}progress(){if(this.assets.size===0)return 1;let a=0;return this.assets.forEach(n=>{n.loaded&&a++}),a/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(a=>this.assets.get(a).error!==null).map(a=>[a,this.assets.get(a)])}};function Fc(a){return fetch(a).then(n=>{if(!n.ok)throw new Error(`Failed to fetch "${a}"`);return n})}function Is(a){return Fc(a).then(n=>n.json())}function Qv(a){return Fc(a).then(n=>n.text())}function Kv(a){return Fc(a).then(n=>n.arrayBuffer())}function Zv(a){return a!==void 0&&(y.assets.urlPrefix=a),y.assets.urlPrefix}function kv(a,n){return y.assets.custom.add(a,Is(dn(n)))}function Ps(a){let n=new Image;return n.crossOrigin="anonymous",n.src=a,new Promise((u,s)=>{n.onload=()=>u(n),n.onerror=()=>s(new Error(`Failed to load image from "${a}"`))})}function Ia(){let a=[y.assets.sprites,y.assets.sounds,y.assets.shaders,y.assets.fonts,y.assets.bitmapFonts,y.assets.custom];return a.reduce((n,u)=>n+u.progress(),0)/a.length}function _m(){return[y.assets.sprites,y.assets.sounds,y.assets.shaders,y.assets.fonts,y.assets.bitmapFonts,y.assets.custom].reduce((a,n)=>a.concat(n.getFailedAssets()),[])}function Jv(a){return y.assets.custom.get(a)??null}function Dc(a){return y.assets.custom.add(null,a)}var Fv=(a,n)=>({urlPrefix:"",sprites:new Fi,fonts:new Fi,bitmapFonts:new Fi,sounds:new Fi,shaders:new Fi,custom:new Fi,music:{},packer:new Vv(a,2048,2048,n),loaded:!1}),Wv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Ma=class ou{tex;frames=[new te(0,0,1,1)];anims={};slice9=null;constructor(n,u,s={},o=null){this.tex=n,u&&(this.frames=u),this.anims=s,this.slice9=o}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(n,u={}){return typeof n=="string"?ou.fromURL(n,u):Promise.resolve(ou.fromImage(n,u))}static fromImage(n,u={}){let[s,o]=u.singular?y.assets.packer.addSingle(n):y.assets.packer.add(n),f=u.frames?u.frames.map(h=>new te(o.x+h.x*o.w,o.y+h.y*o.h,h.w*o.w,h.h*o.h)):jm(u.sliceX||1,u.sliceY||1,o.x,o.y,o.w,o.h);return new ou(s,f,u.anims,u.slice9)}static fromURL(n,u={}){return Ps(n).then(s=>ou.fromImage(s,u))}};function Ns(a){if(typeof a=="string"){let n=Lm(a);if(n)return n;if(Ia()<1)return null;throw new Error(`Sprite not found: ${a}`)}else{if(a instanceof Ma)return gn.loaded(a);if(a instanceof gn)return a;throw new Error(`Invalid sprite: ${a}`)}}function Lm(a){return y.assets.sprites.get(a)??null}function du(a,n,u={sliceX:1,sliceY:1,anims:{}}){return n=dn(n),Array.isArray(n)?n.some(s=>typeof s=="string")?y.assets.sprites.add(a,Promise.all(n.map(s=>typeof s=="string"?Ps(s):Promise.resolve(s))).then(s=>lm(s,u))):y.assets.sprites.addLoaded(a,lm(n,u)):typeof n=="string"?y.assets.sprites.add(a,Ma.from(n,u)):y.assets.sprites.addLoaded(a,Ma.fromImage(n,u))}function jm(a=1,n=1,u=0,s=0,o=1,f=1){let h=[],A=o/a,m=f/n;for(let d=0;d<n;d++)for(let b=0;b<a;b++)h.push(new te(u+b*A,s+d*m,A,m));return h}function lm(a,n={}){let u=document.createElement("canvas"),s=a[0].width,o=a[0].height;u.width=s*a.length,u.height=o;let f=u.getContext("2d");if(!f)throw new Error("Failed to create canvas context");a.forEach((A,m)=>{A instanceof ImageData?f.putImageData(A,m*s,0):f.drawImage(A,m*s,0)});let h=f.getImageData(0,0,a.length*s,o);return Ma.fromImage(h,{...n,sliceX:a.length,sliceY:1})}function Iv(a="bean"){return du(a,Wv)}function Pv(a,n,u){n=dn(n),u=dn(u),typeof n=="string"&&!u&&(u=tv(n)+".json");let s=typeof u=="string"?Is(u):Promise.resolve(u);return y.assets.sprites.add(a,s.then(o=>{let f=o.meta.size,h=o.frames.map(m=>new te(m.frame.x/f.w,m.frame.y/f.h,m.frame.w/f.w,m.frame.h/f.h)),A={};for(let m of o.meta.frameTags)m.from===m.to?A[m.name]=m.from:A[m.name]={from:m.from,to:m.to,speed:10,loop:!0,pingpong:m.direction==="pingpong"};return Ma.from(n,{frames:h,anims:A})}))}var Hs=class{fontface;filter=Sc;outline=null;size=64;constructor(a,n={}){if(this.fontface=a,this.filter=n.filter??Sc,this.size=n.size??64,this.size>256)throw new Error("Max font size: 256");n.outline&&(this.outline={width:1,color:Ht(0,0,0)},typeof n.outline=="number"?this.outline.width=n.outline:typeof n.outline=="object"&&(n.outline.width&&(this.outline.width=n.outline.width),n.outline.color&&(this.outline.color=n.outline.color)))}};function Xm(a){if(!a)return Xm(y.globalOpt.font??Y1);if(typeof a=="string"){let n=Qm(a),u=Vm(a);if(n)return n.data??n;if(u)return u.data??u;if(document.fonts.check(`64px ${a}`))return a;if(Ia()<1)return null;throw new Error(`Font not found: ${a}`)}else if(a instanceof gn)return a.data?a.data:a;return a}function Vm(a){return y.assets.fonts.get(a)??null}function $v(a,n,u={}){let s=dn(n),o=new FontFace(a,typeof n=="string"?`url(${s})`:s);return document.fonts.add(o),y.assets.fonts.add(a,o.load().catch(f=>{throw new Error(`Failed to load font from "${s}": ${f}`)}).then(f=>new Hs(f,u)))}function tA(a,n,u,s){let o=a.width/n,f={},h=s.split("").entries();for(let[A,m]of h)f[m]=new te(A%o*n,Math.floor(A/o)*u,n,u);return{tex:a,map:f,size:u}}function Qm(a){return y.assets.bitmapFonts.get(a)??null}function eA(a,n,u,s,o={}){let f=dn(n);return y.assets.bitmapFonts.add(a,Ps(f).then(h=>tA(Sa.fromImage(y.gfx.ggl,h,o),u,s,o.chars??Rm)))}function nA(a,n){return n=dn(n),y.assets.sprites.add(a,new Promise(async u=>{let s=typeof n=="string"?await Is(n):n,o=await Promise.all(s.frames.map(Ps)),f=document.createElement("canvas");f.width=s.width,f.height=s.height*s.frames.length;let h=f.getContext("2d");if(!h)throw new Error("Failed to create canvas context");o.forEach((m,d)=>{h.drawImage(m,0,d*s.height)});let A=await du(null,f,{sliceY:s.frames.length,anims:s.anims});u(A)}))}var aA=class{ctx;glProgram;constructor(a,n,u,s){this.ctx=a,a.onDestroy(()=>this.free());let o=a.gl,f=o.createShader(o.VERTEX_SHADER),h=o.createShader(o.FRAGMENT_SHADER);if(!f||!h)throw new Error("Failed to create shader");o.shaderSource(f,n),o.shaderSource(h,u),o.compileShader(f),o.compileShader(h);let A=o.createProgram();if(this.glProgram=A,o.attachShader(A,f),o.attachShader(A,h),s.forEach((m,d)=>o.bindAttribLocation(A,d,m)),o.linkProgram(A),!o.getProgramParameter(A,o.LINK_STATUS)){let m=o.getShaderInfoLog(f);if(m)throw new Error("VERTEX SHADER "+m);let d=o.getShaderInfoLog(h);if(d)throw new Error("FRAGMENT SHADER "+d)}o.deleteShader(f),o.deleteShader(h)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(a){let n=this.ctx.gl;for(let u in a){let s=a[u],o=n.getUniformLocation(this.glProgram,u);if(typeof s=="number")n.uniform1f(o,s);else if(s instanceof On)n.uniformMatrix4fv(o,!1,new Float32Array(s.m));else if(s instanceof Dt)n.uniform3f(o,s.r,s.g,s.b);else if(s instanceof X)n.uniform2f(o,s.x,s.y);else if(Array.isArray(s))s[0],W1(s)?n.uniform1fv(o,s):F1(s)?n.uniform2fv(o,s.map(f=>[f.x,f.y]).flat()):J1(s)&&n.uniform3fv(o,s.map(f=>[f.r,f.g,f.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}};function Wc(a,n=Ec,u=Mc){let s=X1.replace("{{user}}",n??Ec),o=V1.replace("{{user}}",u??Mc);try{return new aA(a,s,o,Kc.map(f=>f.name))}catch(f){let h=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,A=ev(f).match(h);if(!A?.groups)throw f;let m=Number(A.groups.line)-14,d=A.groups.msg.trim(),b=A.groups.type.toLowerCase();throw new Error(`${b} shader line ${m}: ${d}`)}}function iA(a){if(!a)return y.gfx.defShader;if(typeof a=="string"){let n=Km(a);if(n)return n.data??n;if(Ia()<1)return null;throw new Error(`Shader not found: ${a}`)}else if(a instanceof gn)return a.data?a.data:a;return a}function Km(a){return y.assets.shaders.get(a)??null}function lA(a,n,u){return y.assets.shaders.addLoaded(a,Wc(y.gfx.ggl,n,u))}function uA(a,n,u){n=dn(n),u=dn(u);let s=f=>f?Qv(f):Promise.resolve(null),o=Promise.all([s(n),s(u)]).then(([f,h])=>Wc(y.gfx.ggl,f,h));return y.assets.shaders.add(a,o)}var vu=class Gs{buf;constructor(n){this.buf=n}static fromArrayBuffer(n){return new Promise((u,s)=>y.audio.ctx.decodeAudioData(n,u,s)).then(u=>new Gs(u))}static fromURL(n){return Nm(n)?Gs.fromArrayBuffer(P1(n)):Kv(n).then(u=>Gs.fromArrayBuffer(u))}};function sA(a){if(typeof a=="string"){let n=Zm(a);if(n)return n;if(Ia()<1)return null;throw new Error(`Sound not found: ${a}`)}else{if(a instanceof vu)return gn.loaded(a);if(a instanceof gn)return a;throw new Error(`Invalid sound: ${a}`)}}function Zm(a){return y.assets.sounds.get(a)??null}function rA(a,n){return n=dn(n),y.assets.sounds.add(a,typeof n=="string"?vu.fromURL(n):vu.fromArrayBuffer(n))}function oA(a,n){let u=dn(n),s=new Audio(u);return s.preload="auto",y.assets.music[a]=u}function km(a,n){return a=dn(a),Dc(typeof n=="string"?new Promise((u,s)=>{Is(n).then(o=>{km(a,o).then(u).catch(s)})}):Ma.from(a).then(u=>{let s={};for(let o in n){let f=n[o],h=u.frames[0],A=2048*h.w,m=2048*h.h,d=f.frames?f.frames.map(q=>new te(h.x+(f.x+q.x)/A*h.w,h.y+(f.y+q.y)/m*h.h,q.w/A*h.w,q.h/m*h.h)):jm(f.sliceX||1,f.sliceY||1,h.x+f.x/A*h.w,h.y+f.y/m*h.h,f.width/A*h.w,f.height/m*h.h),b=new Ma(u.tex,d,f.anims);y.assets.sprites.addLoaded(o,b),s[o]=b}return s}))}function Ta(a,n,u=!1,s,o,f={}){let h=s??y.gfx.defTex,A=o??y.gfx.defShader,m=iA(A);if(!m||m instanceof gn)return;let d=y.gfx.fixed||u?y.gfx.transform:y.game.cam.transform.mult(y.gfx.transform),b=[];for(let q of a){let p=_v(d.multVec2(q.pos));b.push(p.x,p.y,q.uv.x,q.uv.y,q.color.r/255,q.color.g/255,q.color.b/255,q.opacity)}y.gfx.renderer.push(y.gfx.ggl.gl.TRIANGLES,b,n,m,h,f)}function xa(a){if(!a.pts)throw new Error('drawPolygon() requires property "pts".');let n=a.pts.length;if(!(n<3)){if(cn(),ae(a.pos),yu(a.scale),Pi(a.angle),ae(a.offset),a.fill!==!1){let u=a.color??Dt.WHITE,s=a.pts.map((f,h)=>({pos:new X(f.x,f.y),uv:a.uv?a.uv[h]:new X(0,0),color:a.colors&&a.colors[h]?a.colors[h].mult(u):u,opacity:a.opacity??1})),o;a.triangulate?o=qm(a.pts).map(f=>f.map(h=>a.pts.indexOf(h))).flat():o=[...Array(n-2).keys()].map(f=>[0,f+1,f+2]).flat(),Ta(s,a.indices??o,a.fixed,a.uv?a.tex:y.gfx.defTex,a.shader,a.uniform??void 0)}a.outline&&Ic({pts:[...a.pts,a.pts[0]],radius:a.radius,width:a.outline.width,color:a.outline.color,join:a.outline.join,uniform:a.uniform,fixed:a.fixed,opacity:a.opacity??a.outline.opacity}),ke()}}function Jm(a){if(a.radiusX===void 0||a.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(a.radiusX===0||a.radiusY===0)return;let n=a.start??0,u=a.end??360,s=tl(a.anchor??"center").scale(new X(-a.radiusX,-a.radiusY)),o=ru(s,a.radiusX,a.radiusY,n,u,a.resolution);o.unshift(s);let f=Object.assign({},a,{pts:o,radius:0,...a.gradient?{colors:[a.gradient[0],...Array(o.length-1).fill(a.gradient[1])]}:{}});if(u-n>=360&&a.outline){a.fill!==!1&&xa(Object.assign({},f,{outline:null})),xa(Object.assign({},f,{pts:o.slice(1),fill:!1}));return}xa(f)}function el(a){if(typeof a.radius!="number")throw new Error('drawCircle() requires property "radius".');a.radius!==0&&Jm(Object.assign({},a,{radiusX:a.radius,radiusY:a.radius,angle:0}))}function cu(a){let{p1:n,p2:u}=a;if(!n||!u)throw new Error('drawLine() requires properties "p1" and "p2".');let s=a.width||1,o=u.sub(n).unit().normal().scale(s*.5),f=[n.sub(o),n.add(o),u.add(o),u.sub(o)].map(h=>({pos:new X(h.x,h.y),uv:new X(0),color:a.color??Dt.WHITE,opacity:a.opacity??1}));Ta(f,[0,1,3,1,2,3],a.fixed,y.gfx.defTex,a.shader,a.uniform??void 0)}function cA(a){let n=a.pts,u=[],s=(a.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||L(0,0),h;o?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let A=h.len(),m=h.normal().scale(-s/A),d,b=n[0];if(!o)switch(a.cap){case"square":{let w=h.scale(-s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(-1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)u.push(b),u.push(b.sub(T)),T=L(T.x*D-T.y*Q,T.x*Q+T.y*D)}}for(let w=1;w<n.length;w++){if(b===n[w]||b.eq(n[w]))continue;d=b,b=n[w];let U=b.sub(d),T=U.len(),D=U.normal().scale(-s/T),Q=h.cross(U);if(Math.abs(Q)/(A*T)<.05){u.push(d.add(m)),u.push(d.sub(m)),h.dot(U)<0&&(u.push(d.sub(m)),u.push(d.add(m))),h=U,A=T,m=D;continue}let P=D.sub(m).cross(U)/Q,nt=m.add(h.scale(P));Q>0?(u.push(d.add(nt)),u.push(d.sub(m)),u.push(d.add(nt)),u.push(d.sub(D))):(u.push(d.add(m)),u.push(d.sub(nt)),u.push(d.add(D)),u.push(d.sub(nt))),h=U,A=T,m=D}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),a.cap){case"square":{let w=h.scale(s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)T=L(T.x*D-T.y*Q,T.x*Q+T.y*D),u.push(b),u.push(b.sub(T))}}if(u.length<4)return;let q=u.map(w=>({pos:f.add(w),uv:L(),color:a.color||Dt.WHITE,opacity:a.opacity??1})),p=[],E=0;for(let w=0;w<u.length-2;w+=2)p[E++]=w+1,p[E++]=w,p[E++]=w+2,p[E++]=w+2,p[E++]=w+3,p[E++]=w+1;o&&(p[E++]=u.length-1,p[E++]=u.length-2,p[E++]=0,p[E++]=0,p[E++]=1,p[E++]=u.length-1),Ta(q,p,a.fixed,y.gfx.defTex,a.shader,a.uniform??void 0)}function fA(a){let n=a.pts,u=[],s=(a.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||L(0,0),h;o?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let A=h.len(),m=h.normal().scale(-s/A),d,b=n[0];if(!o)switch(a.cap){case"square":{let w=h.scale(-s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(-1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)u.push(b),u.push(b.sub(T)),T=L(T.x*D-T.y*Q,T.x*Q+T.y*D)}}for(let w=1;w<n.length;w++){if(b===n[w]||b.eq(n[w]))continue;d=b,b=n[w];let U=b.sub(d),T=U.len(),D=U.normal().scale(-s/T),Q=h.cross(U);if(Math.abs(Q)/(A*T)<.05){u.push(d.add(m)),u.push(d.sub(m)),h.dot(U)<0&&(u.push(d.sub(m)),u.push(d.add(m))),h=U,A=T,m=D;continue}let P=D.sub(m).cross(U)/Q,nt=m.add(h.scale(P));if(Q>0){let G=d.add(nt),O=Math.max(s,10),z=ce(m.angleBetween(D)/O),K=m,$=Math.cos(z),tt=Math.sin(z);for(let at=0;at<O;at++)u.push(G),u.push(d.sub(K)),K=L(K.x*$-K.y*tt,K.x*tt+K.y*$)}else{let G=d.sub(nt),O=Math.max(s,10),z=ce(m.angleBetween(D)/O),K=m,$=Math.cos(z),tt=Math.sin(z);for(let at=0;at<O;at++)u.push(d.add(K)),u.push(G),K=L(K.x*$-K.y*tt,K.x*tt+K.y*$)}h=U,A=T,m=D}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),a.cap){case"square":{let w=h.scale(s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)T=L(T.x*D-T.y*Q,T.x*Q+T.y*D),u.push(b),u.push(b.sub(T))}}if(u.length<4)return;let q=u.map(w=>({pos:f.add(w),uv:L(),color:a.color||Dt.WHITE,opacity:a.opacity??1})),p=[],E=0;for(let w=0;w<u.length-2;w+=2)p[E++]=w+1,p[E++]=w,p[E++]=w+2,p[E++]=w+2,p[E++]=w+3,p[E++]=w+1;o&&(p[E++]=u.length-1,p[E++]=u.length-2,p[E++]=0,p[E++]=0,p[E++]=1,p[E++]=u.length-1),Ta(q,p,a.fixed,y.gfx.defTex,a.shader,a.uniform??void 0)}function hA(a){let n=a.pts,u=[],s=(a.width||1)*.5,o=n[0]===n[n.length-1]||n[0].eq(n[n.length-1]),f=a.pos||L(0,0),h;o?h=n[0].sub(n[n.length-2]):h=n[1].sub(n[0]);let A=h.len(),m=h.normal().scale(-s/A),d,b=n[0];if(!o)switch(a.cap){case"square":{let w=h.scale(-s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(-1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)u.push(b),u.push(b.sub(T)),T=L(T.x*D-T.y*Q,T.x*Q+T.y*D)}}for(let w=1;w<n.length;w++){if(b===n[w]||b.eq(n[w]))continue;d=b,b=n[w];let U=b.sub(d),T=U.len(),D=U.normal().scale(-s/T),Q=h.cross(U);if(Math.abs(Q)/(A*T)<.05){u.push(d.add(m)),u.push(d.sub(m)),h.dot(U)<0&&(u.push(d.sub(m)),u.push(d.add(m))),h=U,A=T,m=D;continue}let P=D.sub(m).cross(U)/Q,nt=m.add(h.scale(P));u.push(d.add(nt)),u.push(d.sub(nt)),h=U,A=T,m=D}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),a.cap){case"square":{let w=h.scale(s/A);u.push(b.add(w).add(m)),u.push(b.add(w).sub(m));break}case"round":{let w=Math.max(s,10),U=Math.PI/w,T=m.scale(1),D=Math.cos(U),Q=Math.sin(U);for(let P=0;P<w;P++)T=L(T.x*D-T.y*Q,T.x*Q+T.y*D),u.push(b),u.push(b.sub(T))}}if(u.length<4)return;let q=u.map(w=>({pos:f.add(w),uv:L(),color:a.color||Dt.WHITE,opacity:a.opacity??1})),p=[],E=0;for(let w=0;w<u.length-2;w+=2)p[E++]=w+1,p[E++]=w,p[E++]=w+2,p[E++]=w+2,p[E++]=w+3,p[E++]=w+1;o&&(p[E++]=u.length-1,p[E++]=u.length-2,p[E++]=0,p[E++]=0,p[E++]=1,p[E++]=u.length-1),Ta(q,p,a.fixed,y.gfx.defTex,a.shader,a.uniform??void 0)}function Ic(a){let n=a.pts,u=a.width??1;if(!n)throw new Error('drawLines() requires property "pts".');if(!(n.length<2)){if(n.length>2)switch(a.join){case"bevel":return cA(a);case"round":return fA(a);case"miter":return hA(a)}if(a.radius&&n.length>=3){cu(Object.assign({},a,{p1:n[0],p2:n[1]}));for(let s=1;s<n.length-2;s++){let o=n[s],f=n[s+1];cu(Object.assign({},a,{p1:o,p2:f}))}cu(Object.assign({},a,{p1:n[n.length-2],p2:n[n.length-1]}))}else for(let s=0;s<n.length-1;s++)cu(Object.assign({},a,{p1:n[s],p2:n[s+1]})),a.join!=="none"&&el(Object.assign({},a,{pos:n[s],radius:u/2}))}}function Fm(a,n){let u=n.segments??16,s=[];for(let o=0;o<=u;o++)s.push(a(o/u));Ic({pts:s,width:n.width||1,pos:n.pos,color:n.color,opacity:n.opacity})}function dA(a){Fm(n=>Qc(a.pt1,a.pt2,a.pt3,a.pt4,n),a)}var Sa=class Wm{ctx;src=null;glTex;width;height;constructor(n,u,s,o={}){this.ctx=n;let f=n.gl,h=n.gl.createTexture();if(!h)throw new Error("Failed to create texture");this.glTex=h,n.onDestroy(()=>this.free()),this.width=u,this.height=s;let A={linear:f.LINEAR,nearest:f.NEAREST}[o.filter??n.opts.texFilter??"nearest"],m={repeat:f.REPEAT,clampToEdge:f.CLAMP_TO_EDGE}[o.wrap??"clampToEdge"];this.bind(),u&&s&&f.texImage2D(f.TEXTURE_2D,0,f.RGBA,u,s,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,A),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,A),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,m),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,m),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(n,u,s={}){let o=new Wm(n,u.width,u.height,s);return o.update(u),o.src=u,o}update(n,u=0,s=0){let o=this.ctx.gl;this.bind(),o.texSubImage2D(o.TEXTURE_2D,0,u,s,o.RGBA,o.UNSIGNED_BYTE,n),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},Vs=class{ctx;tex;glFramebuffer;glRenderbuffer;constructor(a,n,u,s={}){this.ctx=a;let o=a.gl;a.onDestroy(()=>this.free()),this.tex=new Sa(a,n,u,s);let f=o.createFramebuffer(),h=o.createRenderbuffer();if(!f||!h)throw new Error("Failed to create framebuffer");this.glFramebuffer=f,this.glRenderbuffer=h,this.bind(),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,u),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.tex.glTex,0),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let a=this.ctx.gl,n=new Uint8ClampedArray(this.width*this.height*4);this.bind(),a.readPixels(0,0,this.width,this.height,a.RGBA,a.UNSIGNED_BYTE,n),this.unbind();let u=this.width*4,s=new Uint8Array(u);for(let o=0;o<(this.height/2|0);o++){let f=o*u,h=(this.height-o-1)*u;s.set(n.subarray(f,f+u)),n.copyWithin(f,h,h+u),n.set(s,h)}return new ImageData(n,this.width,this.height)}toDataURL(){let a=document.createElement("canvas"),n=a.getContext("2d");if(a.width=this.width,a.height=this.height,!n)throw new Error("Failed to get 2d context");return n.putImageData(this.toImageData(),0,0),a.toDataURL()}clear(){let a=this.ctx.gl;a.clear(a.COLOR_BUFFER_BIT)}draw(a){this.bind(),a(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let a=this.ctx.gl;a.deleteFramebuffer(this.glFramebuffer),a.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},gA=class{ctx;glVBuf;glIBuf;vqueue=[];iqueue=[];stride;maxVertices;maxIndices;vertexFormat;numDraws=0;curPrimitive=null;curTex=null;curShader=null;curUniform={};constructor(a,n,u,s){let o=a.gl;this.vertexFormat=n,this.ctx=a,this.stride=n.reduce((h,A)=>h+A.size,0),this.maxVertices=u,this.maxIndices=s;let f=o.createBuffer();if(!f)throw new Error("Failed to create vertex buffer");this.glVBuf=f,a.pushArrayBuffer(this.glVBuf),o.bufferData(o.ARRAY_BUFFER,u*4,o.DYNAMIC_DRAW),a.popArrayBuffer(),this.glIBuf=o.createBuffer(),a.pushElementArrayBuffer(this.glIBuf),o.bufferData(o.ELEMENT_ARRAY_BUFFER,s*4,o.DYNAMIC_DRAW),a.popElementArrayBuffer()}push(a,n,u,s,o=null,f={}){(a!==this.curPrimitive||o!==this.curTex||s!==this.curShader||!kc(this.curUniform,f)||this.vqueue.length+n.length*this.stride>this.maxVertices||this.iqueue.length+u.length>this.maxIndices)&&this.flush();let h=this.vqueue.length/this.stride;for(let A of n)this.vqueue.push(A);for(let A of u)this.iqueue.push(A+h);this.curPrimitive=a,this.curShader=s,this.curTex=o,this.curUniform=f}flush(){if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let a=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),a.bufferSubData(a.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),this.curTex?.bind(),a.drawElements(this.curPrimitive,this.iqueue.length,a.UNSIGNED_SHORT,0),this.curTex?.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let a=this.ctx.gl;a.deleteBuffer(this.glVBuf),a.deleteBuffer(this.glIBuf)}};function ka(a){let n=[],u=f=>{n.push(f),a(f)},s=()=>{n.pop(),a(o()??null)},o=()=>n[n.length-1];return[u,s,o]}function mA(a,n={}){let u=[];function s(G){u.push(G)}function o(){u.forEach(O=>O());let G=a.getExtension("WEBGL_lose_context");G&&G.loseContext()}let f=null;function h(G){if(kc(G,f))return;f=G;let O=G.reduce((z,K)=>z+K.size,0);G.reduce((z,K,$)=>(a.vertexAttribPointer($,K.size,a.FLOAT,!1,O*4,z),a.enableVertexAttribArray($),z+K.size*4),0)}let[A,m]=ka(G=>a.bindTexture(a.TEXTURE_2D,G)),[d,b]=ka(G=>a.bindBuffer(a.ARRAY_BUFFER,G)),[q,p]=ka(G=>a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,G)),[E,w]=ka(G=>a.bindFramebuffer(a.FRAMEBUFFER,G)),[U,T]=ka(G=>a.bindRenderbuffer(a.RENDERBUFFER,G)),[D,Q]=ka(G=>{if(!G)return;let{x:O,y:z,w:K,h:$}=G;a.viewport(O,z,K,$)}),[P,nt]=ka(G=>a.useProgram(G));return D({x:0,y:0,w:a.drawingBufferWidth,h:a.drawingBufferHeight}),{gl:a,opts:n,onDestroy:s,destroy:o,pushTexture2D:A,popTexture2D:m,pushArrayBuffer:d,popArrayBuffer:b,pushElementArrayBuffer:q,popElementArrayBuffer:p,pushFramebuffer:E,popFramebuffer:w,pushRenderbuffer:U,popRenderbuffer:T,pushViewport:D,popViewport:Q,pushProgram:P,popProgram:nt,setVertexFormat:h}}var yc={};function um(a,n){if(n.override){Object.assign(a,n);return}n.pos&&(a.pos=a.pos.add(n.pos)),n.scale&&(a.scale=a.scale.scale(L(n.scale))),n.angle&&(a.angle+=n.angle),n.color&&a.ch.length===1&&(a.color=a.color.mult(n.color)),n.opacity!=null&&(a.opacity*=n.opacity)}function Oc(a){let n={},u="",s=[],o=String(a),f=h=>{s.length>0&&(n[u.length]=s.slice()),u+=h};for(;o!=="";){if(o[0]==="\\"){if(o.length===1)throw new Error("Styled text error: \\ at end of string");f(o[1]),o=o.slice(2);continue}if(o[0]==="["){let h=/^\[(\/)?(\w+?)\]/.exec(o);if(!h){f(o[0]),o=o.slice(1);continue}let[A,m,d]=h;if(m!==void 0){let b=s.pop();if(b!==d)throw b!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${b}], got [/${d}]`):new Error(`Styled text error: stray end tag [/${d}]`)}else s.push(d);o=o.slice(A.length);continue}f(o[0]),o=o.slice(1)}if(s.length>0)throw new Error(`Styled text error: unclosed tags ${s}`);return{charStyleMap:n,text:u}}function Pa(a){if(a.text===void 0)throw new Error('formatText() requires property "text".');let n=Xm(a.font);if(!a.text||a.text===""||n instanceof gn||!n)return{width:0,height:0,chars:[],opt:a,renderedText:""};let{charStyleMap:u,text:s}=Oc(a.text+""),o=iv(s);if(n instanceof Hs||typeof n=="string"){let P=n instanceof Hs?n.fontface.family:n,nt=n instanceof Hs?{outline:n.outline,filter:n.filter}:{outline:null,filter:Sc},G=yc[P]??{font:{tex:new Sa(y.gfx.ggl,2048,2048,{filter:nt.filter}),map:{},size:64},cursor:new X(0),maxHeight:0,outline:nt.outline};yc[P]||(yc[P]=G),n=G.font;for(let O of o)if(!G.font.map[O]){let z=y.fontCacheC2d;if(!z)throw new Error("fontCacheC2d is not defined.");if(!y.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");z.clearRect(0,0,y.fontCacheCanvas.width,y.fontCacheCanvas.height),z.font=`${n.size}px ${P}`,z.textBaseline="top",z.textAlign="left",z.fillStyle="#ffffff";let K=z.measureText(O),$=Math.ceil(K.width);if(!$)continue;let tt=Math.ceil(Math.abs(K.actualBoundingBoxAscent))+Math.ceil(Math.abs(K.actualBoundingBoxDescent));G.outline&&G.outline.width&&G.outline.color&&(z.lineJoin="round",z.lineWidth=G.outline.width*2,z.strokeStyle=G.outline.color.toHex(),z.strokeText(O,G.outline.width,G.outline.width),$+=G.outline.width*2,tt+=G.outline.width*3),z.fillText(O,G.outline?.width??0,G.outline?.width??0);let at=z.getImageData(0,0,$,tt);if(G.cursor.x+$>2048&&(G.cursor.x=0,G.cursor.y+=G.maxHeight,G.maxHeight=0,G.cursor.y>2048))throw new Error("Font atlas exceeds character limit");n.tex.update(at,G.cursor.x,G.cursor.y),n.map[O]=new te(G.cursor.x,G.cursor.y,$,tt),G.cursor.x+=$+1,G.maxHeight=Math.max(G.maxHeight,tt)}}let f=a.size||n.size,h=L(a.scale??1).scale(f/n.size),A=a.lineSpacing??0,m=a.letterSpacing??0,d=0,b=0,q=0,p=[],E=[],w=0,U=null,T=0,D;for(;w<o.length;){let P=o[w];if(P===`
`)q+=f+A,p.push({width:d-m,chars:E}),U=null,T=0,d=0,E=[],D=void 0;else{let nt=n.map[P];if(nt){let G=nt.w*h.x;a.width&&d+G>a.width&&(q+=f+A,U!=null&&(w-=E.length-U,P=o[w],nt=n.map[P],G=nt.w*h.x,E=E.slice(0,U-1),d=T),U=null,T=0,p.push({width:d-m,chars:E}),d=D??0,E=[]),E.push({tex:n.tex,width:nt.w,height:nt.h,quad:new te(nt.x/n.tex.width,nt.y/n.tex.height,nt.w/n.tex.width,nt.h/n.tex.height),ch:P,pos:new X(d,q),opacity:a.opacity??1,color:a.color??Dt.WHITE,scale:L(h),angle:0}),P===" "&&(U=E.length,T=d),a.indentAll&&D===void 0&&/\S/.test(P)&&(D=d),d+=G,b=Math.max(b,d),d+=m}}w++}p.push({width:d-m,chars:E}),q+=f,a.width&&(b=a.width);let Q=[];for(let P=0;P<p.length;P++){let nt=(b-p[P].width)*Uv(a.align??"left");for(let G of p[P].chars){let O=n.map[G.ch],z=Q.length+P;if(G.pos=G.pos.add(nt,0).add(O.w*h.x*.5,O.h*h.y*.5),a.transform){let K=typeof a.transform=="function"?a.transform(z,G.ch):a.transform;K&&um(G,K)}if(u[z]){let K=u[z];for(let $ of K){let tt=a.styles?.[$],at=typeof tt=="function"?tt(z,G.ch):tt;at&&um(G,at)}}Q.push(G)}}return{width:b,height:q,chars:Q,opt:a,renderedText:s}}function Au(a){if(a.width===void 0||a.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(a.width<=0||a.height<=0)return;let n=a.width,u=a.height,s=tl(a.anchor||Ws).scale(new X(n,u).scale(-.5)),o=a.quad||new te(0,0,1,1),f=a.color||Ht(255,255,255),h=a.opacity??1,A=a.tex?.1/a.tex.width:0,m=a.tex?.1/a.tex.height:0,d=o.x+A,b=o.y+m,q=o.w-A*2,p=o.h-m*2;cn(),ae(a.pos),Pi(a.angle),yu(a.scale),ae(s),Ta([{pos:new X(-n/2,u/2),uv:new X(a.flipX?d+q:d,a.flipY?b:b+p),color:f,opacity:h},{pos:new X(-n/2,-u/2),uv:new X(a.flipX?d+q:d,a.flipY?b+p:b),color:f,opacity:h},{pos:new X(n/2,-u/2),uv:new X(a.flipX?d:d+q,a.flipY?b+p:b),color:f,opacity:h},{pos:new X(n/2,u/2),uv:new X(a.flipX?d:d+q,a.flipY?b:b+p),color:f,opacity:h}],[0,1,3,1,2,3],a.fixed,a.tex,a.shader,a.uniform??void 0),ke()}function $a(a){cn(),ae(a.opt.pos),Pi(a.opt.angle),ae(tl(a.opt.anchor??"topleft").add(1,1).scale(a.width,a.height).scale(-.5)),a.chars.forEach(n=>{Au({tex:n.tex,width:n.width,height:n.height,pos:n.pos,scale:n.scale,angle:n.angle,color:n.color,opacity:n.opacity,quad:n.quad,anchor:"center",uniform:a.opt.uniform,shader:a.opt.shader,fixed:a.opt.fixed})}),ke()}function hn(a){if(a.width===void 0||a.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(a.width<=0||a.height<=0)return;let n=a.width,u=a.height,s=tl(a.anchor||Ws).add(1,1).scale(new X(n,u).scale(-.5)),o=[new X(0,0),new X(n,0),new X(n,u),new X(0,u)];if(a.radius){let f=Math.min(n,u)/2,h=Array.isArray(a.radius)?a.radius.map(A=>Math.min(f,A)):new Array(4).fill(Math.min(f,a.radius));o=[new X(h[0],0),...h[1]?ru(new X(n-h[1],h[1]),h[1],h[1],270,360):[L(n,0)],...h[2]?ru(new X(n-h[2],u-h[2]),h[2],h[2],0,90):[L(n,u)],...h[3]?ru(new X(h[3],u-h[3]),h[3],h[3],90,180):[L(0,u)],...h[0]?ru(new X(h[0],h[0]),h[0],h[0],180,270):[]]}xa(Object.assign({},a,{offset:s,pts:o,...a.gradient?{colors:a.horizontal?[a.gradient[0],a.gradient[1],a.gradient[1],a.gradient[0]]:[a.gradient[0],a.gradient[0],a.gradient[1],a.gradient[1]]}:{}}))}function wa(a){fn();let n=y.gfx.width,u=y.gfx.height;y.gfx.width=y.gfx.viewport.width,y.gfx.height=y.gfx.viewport.height,a(),fn(),y.gfx.width=n,y.gfx.height=u}function sm(a,n){wa(()=>{let u=L(8);cn(),ae(a);let s=Pa({text:n,font:js,size:16,pos:u,color:Ht(255,255,255),fixed:!0}),o=s.width+u.x*2,f=s.height+u.x*2;a.x+o>=Te()&&ae(L(-o,0)),a.y+f>=Oe()&&ae(L(0,-f)),hn({width:o,height:f,color:Ht(0,0,0),radius:4,opacity:.8,fixed:!0}),$a(s),ke()})}function Im(a){if(!a.p1||!a.p2||!a.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return xa(Object.assign({},a,{pts:[a.p1,a.p2,a.p3]}))}function pA(){if(y.debug.inspect){let a=null;for(let n of y.game.root.get("*",{recursive:!0}))if(n.has("area")&&n.isHovering()){a=n;break}if(y.game.root.drawInspect(),a){let n=[],u=a.inspect();for(let s in u)u[s]?n.push(`${u[s]}`):n.push(`${s}`);sm(pv(y.k.mousePos()),n.join(`
`))}sm(L(8),`FPS: ${y.debug.fps()}`)}y.debug.paused&&wa(()=>{cn(),ae(Te(),0),ae(-8,8);let a=32;hn({width:a,height:a,anchor:"topright",color:Ht(0,0,0),opacity:.8,radius:4,fixed:!0});for(let n=1;n<=2;n++)hn({width:4,height:a*.6,anchor:"center",pos:L(-a/3*n,a*.5),color:Ht(255,255,255),radius:2,fixed:!0});ke()}),y.debug.timeScale!==1&&wa(()=>{cn(),ae(Te(),Oe()),ae(-8,-8);let a=8,n=Pa({text:y.debug.timeScale.toFixed(1),font:js,size:16,color:Ht(255,255,255),pos:L(-a),anchor:"botright",fixed:!0});hn({width:n.width+a*2+a*4,height:n.height+a*2,anchor:"botright",color:Ht(0,0,0),opacity:.8,radius:4,fixed:!0});for(let u=0;u<2;u++){let s=y.debug.timeScale<1;Im({p1:L(-n.width-a*(s?2:3.5),-a),p2:L(-n.width-a*(s?2:3.5),-a-n.height),p3:L(-n.width-a*(s?3.5:2),-a-n.height/2),pos:L(-u*a*1+(s?-a*.5:0),0),color:Ht(255,255,255),fixed:!0})}$a(n),ke()}),y.debug.curRecording&&wa(()=>{cn(),ae(0,Oe()),ae(24,-24),el({radius:12,color:Ht(255,0,0),opacity:fm(0,1,y.app.time()*4),fixed:!0}),ke()}),y.debug.showLog&&y.game.logs.length>0&&wa(()=>{cn(),ae(0,Oe()),ae(8,-8);let a=8,n=[];for(let s of y.game.logs){let o="",f=s.msg instanceof Error?"error":"info";o+=`[time]${s.time.toFixed(2)}[/time]`,o+=" ",o+=`[${f}]${Bc(s.msg)}[/${f}]`,n.push(o)}y.game.logs=y.game.logs.filter(s=>y.app.time()-s.time<(y.globalOpt.logTime||4));let u=Pa({text:n.join(`
`),font:js,pos:L(a,-a),anchor:"botleft",size:16,width:Te()*.6,lineSpacing:a/2,fixed:!0,styles:{time:{color:Ht(127,127,127)},info:{color:Ht(255,255,255)},error:{color:Ht(255,0,127)}}});hn({width:u.width+a*2,height:u.height+a*2,anchor:"botleft",color:Ht(0,0,0),radius:4,opacity:.8,fixed:!0}),$a(u),ke()})}function Bc(a,n=!1,u=new Set){if(u.has(a))return"<recursive>";var s="",o;return n&&typeof a=="string"&&(a=JSON.stringify(a)),Array.isArray(a)&&(s=["[",a.map(f=>Bc(f,!0,u.union(new Set([a])))).join(", "),"]"].join(""),a=s),a===null?"null":(typeof a=="object"&&a.toString===Object.prototype.toString&&(a.constructor!==Object&&(s+=a.constructor.name+" "),s+=["{",(o=Object.getOwnPropertyNames(a).map(f=>`${/^\w+$/.test(f)?f:JSON.stringify(f)}: ${Bc(a[f],!0,u.union(new Set([a])))}`).join(", "))?` ${o} `:"","}"].join(""),a=s),String(a).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}function yA(){let a=y.game.cam,n=X.fromAngle(we(0,360)).scale(a.shake);a.shake=Je(a.shake,0,5*xe()),a.transform=new On().translate(Xs()).scale(a.scale).rotate(a.angle).translate((a.pos??Xs()).scale(-1).add(n)),y.game.root.draw(),fn()}function vA(){let a=Ia();y.game.events.numListeners("loading")>0?y.game.events.trigger("loading",a):wa(()=>{let n=Te()/2,u=24,s=L(Te()/2,Oe()/2).sub(L(n/2,u/2));hn({pos:L(0),width:Te(),height:Oe(),color:Ht(0,0,0)}),hn({pos:s,width:n,height:u,fill:!1,outline:{width:4}}),hn({pos:s,width:n*a,height:u})})}function Pm(a,n,u){let s=y.gfx.ggl.gl;fn(),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST),s.stencilFunc(s.NEVER,1,255),s.stencilOp(s.REPLACE,s.REPLACE,s.REPLACE),n(),fn(),s.stencilFunc(u,1,255),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),a(),fn(),s.disable(s.STENCIL_TEST)}function AA(a,n){let u=y.gfx.ggl.gl;Pm(a,n,u.EQUAL)}function Qs(a){if(!a.tex)throw new Error('drawTexture() requires property "tex".');let n=a.quad??new te(0,0,1,1),u=a.tex.width*n.w,s=a.tex.height*n.h,o=new X(1);if(a.tiled){let f=tl(a.anchor||Ws);(a.pos?.x||0)-(f.x+1)*.5*(a.width||u),(a.pos?.y||0)-(f.y+1)*.5*(a.height||s);let h=(a.width||u)/u,A=(a.height||s)/s,m=Math.floor(h),d=Math.floor(A),b=h-m,q=A-d,p=(m+b?1:0)*(d+q?1:0),E=new Array(p*6),w=new Array(p*4),U=0,T=(D,Q,P,nt,G)=>{E[U*6+0]=U*4+0,E[U*6+1]=U*4+1,E[U*6+2]=U*4+3,E[U*6+3]=U*4+1,E[U*6+4]=U*4+2,E[U*6+5]=U*4+3,w[U*4+0]={pos:new X(D-f.x,Q-f.y),uv:new X(G.x,G.y),color:a.color||Dt.WHITE,opacity:a.opacity||1},w[U*4+1]={pos:new X(D+P-f.x,Q-f.y),uv:new X(G.x+G.w,G.y),color:a.color||Dt.WHITE,opacity:a.opacity||1},w[U*4+2]={pos:new X(D+P-f.x,Q+nt-f.y),uv:new X(G.x+G.w,G.y+G.h),color:a.color||Dt.WHITE,opacity:a.opacity||1},w[U*4+3]={pos:new X(D-f.x,Q+nt-f.y),uv:new X(G.x,G.y+G.h),color:a.color||Dt.WHITE,opacity:a.opacity||1},U++};for(let D=0;D<d;D++){for(let Q=0;Q<m;Q++)T(Q*u,D*s,u,s,n);b&&T(m*u,D*s,u*b,s,new te(n.x,n.y,n.w*b,n.h))}if(q){for(let D=0;D<m;D++)T(D*u,d*s,u,s*q,new te(n.x,n.y,n.w,n.h*q));b&&T(m*u,d*s,u*b,s*q,new te(n.x,n.y,n.w*b,n.h*q))}Ta(w,E,a.fixed,a.tex,a.shader,a.uniform??void 0)}else a.width&&a.height?(o.x=a.width/u,o.y=a.height/s):a.width?(o.x=a.width/u,o.y=o.x):a.height&&(o.y=a.height/s,o.x=o.y),Au(Object.assign({},a,{scale:o.scale(a.scale||new X(1)),tex:a.tex,quad:n,width:u,height:s}))}function bA(a){if(!a.sprite)throw new Error('drawSprite() requires property "sprite"');let n=Ns(a.sprite);if(!n||!n.data)return;let u=n.data.frames[a.frame??0];if(!u)throw new Error(`Frame not found: ${a.frame??0}`);Qs(Object.assign({},a,{tex:n.data.tex,quad:u.scale(a.quad??new te(0,0,1,1))}))}function wA(a,n){let u=y.gfx.ggl.gl;Pm(a,n,u.NOTEQUAL)}function rm(a){$a(Pa(a))}var xA=(a,n)=>{let u=Wc(n,Ec,Mc),s=a.pixelDensity??1,o=a.scale??1,{gl:f}=n,h=Sa.fromImage(n,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),A=a.width&&a.height?new Vs(n,a.width*s*o,a.height*s*o):new Vs(n,f.drawingBufferWidth,f.drawingBufferHeight),m=null,d=1;a.background&&(typeof a.background=="string"?m=Ht(a.background):(m=Ht(...a.background),d=a.background[3]??1),f.clearColor(m.r/255,m.g/255,m.b/255,d??1)),f.enable(f.BLEND),f.blendFuncSeparate(f.ONE,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA);let b=new gA(n,Kc,L1,j1),q=Sa.fromImage(n,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:n,defShader:u,defTex:h,frameBuffer:A,postShader:null,postShaderUniform:null,renderer:b,transform:new On,transformStack:[],bgTex:q,bgColor:m,bgAlpha:d,width:a.width??f.drawingBufferWidth/s/o,height:a.height??f.drawingBufferHeight/s/o,viewport:{x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight,scale:1},fixed:!1}};function Fa(a){return a.fixed?!0:a.parent?Fa(a.parent):!1}function ti(a){return{color:a.color,opacity:a.opacity,anchor:a.anchor,outline:a.outline,shader:a.shader,uniform:a.uniform}}function SA(a,n={}){return{id:"circle",radius:a,draw(){el(Object.assign(ti(this),{radius:this.radius,fill:n.fill}))},renderArea(){return new Jt(new X(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}function $m(...a){return{id:"color",color:Ht(...a),inspect(){return`color: ${this.color.toString()}`}}}function EA(a){return{add(){this.canvas=a}}}function MA(a=1){let n,u=0,s=!1;return{require:["opacity"],add(){n=this.opacity,this.opacity=0},update(){s||(u+=xe(),this.opacity=Rn(u,0,a,0,n),u>=a&&(this.opacity=n,s=!0))}}}function TA(a="intersect"){return{id:"mask",mask:a}}function tp(a){return{id:"opacity",opacity:a??1,fadeIn(n=1,u=y.k.easings.linear){return y.game.root.tween(0,this.opacity,n,s=>this.opacity=s,u)},fadeOut(n=1,u=y.k.easings.linear){return y.game.root.tween(this.opacity,0,n,s=>this.opacity=s,u)},inspect(){return`opacity: ${Tc(this.opacity,1)}`}}}function qA(a=1,n=Ht(0,0,0),u=1,s="miter",o=10,f="butt"){return{id:"outline",outline:{width:a,color:n,opacity:u,join:s,miterLimit:o,cap:f},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}var RA=class{pos=L(0);vel=L(0);acc=L(0);angle=0;angularVelocity=0;damping=0;t;lt=null;gc;constructor(){this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}};function DA(a,n){let u=n.lifetime,s=[],o=a.colors||[Dt.WHITE],f=a.opacities||[1],h=a.quads||[new te(0,0,1,1)],A=a.scales||[1],m=a.lifeTime,d=n.direction,b=n.spread,q=a.speed||[0,0],p=a.angle||[0,0],E=a.angularVelocity||[0,0],w=a.acceleration||[L(0),L(0)],U=a.damping||[0,0],T=[],D=new Array(a.max),Q=0,P=0;for(let O=0;O<a.max;O++){T[O*6+0]=O*4+0,T[O*6+1]=O*4+1,T[O*6+2]=O*4+3,T[O*6+3]=O*4+1,T[O*6+4]=O*4+2,T[O*6+5]=O*4+3;for(let z=0;z<4;z++)D[O*4+z]={pos:new X(0,0),uv:new X(0,0),color:Ht(255,255,255),opacity:1};s[O]=new RA}let nt=new Ne;function G(O=0){for(;O<a.max;){if(s[O].gc)return O;O++}return null}return{id:"particles",emit(O){let z=0;for(let K=0;K<O;K++){if(z=G(z),z==null)return;let $=we(d-b,d+b),tt=X.fromAngle($).scale(we(q[0],q[1])),at=we(p[0],p[1]),ut=we(E[0],E[1]),vt=L(we(w[0].x,w[1].x),we(w[0].y,w[1].y)),At=we(U[0],U[1]),dt=m?we(m[0],m[1]):null,N=n.shape?n.shape.random():L(),Z=s[z];Z.lt=dt,Z.pos=N,Z.vel=tt,Z.acc=vt,Z.angle=at,Z.angularVelocity=ut,Z.damping=At,Z.angularVelocity=ut,Z.gc=!1}Q+=O},update(){if(u!==void 0&&u<=0)return;let O=xe();for(let z of s)if(!z.gc){if(z.t+=O,z.lt&&z.t>=z.lt){z.gc=!0,Q--;continue}z.vel=z.vel.add(z.acc.scale(O)).scale(1-z.damping*O),z.pos=z.pos.add(z.vel.scale(O)),z.angle+=z.angularVelocity*O}for(u!==void 0&&(u-=O,u<=0&&nt.trigger()),P+=O;Q<a.max&&n.rate&&P>n.rate;)this.emit(1),Q++,P-=n.rate},draw(){if(!(u!==void 0&&u<=0)){for(let O=0;O<s.length;O++){let z=s[O];if(z.gc)continue;let K=z.progress,$=Math.floor(z.progress*o.length),tt=$<o.length-1?Je(o[$],o[$+1],Rn(K,$/o.length,($+1)/o.length,0,1)):o[$],at=Math.floor(z.progress*f.length),ut=at<f.length-1?Je(f[at],f[at+1],Rn(K,at/f.length,(at+1)/f.length,0,1)):f[at],vt=Math.floor(z.progress*h.length),At=h[vt],dt=Math.floor(z.progress*A.length),N=A[dt],Z=Math.cos(z.angle*Math.PI/180),it=Math.sin(z.angle*Math.PI/180),rt=(a.texture?a.texture.width:10)*At.w/2,S=(a.texture?a.texture.height:10)*At.h/2,k=O*4,W=D[k];W.pos.x=z.pos.x+-rt*N*Z- -S*N*it,W.pos.y=z.pos.y+-rt*N*it+-S*N*Z,W.uv.x=At.x,W.uv.y=At.y,W.color.r=tt.r,W.color.g=tt.g,W.color.b=tt.b,W.opacity=ut,W=D[k+1],W.pos.x=z.pos.x+rt*N*Z- -S*N*it,W.pos.y=z.pos.y+rt*N*it+-S*N*Z,W.uv.x=At.x+At.w,W.uv.y=At.y,W.color.r=tt.r,W.color.g=tt.g,W.color.b=tt.b,W.opacity=ut,W=D[k+2],W.pos.x=z.pos.x+rt*N*Z-S*N*it,W.pos.y=z.pos.y+rt*N*it+S*N*Z,W.uv.x=At.x+At.w,W.uv.y=At.y+At.h,W.color.r=tt.r,W.color.g=tt.g,W.color.b=tt.b,W.opacity=ut,W=D[k+3],W.pos.x=z.pos.x+-rt*N*Z-S*N*it,W.pos.y=z.pos.y+-rt*N*it+S*N*Z,W.uv.x=At.x,W.uv.y=At.y+At.h,W.color.r=tt.r,W.color.g=tt.g,W.color.b=tt.b,W.opacity=ut}Ta(D,T,this.fixed,a.texture,this.shader,this.uniform)}},onEnd(O){return nt.add(O)},inspect(){return`count: ${Q}/${a.max}`}}}function OA(a,n={}){if(a.length<3)throw new Error(`Polygon's need more than two points, ${a.length} points provided`);return{id:"polygon",pts:a,colors:n.colors,uv:n.uv,tex:n.tex,radius:n.radius,draw(){xa(Object.assign(ti(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:n.fill,triangulate:n.triangulate}))},renderArea(){return new He(this.pts)},inspect(){return`polygon: ${this.pts.map(u=>`[${u.x},${u.y}]`).join(",")}`}}}function ep(a,n,u){let s;return y.game.root.get("area").forEach(o=>{if(u&&u.some(h=>o.is(h)))return;let f=o.worldArea().raycast(a,n);f&&(s?f.fraction<s.fraction&&(s=f,s.object=o):(s=f,s.object=o))}),s}function np(a,n,u={}){return{id:"rect",width:a,height:n,radius:u.radius||0,draw(){hn(Object.assign(ti(this),{width:this.width,height:this.height,radius:this.radius,fill:u.fill}))},renderArea(){return new Jt(L(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}function BA(a,n){return{id:"shader",shader:a,...typeof n=="function"?{uniform:n(),update(){this.uniform=n()}}:{uniform:n},inspect(){return`shader: ${a}`}}}function UA(a,n){if(!n.tileWidth||!n.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let u=y.game.root.add([Ks(n.pos??L(0))]),s=a.length,o=0,f=null,h=null,A=null,m=null,d=O=>O.x+O.y*o,b=O=>L(Math.floor(O%o),Math.floor(O/o)),q=()=>{f=[];for(let O of u.children)p(O)},p=O=>{let z=d(O.tilePos);f[z]?f[z].push(O):f[z]=[O]},E=O=>{let z=d(O.tilePos);if(f[z]){let K=f[z].indexOf(O);K>=0&&f[z].splice(K,1)}},w=()=>{let O=!1;for(let z of u.children){let K=u.pos2Tile(z.pos);(z.tilePos.x!=K.x||z.tilePos.y!=K.y)&&(O=!0,E(z),z.tilePos.x=K.x,z.tilePos.y=K.y,p(z))}O&&u.trigger("spatialMapChanged")},U=()=>{let O=u.getSpatialMap(),z=u.numRows()*u.numColumns();h?h.length=z:h=new Array(z),h.fill(1,0,z);for(let K=0;K<O.length;K++){let $=O[K];if($){let tt=0;for(let at of $)if(at.isObstacle){tt=1/0;break}else tt+=at.cost;h[K]=tt||1}}},T=()=>{let O=u.getSpatialMap(),z=u.numRows()*u.numColumns();A?A.length=z:A=new Array(z),A.fill(15,0,z);for(let K=0;K<O.length;K++){let $=O[K];if($){let tt=$.length,at=15;for(let ut=0;ut<tt;ut++)at|=$[ut].edgeMask;A[K]=at}}},D=()=>{let O=u.numRows()*u.numColumns(),z=($,tt)=>{let at=[];for(at.push($);at.length>0;){let ut=at.pop();nt(ut).forEach(vt=>{m[vt]<0&&(m[vt]=tt,at.push(vt))})}};m?m.length=O:m=new Array(O),m.fill(-1,0,O);let K=0;for(let $=0;$<h.length;$++){if(m[$]>=0){K++;continue}z($,K),K++}},Q=(O,z)=>h[z],P=(O,z)=>{let K=b(O),$=b(z);return K.dist($)},nt=(O,z)=>{let K=[],$=Math.floor(O%o),tt=$>0&&A[O]&1&&h[O-1]!==1/0,at=O>=o&&A[O]&2&&h[O-o]!==1/0,ut=$<o-1&&A[O]&4&&h[O+1]!==1/0,vt=O<o*s-o-1&&A[O]&8&&h[O+o]!==1/0;return z?(tt&&(at&&K.push(O-o-1),K.push(O-1),vt&&K.push(O+o-1)),at&&K.push(O-o),ut&&(at&&K.push(O-o+1),K.push(O+1),vt&&K.push(O+o+1)),vt&&K.push(O+o)):(tt&&K.push(O-1),at&&K.push(O-o),ut&&K.push(O+1),vt&&K.push(O+o)),K},G={id:"level",tileWidth(){return n.tileWidth},tileHeight(){return n.tileHeight},spawn(O,...z){let K=L(...z),$=(()=>{if(typeof O=="string"){if(n.tiles[O]){if(typeof n.tiles[O]!="function")throw new Error("Level symbol def must be a function returning a component list");return n.tiles[O](K)}else if(n.wildcardTile)return n.wildcardTile(O,K)}else{if(Array.isArray(O))return O;throw new Error("Expected a symbol or a component list")}})();if(!$)return null;let tt=!1,at=!1;for(let vt of $)vt.id==="tile"&&(at=!0),vt.id==="pos"&&(tt=!0);tt||$.push(Ks(this.tile2Pos(K))),at||$.push(bp());let ut=u.add($);return tt&&(ut.tilePosOffset=ut.pos.clone()),ut.tilePos=K,ut.transform=hu(ut),f&&(p(ut),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ut},numColumns(){return o},numRows(){return s},levelWidth(){return o*this.tileWidth()},levelHeight(){return s*this.tileHeight()},tile2Pos(...O){return L(...O).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...O){let z=L(...O);return L(Math.floor(z.x/this.tileWidth()),Math.floor(z.y/this.tileHeight()))},getSpatialMap(){return f||q(),f},removeFromSpatialMap:E,insertIntoSpatialMap:p,onSpatialMapChanged(O){return this.on("spatialMapChanged",O)},onNavigationMapInvalid(O){return this.on("navigationMapInvalid",O)},getAt(O){f||q();let z=d(O);return f[z]||[]},raycast(O,z){let K=this.toWorld(O),$=this.toWorld(O.add(z)).sub(K),tt=1/this.tileWidth(),at=O.scale(tt),ut=d1(at,z,vt=>{let At=this.getAt(vt);if(At.some(N=>N.isObstacle))return!0;let dt=null;for(let N of At)if(N.has("area")){let Z=N.worldArea().raycast(K,$);Z&&(dt?Z.fraction<dt.fraction&&(dt=Z,dt.object=N):(dt=Z,dt.object=N))}return dt&&(dt.point=this.fromWorld(dt.point).scale(tt)),dt||!1},64);return ut&&(ut.point=ut.point.scale(this.tileWidth())),ut},update(){f&&w()},invalidateNavigationMap(){h=null,A=null,m=null},onNavigationMapChanged(O){return this.on("navigationMapChanged",O)},getTilePath(O,z,K={}){if(h||U(),A||T(),m||D(),O.x<0||O.x>=o||O.y<0||O.y>=s||z.x<0||z.x>=o||z.y<0||z.y>=s)return null;let $=d(O),tt=d(z);if(h[tt]===1/0)return null;if($===tt)return[];if(m[$]!=-1&&m[$]!==m[tt])return null;let at=new zm((Z,it)=>Z.cost<it.cost);at.insert({cost:0,node:$});let ut=new Map;ut.set($,$);let vt=new Map;for(vt.set($,0);at.length!==0;){let Z=at.remove()?.node;if(Z===tt)break;let it=nt(Z,K.allowDiagonals);for(let rt of it){let S=(vt.get(Z)||0)+Q(Z,rt)+P(rt,tt);(!vt.has(rt)||S<vt.get(rt))&&(vt.set(rt,S),at.insert({cost:S,node:rt}),ut.set(rt,Z))}}let At=[],dt=tt,N=b(dt);for(At.push(N);dt!==$;){let Z=ut.get(dt);if(Z===void 0)throw new Error("Bug in pathfinding algorithm");dt=Z;let it=b(dt);At.push(it)}return At.reverse()},getPath(O,z,K={}){let $=this.tileWidth(),tt=this.tileHeight(),at=this.getTilePath(this.pos2Tile(O),this.pos2Tile(z),K);return at?[O,...at.slice(1,-1).map(ut=>ut.scale($,tt).add($/2,tt/2)),z]:null}};return u.use(G),u.onNavigationMapInvalid(()=>{u.invalidateNavigationMap(),u.trigger("navigationMapChanged")}),a.forEach((O,z)=>{let K=O.split("");o=Math.max(K.length,o),K.forEach(($,tt)=>{u.spawn($,L(tt,z))})}),u}function Ie(a,n,u){return y.game.objEvents.registers[a]||(y.game.objEvents.registers[a]=new Bm),y.game.objEvents.on(a,(s,...o)=>{s.is(n)&&u(s,...o)})}var zA=(a,n,...u)=>{for(let s of y.game.root.children)s.is(n)&&s.trigger(a,u)},CA=Wt(a=>{let n=y.game.root.add([{fixedUpdate:a}]);return{get paused(){return n.paused},set paused(u){n.paused=u},cancel:()=>n.destroy()}},(a,n)=>Ie("fixedUpdate",a,n)),ap=Wt(a=>{let n=y.game.root.add([{update:a}]);return{get paused(){return n.paused},set paused(u){n.paused=u},cancel:()=>n.destroy()}},(a,n)=>Ie("update",a,n)),NA=Wt(a=>{let n=y.game.root.add([{draw:a}]);return{get paused(){return n.hidden},set paused(u){n.hidden=u},cancel:()=>n.destroy()}},(a,n)=>Ie("draw",a,n)),ip=Wt(a=>y.game.events.on("add",a),(a,n)=>Ie("add",a,n)),HA=Wt(a=>y.game.events.on("destroy",a),(a,n)=>Ie("destroy",a,n)),GA=Wt(a=>y.game.events.on("use",a),(a,n)=>Ie("use",a,n)),YA=Wt(a=>y.game.events.on("unuse",a),(a,n)=>Ie("unuse",a,n)),lp=Wt(a=>y.game.events.on("tag",a),(a,n)=>Ie("tag",a,n)),_A=Wt(a=>y.game.events.on("untag",a),(a,n)=>Ie("untag",a,n));function LA(a,n,u){return Ie("collide",a,(s,o,f)=>o.is(n)&&u(s,o,f))}function jA(a,n,u){return Ie("collideUpdate",a,(s,o,f)=>o.is(n)&&u(s,o,f))}function XA(a,n,u){return Ie("collideEnd",a,(s,o,f)=>o.is(n)&&u(s,o,f))}function $s(a,n){y.game.root.get(a,{recursive:!0}).forEach(n),ip(a,n),lp((u,s)=>{s===a&&n(u)})}var VA=Wt(a=>y.app.onMousePress(a),(a,n)=>{let u=[];return $s(a,s=>{if(!s.area)throw new Error("onClick() requires the object to have area() component");u.push(s.onClick(()=>n(s)))}),ei.join(u)});function QA(a,n){let u=[];return $s(a,s=>{if(!s.area)throw new Error("onHover() requires the object to have area() component");u.push(s.onHover(()=>n(s)))}),ei.join(u)}function KA(a,n){let u=[];return $s(a,s=>{if(!s.area)throw new Error("onHoverUpdate() requires the object to have area() component");u.push(s.onHoverUpdate(()=>n(s)))}),ei.join(u)}function ZA(a,n){let u=[];return $s(a,s=>{if(!s.area)throw new Error("onHoverEnd() requires the object to have area() component");u.push(s.onHoverEnd(()=>n(s)))}),ei.join(u)}function kA(a){y.game.events.on("loading",a)}function JA(a){y.app.onResize(a)}function FA(a){y.game.events.on("error",a)}function Pc(a){y.assets.loaded?a():y.game.events.on("load",a)}function WA(a){if(y.assets.loaded)_m().forEach(n=>a(...n));else return y.game.events.on("loadError",a)}function up(...a){y.game.cam.pos=L(...a)}function sp(){return y.game.cam.pos?y.game.cam.pos.clone():Xs()}function rp(...a){y.game.cam.scale=L(...a)}function op(){return y.game.cam.scale.clone()}function cp(a){y.game.cam.angle=a}function fp(){return y.game.cam.angle}function IA(){return y.game.cam.transform.clone()}function hp(a=Ht(255,255,255),n=1){let u=y.game.root.add([np(Te(),Oe()),$m(a),tp(1),Sp()]),s=u.fadeOut(n);return s.onEnd(()=>Ap(u)),s}function PA(){return y.game.cam.transform.clone()}function $A(a=12){y.game.cam.shake+=a}function Uc(a){return y.game.cam.transform.multVec2(a)}function dp(a){return y.game.cam.transform.invert().multVec2(a)}function t2(...a){return $i("camPos","setCamPos / getCamPos"),a.length>0&&up(...a),sp()}function e2(...a){return $i("camScale","setCamScale / getCamScale"),a.length>0&&rp(...a),op()}function n2(a){return $i("camRot","setCamRot / getCamRot"),a!==void 0&&cp(a),fp()}function a2(a=Ht(255,255,255),n=1){return $i("camFlash","flash"),hp(a,n)}function $c(a=[]){let n=new Map,u=[],s={},o=new mu,f=[],h=new Set("*"),A=y.globalOpt.tagsAsComponents,m=null,d=!1,b={id:gv(),hidden:!1,transform:new On,children:[],parent:null,set paused(p){if(p!==d){d=p;for(let E of f)E.paused=p}},get paused(){return d},get tags(){return Array.from(h)},add(p){let E=Array.isArray(p)?$c(p):p;if(E.parent)throw new Error("Cannot add a game obj that already has a parent.");return E.parent=this,E.transform=hu(E),this.children.push(E),E.trigger("add",E),y.game.events.trigger("add",E),E},readd(p){let E=this.children.indexOf(p);return E!==-1&&(this.children.splice(E,1),this.children.push(p)),p},remove(p){let E=this.children.indexOf(p);if(E!==-1){p.parent=null,this.children.splice(E,1);let w=U=>{U.trigger("destroy"),y.game.events.trigger("destroy",U),U.children.forEach(T=>w(T))};w(p)}},removeAll(p){if(p)this.get(p).forEach(E=>this.remove(E));else for(let E of[...this.children])this.remove(E)},fixedUpdate(){this.paused||(this.children.forEach(p=>p.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(p=>p.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(fn(),this.canvas.bind());let p=y.gfx.fixed;this.fixed&&(y.gfx.fixed=!0),cn(),ae(this.pos),yu(this.scale),Pi(this.angle);let E=this.children.sort((w,U)=>{let T=w.layerIndex??y.game.defaultLayerIndex,D=U.layerIndex??y.game.defaultLayerIndex;return T-D||(w.z??0)-(U.z??0)});if(this.mask){let w={intersect:y.k.drawMasked,subtract:y.k.drawSubtracted}[this.mask];if(!w)throw new Error(`Invalid mask func: "${this.mask}"`);w(()=>{E.forEach(U=>U.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),E.forEach(w=>w.draw());ke(),y.gfx.fixed=p,this.canvas&&(fn(),this.canvas.unbind())},drawInspect(){this.hidden||(cn(),ae(this.pos),yu(this.scale),Pi(this.angle),this.children.forEach(p=>p.drawInspect()),this.trigger("drawInspect"),ke())},use(p){if(typeof p=="string")return h.add(p);if(!p||typeof p!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof p}"`);let E=[];p.id?(this.unuse(p.id),s[p.id]=[],E=s[p.id],n.set(p.id,p),A&&h.add(p.id)):u.push(p);for(let U in p){if(Q1.has(U))continue;let T=Object.getOwnPropertyDescriptor(p,U);if(T)if(typeof T.value=="function"&&(p[U]=p[U].bind(this)),T.set&&Object.defineProperty(p,U,{set:T.set.bind(this)}),T.get&&Object.defineProperty(p,U,{get:T.get.bind(this)}),K1.has(U)){let D=U==="add"?()=>{m=Q=>E.push(Q),p[U]?.(),m=null}:p[U];E.push(this.on(U,D).cancel)}else if(this[U]===void 0)Object.defineProperty(this,U,{get:()=>p[U],set:D=>p[U]=D,configurable:!0,enumerable:!0}),E.push(()=>delete this[U]);else{let D=n.values().find(Q=>Q[U]!==void 0)?.id;throw new Error(`Duplicate component property: "${U}" while adding component "${p.id}"`+(D?` (originally added by "${D}")`:""))}}let w=()=>{if(p.require){for(let U of p.require)if(!this.c(U))throw new Error(`Component "${p.id}" requires component "${U}"`)}};p.destroy&&E.push(p.destroy.bind(this)),this.exists()?(w(),p.add&&(m=U=>E.push(U),p.add.call(this),m=null),p.id&&(this.trigger("use",p.id),y.game.events.trigger("use",this,p.id))):p.require&&E.push(this.on("add",w).cancel)},unuse(p){if(n.has(p)){for(let E of n.values())if(E.require&&E.require.includes(p))throw new Error(`Can't unuse. Component "${E.id}" requires component "${p}"`);n.delete(p),this.trigger("unuse",p),y.game.events.trigger("unuse",this,p)}else A&&h.has(p)&&h.delete(p);s[p]&&(s[p].forEach(E=>E()),delete s[p])},c(p){return n.get(p)??null},get(p,E={}){let w=(T,D)=>E.only==="comps"?T.has(D):E.only==="tags"?T.is(D):T.is(D)||T.has(D),U=E.recursive?this.children.flatMap(function T(D){return[D,...D.children.flatMap(T)]}):this.children;if(U=U.filter(T=>p?w(T,p):!0),E.liveUpdate){let T=Q=>E.recursive?this.isAncestorOf(Q):Q.parent===this,D=[];D.push(y.k.onAdd(Q=>{T(Q)&&w(Q,p)&&U.push(Q)})),D.push(y.k.onDestroy(Q=>{if(T(Q)&&w(Q,p)){let P=U.findIndex(nt=>nt.id===Q.id);P!==-1&&U.splice(P,1)}})),this.onDestroy(()=>{for(let Q of D)Q.cancel()})}return U},query(p){let E=p.hierarchy||"children",w=p.include,U=p.exclude,T=[];switch(E){case"children":T=this.children;break;case"siblings":T=this.parent?this.parent.children.filter(Q=>Q!==this):[];break;case"ancestors":let D=this.parent;for(;D;)T.push(D),D=D.parent;break;case"descendants":T=this.children.flatMap(function Q(P){return[P,...P.children.flatMap(Q)]});break}if(w&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?T=T.filter(D=>D.is(w)):T=T.filter(D=>p.include.some(Q=>D.is(Q)))),U&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?T=T.filter(D=>!D.is(U)):T=T.filter(D=>!p.exclude.some(Q=>D.is(Q)))),p.visible===!0&&(T=T.filter(D=>D.visible)),p.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let D=p.distanceOp||"near",Q=p.distance*p.distance;D==="near"?T=T.filter(P=>P.pos&&this.pos.sdist(P.pos)<=Q):T=T.filter(P=>P.pos&&this.pos.sdist(P.pos)>Q)}return p.name&&(T=T.filter(D=>D.name===p.name)),T},isAncestorOf(p){return p.parent?p.parent===this||this.isAncestorOf(p.parent):!1},exists(){return y.game.root.isAncestorOf(this)},is(p,E="and"){return Array.isArray(p)?E==="and"?p.every(w=>h.has(w)):p.some(w=>h.has(w)):h.has(p)},tag(p){if(Array.isArray(p))for(let E of p)h.add(E),this.trigger("tag",E),y.game.events.trigger("tag",this,E);else h.add(p),this.trigger("tag",p),y.game.events.trigger("tag",this,p)},untag(p){if(Array.isArray(p))for(let E of p)h.delete(E),this.trigger("untag",E),y.game.events.trigger("untag",this,E);else h.delete(p),this.trigger("untag",p),y.game.events.trigger("untag",this,p)},has(p,E="and"){return Array.isArray(p)?E==="and"?p.every(w=>n.has(w)):p.some(w=>n.has(w)):n.has(p)},on(p,E){let w=o.on(p,E.bind(this));return m&&m(()=>w.cancel()),w},trigger(p,...E){o.trigger(p,...E),y.game.objEvents.trigger(p,this,...E)},destroy(){this.parent&&this.parent.remove(this)},inspect(){let p={};for(let[E,w]of n)p[E]=w.inspect?.()??null;for(let[E,w]of u.entries()){if(w.inspect){p[E]=w.inspect();continue}for(let[U,T]of Object.entries(w))typeof T!="function"&&(p[U]=`${U}: ${T}`)}return p},onAdd(p){return this.on("add",p)},onFixedUpdate(p){return this.on("fixedUpdate",p)},onUpdate(p){return this.on("update",p)},onDraw(p){return this.on("draw",p)},onDestroy(p){return this.on("destroy",p)},onUse(p){return this.on("use",p)},onUnuse(p){return this.on("unuse",p)},clearEvents(){o.clear()}},q=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let p of q)b[p]=(...E)=>{let w=y.app[p]?.(...E);return f.push(w),b.onDestroy(()=>w.cancel()),b.on("sceneEnter",()=>{f.splice(f.indexOf(w),1);let U=y.app[p]?.(...E);ei.replace(w,U),f.push(w)}),w};for(let p of a)b.use(p);return b}var i2=()=>({events:new mu,objEvents:new mu,root:$c([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new X(1),angle:0,shake:0,transform:new On}});function l2(a){y.game.gravity=a?(y.game.gravity||L(0,1)).unit().scale(a):null}function u2(){return y.game.gravity?y.game.gravity.len():0}function s2(a){y.game.gravity=a.unit().scale(y.game.gravity?y.game.gravity.len():1)}function gu(){return y.game.gravity?y.game.gravity.unit():L(0,1)}var r2=Qy("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),o2=()=>(()=>{let a=new(window.AudioContext||window.webkitAudioContext),n=a.createGain();n.connect(a.destination);let u=new vu(zv(a));return a.decodeAudioData(r2.buffer.slice(0)).then(s=>{u.buf=s}).catch(s=>{console.error("Failed to load burp: ",s)}),{ctx:a,masterNode:n,burpSnd:u}})();function c2(a,n={}){let u=new Ne,s=new Audio(a);s.crossOrigin="anonymous",s.loop=!!n.loop,y.audio.ctx.createMediaElementSource(s).connect(y.audio.masterNode);function o(){y.debug.paused||y.app.isHidden()&&!y.globalOpt.backgroundAudio||y.audio.ctx.resume()}function f(){o(),s.play()}return n.paused||f(),s.onended=()=>u.trigger(),{play(){f()},seek(h){s.currentTime=h},stop(){s.pause(),this.seek(0)},set loop(h){s.loop=h},get loop(){return s.loop},set paused(h){h?s.pause():f()},get paused(){return s.paused},time(){return s.currentTime},duration(){return s.duration},set volume(h){s.volume=Dn(h,0,1)},get volume(){return s.volume},set speed(h){s.playbackRate=Math.max(h,0)},get speed(){return s.playbackRate},set detune(h){},get detune(){return 0},onEnd(h){return u.add(h)},then(h){return this.onEnd(h)}}}function f2(a,n={}){if(typeof a=="string"&&y.assets.music[a])return c2(y.assets.music[a],n);let u=y.audio.ctx,s=n.paused??!1,o=u.createBufferSource(),f=new Ne,h=u.createGain(),A=u.createStereoPanner(),m=n.seek??0,d=0,b=0,q=!1;o.loop=!!n.loop,o.detune.value=n.detune??0,o.playbackRate.value=n.speed??1,o.connect(A),o.onended=()=>{w()>=(o.buffer?.duration??Number.POSITIVE_INFINITY)&&f.trigger()},A.pan.value=n.pan??0,A.connect(h),h.connect(y.audio.masterNode),h.gain.value=n.volume??1;let p=T=>{o.buffer=T.buf,s||(d=u.currentTime,o.start(0,m),q=!0)},E=sA(a);E instanceof gn&&E.onLoad(p);let w=()=>{if(!o.buffer)return 0;let T=s?b-d:u.currentTime-d,D=o.buffer.duration;return o.loop?T%D:Math.min(T,D)},U=T=>{let D=u.createBufferSource();return D.buffer=T.buffer,D.loop=T.loop,D.playbackRate.value=T.playbackRate.value,D.detune.value=T.detune.value,D.onended=T.onended,D.connect(A),D};return{stop(){this.paused=!0,this.seek(0)},set paused(T){if(s!==T)if(s=T,T)q&&(o.stop(),q=!1),b=u.currentTime;else{o=U(o);let D=b-d;o.start(0,D),q=!0,d=u.currentTime-D,b=0}},get paused(){return s},play(T=0){this.seek(T),this.paused=!1},seek(T){o.buffer?.duration&&(T>o.buffer.duration||(s?(o=U(o),d=b-T):(o.stop(),o=U(o),d=u.currentTime-T,o.start(0,T),q=!0,b=0)))},set speed(T){o.playbackRate.value=T},get speed(){return o.playbackRate.value},set detune(T){o.detune.value=T},get detune(){return o.detune.value},set volume(T){h.gain.value=Math.max(T,0)},get volume(){return h.gain.value},set pan(T){A.pan.value=T},get pan(){return A.pan.value},set loop(T){o.loop=T},get loop(){return o.loop},duration(){return o.buffer?.duration??0},time(){return w()%this.duration()},onEnd(T){return f.add(T)},then(T){return this.onEnd(T)}}}function gp(a){return y.k.play(y.audio.burpSnd,a)}function mp(a){y.audio.masterNode.gain.value=a}function pp(){return y.audio.masterNode.gain.value}function h2(a){return $i("volume","setVolume / getVolume"),a!==void 0&&mp(a),pp()}function yp(){y.app.onHide(()=>{y.globalOpt.backgroundAudio||y.audio.ctx.suspend()}),y.app.onShow(()=>{!y.globalOpt.backgroundAudio&&!y.debug.paused&&y.audio.ctx.resume()}),y.app.onResize(()=>{if(y.app.isFullscreen())return;let a=y.globalOpt.width&&y.globalOpt.height;a&&!y.globalOpt.stretch&&!y.globalOpt.letterbox||(y.canvas.width=y.canvas.offsetWidth*y.pixelDensity,y.canvas.height=y.canvas.offsetHeight*y.pixelDensity,Hm(),a||(y.gfx.frameBuffer.free(),y.gfx.frameBuffer=new Vs(y.gfx.ggl,y.gfx.ggl.gl.drawingBufferWidth,y.gfx.ggl.gl.drawingBufferHeight),y.gfx.width=y.gfx.ggl.gl.drawingBufferWidth/y.pixelDensity/y.gscale,y.gfx.height=y.gfx.ggl.gl.drawingBufferHeight/y.pixelDensity/y.gscale))}),y.globalOpt.debug!==!1&&(y.app.onKeyPress(y.globalOpt.debugKey??"f1",()=>y.debug.inspect=!y.debug.inspect),y.app.onKeyPress("f2",()=>y.debug.clearLog()),y.app.onKeyPress("f8",()=>y.debug.paused=!y.debug.paused),y.app.onKeyPress("f7",()=>{y.debug.timeScale=Tc(Dn(y.debug.timeScale-.2,0,2),1)}),y.app.onKeyPress("f9",()=>{y.debug.timeScale=Tc(Dn(y.debug.timeScale+.2,0,2),1)}),y.app.onKeyPress("f10",()=>y.debug.stepFrame())),y.globalOpt.burp&&y.app.onKeyPress("b",()=>gp())}function d2(a,n={}){let u=y.game.root.add([Ks(a),xp()]),s=(n.speed||1)*5,o=n.scale||1;u.add([zc(y.boomSprite),Zs(0),Hc("center"),cm(s,o),...n.comps??[]]);let f=u.add([zc(y.kaSprite),Zs(0),Hc("center"),Cc(),...n.comps??[]]);return f.wait(.4/s,()=>f.use(cm(s,o))),f.onDestroy(()=>u.destroy()),u}function vp(a,n){if(y.game.layers)throw Error("Layers can only be assigned once.");let u=a.indexOf(n);if(u==-1)throw Error("The default layer name should be present in the layers list.");y.game.layers=a,y.game.defaultLayerIndex=u}function g2(){return y.game.layers}function m2(){return y.game.layers?.[y.game.defaultLayerIndex]??null}function p2(a,n){$i("layers","setLayers"),vp(a,n)}function Ap(a){a.destroy()}function y2(){return y.game.root}function v2(a,n){y.game.scenes[a]=n}function A2(a,...n){if(!y.game.scenes[a])throw new Error(`Scene not found: ${a}`);y.game.events.onOnce("frameEnd",()=>{y.game.events.trigger("sceneLeave",a),y.app.events.clear(),y.game.events.clear(),y.game.objEvents.clear(),[...y.game.root.children].forEach(u=>{!u.stay||u.scenesToStay&&!u.scenesToStay.includes(a)?y.game.root.remove(u):u.trigger("sceneEnter",a)}),y.game.root.clearEvents(),yp(),y.game.cam={pos:null,scale:L(1),angle:0,shake:0,transform:new On},y.game.scenes[a](...n)}),y.game.currentScene=a}function b2(a){return y.game.events.on("sceneLeave",a)}function w2(){return y.game.currentScene}function zc(a,n={}){let u=null,s=null,o=null,f=new Ne;if(!a)throw new Error("Please pass the resource name or data to sprite()");let h=(d,b,q,p)=>{let E=L(1,1);return q&&p?(E.x=q/(d.width*b.w),E.y=p/(d.height*b.h)):q?(E.x=q/(d.width*b.w),E.y=E.x):p&&(E.y=p/(d.height*b.h),E.x=E.y),E},A=(d,b)=>{if(!b)return;let q=b.frames[0].clone();n.quad&&(q=q.scale(n.quad));let p=h(b.tex,q,n.width,n.height);if(d.width=b.tex.width*q.w*p.x,d.height=b.tex.height*q.h*p.y,b.anims)for(let E in b.anims){let w=b.anims[E];typeof w!="number"&&(w.frames=m(w))}u=b,f.trigger(u),n.anim&&d.play(n.anim)},m=d=>{if(d.frames)return d.frames;let b=[];if(d.from===void 0||d.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let q=Math.abs(d.to-d.from)+1;for(let p=0;p<q;p++)b.push(d.from+p*Math.sign(d.to-d.from));if(d.pingpong)for(let p=q-2;p>0;p--)b.push(b[p]);return b};return{id:"sprite",width:0,height:0,frame:n.frame||0,quad:n.quad||new te(0,0,1,1),animSpeed:n.animSpeed??1,flipX:n.flipX??!1,flipY:n.flipY??!1,get sprite(){return a.toString()},set sprite(d){let b=Ns(d);b&&b.onLoad(q=>A(this,q))},get animFrame(){if(!u||!s||o===null)return this.frame;let d=u.anims[s.name];return typeof d=="number"?d:d.from===void 0||d.to===void 0?s.frameIndex:this.frame-Math.min(d.from,d.to)},draw(){if(!u)return;let d=u.frames[this.frame??0];if(!d)throw new Error(`Frame not found: ${this.frame??0}`);if(u.slice9){let{left:b,right:q,top:p,bottom:E}=u.slice9,w=u.tex.width*d.w,U=u.tex.height*d.h,T=this.width-b-q,D=this.height-p-E,Q=b/w,P=q/w,nt=1-Q-P,G=p/U,O=E/U,z=1-G-O,K=[oe(0,0,Q,G),oe(Q,0,nt,G),oe(Q+nt,0,P,G),oe(0,G,Q,z),oe(Q,G,nt,z),oe(Q+nt,G,P,z),oe(0,G+z,Q,O),oe(Q,G+z,nt,O),oe(Q+nt,G+z,P,O),oe(0,0,b,p),oe(b,0,T,p),oe(b+T,0,q,p),oe(0,p,b,D),oe(b,p,T,D),oe(b+T,p,q,D),oe(0,p+D,b,E),oe(b,p+D,T,E),oe(b+T,p+D,q,E)];for(let $=0;$<9;$++){let tt=K[$],at=K[$+9];Qs(Object.assign(ti(this),{pos:at.pos(),tex:u.tex,quad:d.scale(tt),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:at.w,height:at.h}))}}else Qs(Object.assign(ti(this),{tex:u.tex,quad:d.scale(this.quad??new te(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:n.tiled,width:this.width,height:this.height}))},add(){let d=Ns(a);d?d.onLoad(b=>A(this,b)):Pc(()=>A(this,Ns(a).data))},update(){if(!u||!s||o===null)return;let d=u.anims[s.name];if(typeof d=="number"){this.frame=d;return}if(d.speed===0)throw new Error("Sprite anim speed cannot be 0");if(s.timer+=xe()*this.animSpeed,s.timer>=1/s.speed){s.timer=0,s.frameIndex+=o;let b=d.frames;if(s.frameIndex>=b.length)if(s.pingpong&&!d.pingpong)o=-1,s.frameIndex=b.length-2;else if(s.loop)s.frameIndex=0;else{this.frame=b.at(-1),s.onEnd(),this.stop();return}else if(s.frameIndex<0)if(s.pingpong&&s.loop)o=1,s.frameIndex=1;else if(s.loop)s.frameIndex=b.length-1;else{this.frame=b[0],s.onEnd(),this.stop();return}this.frame=b[s.frameIndex]}},play(d,b={}){if(!u){f.add(()=>this.play(d,b));return}let q=u.anims[d];if(q===void 0)throw new Error(`Anim not found: ${d}`);s&&this.stop(),s=typeof q=="number"?{name:d,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:()=>{}}:{name:d,timer:0,loop:b.loop??q.loop??!1,pingpong:b.pingpong??q.pingpong??!1,speed:b.speed??q.speed??10,frameIndex:0,onEnd:b.onEnd??(()=>{})},o=typeof q=="number"?null:1,this.frame=typeof q=="number"?q:q.frames[0],this.trigger("animStart",d)},stop(){if(!s)return;let d=s.name;s=null,this.trigger("animEnd",d)},numFrames(){return u?.frames.length??0},getCurAnim(){return s},curAnim(){return s?.name},getAnim(d){return u?.anims[d]??null},hasAnim(d){return!!this.getAnim(d)},onAnimEnd(d){return this.on("animEnd",d)},onAnimStart(d){return this.on("animStart",d)},renderArea(){return new Jt(L(0),this.width,this.height)},inspect(){return typeof a=="string"?`sprite: "${a}"`:null}}}function x2(a,n={}){function u(o){let f=Pa(Object.assign(ti(o),{text:o.text+"",size:o.textSize,font:o.font,width:n.width&&o.width,align:o.align,letterSpacing:o.letterSpacing,lineSpacing:o.lineSpacing,transform:o.textTransform,styles:o.textStyles,indentAll:n.indentAll}));return n.width||(o.width=f.width/(o.scale?.x||1)),o.height=f.height/(o.scale?.y||1),f}let s={id:"text",set text(o){a=o,u(this),this.renderedText=Oc(a).text},get text(){return a},textSize:n.size??36,font:n.font,width:n.width??0,height:0,align:n.align,lineSpacing:n.lineSpacing,letterSpacing:n.letterSpacing,textTransform:n.transform,textStyles:n.styles,renderedText:a?Oc(a).text:"",add(){Pc(()=>u(this))},draw(){$a(u(this))},renderArea(){return new Jt(L(0),this.width,this.height)}};return u(s),s}function S2(a,n){return{id:"rect",width:a,height:n,draw(){Au(Object.assign(ti(this),{width:this.width,height:this.height}))},renderArea(){return new Jt(L(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}function E2(a={}){let n=null,u=null,s=null,o=null;return{id:"agent",require:["pos","tile"],agentSpeed:a.speed??100,allowDiagonals:a.allowDiagonals??!0,getDistanceToTarget(){return n?this.pos.dist(n):0},getNextLocation(){return u&&s?u[s]:null},getPath(){return u?u.slice():null},getTarget(){return n},isNavigationFinished(){return u?s===null:!0},isTargetReachable(){return u!==null},isTargetReached(){return n?this.pos.eq(n):!0},setTarget(f){n=f,u=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),s=u?0:null,u&&s!==null?(o||(o=this.getLevel().onNavigationMapChanged(()=>{n&&u&&s!==null&&(u=this.getLevel().getPath(this.pos,n,{allowDiagonals:this.allowDiagonals}),u?(s=0,this.trigger("navigationNext",this,u[s])):(s=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>o?.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,u[s])):this.trigger("navigationEnded",this)},update(){if(n&&u&&s!==null){if(this.pos.sdist(u[s])<2)if(s===u.length-1){this.pos=n.clone(),s=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else s++,this.trigger("navigationNext",this,u[s]);this.moveTo(u[s],this.agentSpeed)}},onNavigationStarted(f){return this.on("navigationStarted",f)},onNavigationNext(f){return this.on("navigationNext",f)},onNavigationEnded(f){return this.on("navigationEnded",f)},onTargetReached(f){return this.on("targetReached",f)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(n),path:JSON.stringify(u)})}}}function M2(a){let n=a.graph;return{id:"pathfinder",require:["pos"],navigateTo(u){return this.graph?.getWaypointPath(this.pos,u,a.navigationOpt)},get graph(){if(n)return n;let u=this.parent;for(;u;){if(u.has("pathfinderMap"))return u.graph;u=u.parent}},set graph(u){n=u}}}function T2(a={}){let n=a.waypoints,u=a.speed||100,s=a.endBehavior||"stop",o=0,f=n!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return u},set patrolSpeed(h){u=h},get waypoints(){return n},set waypoints(h){n=h,o=0,f=!1},get nextLocation(){return n?n[o]:void 0},update(){let h=this.nextLocation;if(!(!n||!h||f)&&(this.moveTo(h,u),this.pos.sdist(h)<9))switch(s){case"loop":o=(o+1)%n.length;break;case"ping-pong":o=o+1,o==n.length&&(n.reverse(),o=0);break;case"stop":o<n.length-1?o+=1:f||(f=!0,this.trigger("patrolFinished",this));break}},onPatrolFinished(h){return this.on("patrolFinished",h)}}}function q2(a,n={}){let u=typeof a=="function"?a:()=>y.game.root.query(a),s=n.checkFrequency||1,o=typeof n.direction=="number"?X.fromAngle(n.direction):n.direction,f=0;return{id:"sentry",require:["pos"],direction:typeof n.direction=="number"?X.fromAngle(n.direction):n.direction,spotted:[],set directionAngle(h){this.direction=h!==void 0?X.fromAngle(h):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:n.fieldOfView||200,isWithinFieldOfView(h,A,m){let d=(typeof A=="number"?X.fromAngle(A):A)||o,b=m||n.fieldOfView;if(!d||!b||b>=360)return!0;let q=b/2;return h.pos&&d.angleBetween(h.pos.sub(this.pos))<=q},hasLineOfSight(h){let A=ep(this.pos,h.pos.sub(this.pos),n.raycastExclude);return A!=null&&A.object===h},update(){if(f+=xe(),f>s){f-=s;let h=u();if(h.length&&o&&this.fieldOfView&&this.fieldOfView<360){let A=this.fieldOfView/2;h=h.filter(m=>m.pos&&o.angleBetween(m.pos.sub(this.pos))<=A)}h.length&&n.lineOfSight&&(h=h.filter(A=>A.pos&&this.hasLineOfSight(A))),h.length>0&&(this.spotted=h,this.trigger("objectSpotted",h))}},onObjectsSpotted(h){return this.on("objectSpotted",h)}}}function bp(a={}){let n=L(0),u=a.isObstacle??!1,s=a.cost??0,o=a.edges??[],f=()=>{let A={left:1,top:2,right:4,bottom:8};return o.map(m=>A[m]||0).reduce((m,d)=>m|d,0)},h=f();return{id:"tile",tilePosOffset:a.offset??L(0),set tilePos(A){let m=this.getLevel();n=A.clone(),this.pos=L(this.tilePos.x*m.tileWidth(),this.tilePos.y*m.tileHeight()).add(this.tilePosOffset)},get tilePos(){return n},set isObstacle(A){u!==A&&(u=A,this.getLevel().invalidateNavigationMap())},get isObstacle(){return u},set cost(A){s!==A&&(s=A,this.getLevel().invalidateNavigationMap())},get cost(){return s},set edges(A){o=A,h=f(),this.getLevel().invalidateNavigationMap()},get edges(){return o},get edgeMask(){return h},getLevel(){return this.parent},tileMove(A){let m=this.getLevel();m.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(A),m.insertIntoSpatialMap(this),m.trigger("spatialMapChanged")},moveLeft(){this.tileMove(L(-1,0))},moveRight(){this.tileMove(L(1,0))},moveUp(){this.tileMove(L(0,-1))},moveDown(){this.tileMove(L(0,1))}}}var tf=class{name;duration;loops;direction;easing;interpolation;isFinished;timing;easings;relative;constructor(a,n,u){this.name=a,this.duration=n.duration,this.loops=n.loops||0,this.direction=n.direction||"forward",this.easing=n.easing||pu.linear,this.interpolation=n.interpolation||"linear",this.isFinished=!1,this.timing=n.timing,this.easings=n.easings,this.relative=u}update(a,n){return!0}getLowerKeyIndexAndRelativeTime(a,n,u){let s=n-1,o=a/this.duration;if(this.loops!==0&&o>=this.loops)return[s,0,!0];let f=Math.trunc(o);if(o-=f,(this.direction=="reverse"||this.direction=="ping-pong"&&f&1)&&(o=1-o),u){let h=0;for(;u[h+1]!==void 0&&u[h+1]<o;)h++;return h>=s?[s,0,!0]:[h,(o-u[h])/(u[h+1]-u[h]),!1]}else{let h=Math.floor((n-1)*o);return[h,(o-h/s)*s,!1]}}setValue(a,n,u){if(this.relative)switch(n){case"pos":a.pos=a.base.pos.add(u);break;case"angle":a.angle=a.base.angle+u;break;case"scale":a.scale=a.base.scale.scale(u);break;case"opacity":a.opacity=a.base.opacity*u;break;default:a[n]=u}else a[n]=u}serialize(){let a={duration:this.duration,keys:[]};return this.loops&&(a.loops=this.loops),this.direction!=="forward"&&(a.direction=this.direction),this.easing!=pu.linear&&(a.easing=this.easing.name),this.interpolation!=="linear"&&(a.interpolation=this.interpolation),this.timing&&(a.timing=this.timing),this.easings&&(a.easings=this.easings.map(n=>this.easing.name)),a}};function om(a,n){return n.add(n.sub(a))}var R2=class extends tf{keys;constructor(a,n,u,s){super(a,u,s),this.keys=n}update(a,n){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(n,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(a,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;this.setValue(a,this.name,Je(this.keys[u],this.keys[u+1],f(s)))}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},D2=class extends tf{keys;curves;dcurves;constructor(a,n,u,s,o){if(super(a,u,s),this.keys=n,this.interpolation==="spline"){this.curves=[],o&&(this.dcurves=[]);for(let f=0;f<this.keys.length-1;f++){let h=this.keys[f],A=f+1,m=this.keys[A],d=f>0?this.keys[f-1]:om(m,h),b=A<this.keys.length-1?this.keys[A+1]:om(h,m);this.curves.push(Ls(d,h,m,b)),o&&this.dcurves?.push(Ls(d,h,m,b,T1))}}}update(a,n){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(n,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(a,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;switch(this.interpolation){case"linear":this.setValue(a,this.name,this.keys[u].lerp(this.keys[u+1],f(s)));break;case"slerp":this.setValue(a,this.name,this.keys[u].slerp(this.keys[u+1],f(s)));break;case"spline":if(this.curves){this.setValue(a,this.name,this.curves[u](f(s))),this.dcurves&&this.setValue(a,"angle",this.dcurves[u](f(s)).angle());break}}}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(a=>[a.x,a.y])})}},O2=class extends tf{keys;constructor(a,n,u,s){super(a,u,s),this.keys=n}update(a,n){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(n,this.keys.length,this.timing);if(s==0||this.interpolation=="none")this.setValue(a,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;this.setValue(a,this.name,this.keys[u].lerp(this.keys[u+1],f(s)))}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}};function B2(a={}){let n=[],u=0,s=!1;return{id:"animate",require:a.followMotion?["rotate"]:void 0,base:{pos:L(0,0),angle:0,scale:L(1,1),opacity:1},animation:{paused:!1,seek(o){u=Dn(o,0,this.duration),n.forEach(f=>{f.isFinished=!1}),s=!1},get duration(){return n.reduce((o,f)=>Math.max(f.duration,o),0)}},add(){a.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let o=!0,f;u+=xe();for(let h of n)f=h.update(this,u),f&&!h.isFinished&&(h.isFinished=!0,this.trigger("animateChannelFinished",h.name)),o&&=f;o&&!s&&(s=!0,this.trigger("animateFinished"))},animate(o,f,h){s=!1,this.unanimate(o),typeof f[0]=="number"?n.push(new R2(o,f,h,a.relative||!1)):f[0]instanceof X?n.push(new D2(o,f,h,a.relative||!1,o==="pos"&&(a.followMotion||!1))):f[0]instanceof Dt&&n.push(new O2(o,f,h,a.relative||!1))},unanimate(o){let f=n.findIndex(h=>h.name===o);f>=0&&n.splice(f,1)},unanimateAll(){n.splice(0,n.length)},onAnimateFinished(o){return this.on("animateFinished",o)},onAnimateChannelFinished(o){return this.on("animateChannelFinished",o)},serializeAnimationChannels(){return n.reduce((o,f)=>(o[f.name]=f.serialize(),o),{})},serializeAnimationOptions(){let o={};return a.followMotion&&(o.followMotion=!0),a.relative&&(o.relative=!0),o}}}function wp(a,n){let u={name:a.name};return a.has("animate")&&(u.channels=a.serializeAnimationChannels(),Object.assign(u,a.serializeAnimationOptions())),a.children.length>0&&(u.children=a.children.filter(s=>s.has("named")).map(s=>wp(s,s.name))),u}function cm(a=2,n=1){let u=0;return{require:["scale"],update(){let s=Math.sin(u*a)*n;s<0&&this.destroy(),this.scale=L(s),u+=xe()}}}function U2(a,n){if(a==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(u=1){this.setHP(a-u),this.trigger("hurt",u)},heal(u=1){let s=a;this.setHP(a+u),this.trigger("heal",a-s)},hp(){return a},maxHP(){return n??null},setMaxHP(u){n=u},setHP(u){a=n?Math.min(n,u):u,a<=0&&this.trigger("death")},onHurt(u){return this.on("hurt",u)},onHeal(u){return this.on("heal",u)},onDeath(u){return this.on("death",u)},inspect(){return`health: ${a}`}}}function z2(a,n={}){if(a==null)throw new Error("lifespan() requires time");let u=n.fade??0;return{id:"lifespan",require:["opacity"],add(){y.game.root.wait(a,()=>{this.opacity=this.opacity??1,u>0?y.game.root.tween(this.opacity,0,u,s=>this.opacity=s,pu.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}function C2(a){return{id:"named",name:a}}function N2(a,n,u){if(!a)throw new Error("state() requires an initial state");let s={};function o(m){s[m]||(s[m]={enter:new Ne,end:new Ne,update:new Ne,draw:new Ne})}function f(m,d,b){return o(d),s[d][m].add(b)}function h(m,d,...b){o(d),s[d][m].trigger(...b)}let A=!1;return{id:"state",state:a,enterState(m,...d){if(A=!0,n&&!n.includes(m))throw new Error(`State not found: ${m}`);let b=this.state;if(u){if(!u?.[b])return;let q=typeof u[b]=="string"?[u[b]]:u[b];if(!q.includes(m))throw new Error(`Cannot transition state from "${b}" to "${m}". Available transitions: ${q.map(p=>`"${p}"`).join(", ")}`)}h("end",b,...d),this.state=m,h("enter",m,...d),h("enter",`${b} -> ${m}`,...d)},onStateTransition(m,d,b){return f("enter",`${m} -> ${d}`,b)},onStateEnter(m,d){return f("enter",m,d)},onStateUpdate(m,d){return f("update",m,d)},onStateDraw(m,d){return f("draw",m,d)},onStateEnd(m,d){return f("end",m,d)},update(){A||(h("enter",a),A=!0),h("update",this.state)},draw(){h("draw",this.state)},inspect(){return`state: ${this.state}`}}}function xp(a){return{id:"stay",stay:!0,scenesToStay:a}}function H2(a=!0,n){let u,s;return{id:"textInput",hasFocus:a,require:["text"],typedText:"",add(){let o=()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")};u=y.k.onCharInput(f=>{this.hasFocus&&(!n||this.typedText.length<n)&&(y.k.isKeyDown("shift")?this.typedText+=f.toUpperCase():this.typedText+=f,o())}),s=y.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1),o())})},destroy(){u.cancel(),s.cancel()}}}function Cc(a=1e3){return{id:"timer",maxLoopsPerFrame:a,loop(n,u,s=1/0,o=!1){let f=o?0:n,h=new Ne,A=this.onUpdate(()=>{f+=y.app.state.dt;for(let m=0;f>=n&&m<this.maxLoopsPerFrame;m++)if(s--,u(),f-=n,s<=0){A.cancel(),h.trigger();return}});return{get paused(){return A.paused},set paused(m){A.paused=m},cancel:A.cancel,onEnd(m){h.add(m)},then(m){return h.add(m),this}}},wait(n,u){return this.loop(n,u??(()=>{}),1,!0)},tween(n,u,s,o,f=pu.linear){let h=0,A=[],m=this.onUpdate(()=>{h+=y.app.state.dt;let d=Math.min(h/s,1);o(Je(n,u,f(d))),d===1&&(m.cancel(),o(u),A.forEach(b=>b()))});return{get paused(){return m.paused},set paused(d){m.paused=d},onEnd(d){A.push(d)},then(d){return this.onEnd(d),this},cancel(){m.cancel()},finish(){m.cancel(),o(u),A.forEach(d=>d())}}}}}var Nc=0;function G2(){return Nc>0}function Y2(a={}){let n={},u=new Set,s=[];return{id:"area",collisionIgnore:a.collisionIgnore??[],add(){Nc++,this.area.cursor&&s.push(this.onHover(()=>y.app.setCursor(this.area.cursor))),s.push(this.onCollideUpdate((o,f)=>{if(!o.id)throw new Error("area() requires the object to have an id");n[o.id]||this.trigger("collide",o,f),f&&(n[o.id]=f,u.add(o.id))}))},destroy(){Nc--;for(let o of s)o.cancel()},fixedUpdate(){for(let o in n)u.has(Number(o))||(this.trigger("collideEnd",n[o].target),delete n[o]);u.clear()},drawInspect(){let o=this.localArea();cn(),ae(this.area.offset);let f={outline:{width:4/Gm(),color:Ht(0,0,255)},anchor:this.anchor,fill:!1,fixed:Fa(this)};o instanceof Jt?hn({...f,pos:o.pos,width:o.width*this.area.scale.x,height:o.height*this.area.scale.y}):o instanceof He?xa({...f,pts:o.pts,scale:this.area.scale}):o instanceof Fe&&el({...f,pos:o.center,radius:o.radius}),ke()},area:{shape:a.shape??null,scale:a.scale?L(a.scale):L(1),offset:a.offset??L(0),cursor:a.cursor??null},isClicked(){return y.app.isMousePressed()&&this.isHovering()},isHovering(){let o=Fa(this)?y.k.mousePos():y.k.toWorld(y.k.mousePos());return this.hasPoint(o)},checkCollision(o){if(!o.id)throw new Error("checkCollision() requires the object to have an id");return n[o.id]??null},getCollisions(){return Object.values(n)},isColliding(o){if(!o.id)throw new Error("isColliding() requires the object to have an id");return!!n[o.id]},isOverlapping(o){if(!o.id)throw new Error("isOverlapping() requires the object to have an id");let f=n[o.id];return f&&f.hasOverlap()},onClick(o,f="left"){let h=this.onMousePress(f,()=>{this.isHovering()&&o()});return s.push(h),h},onHover(o){let f=!1;return this.onUpdate(()=>{f?f=this.isHovering():this.isHovering()&&(f=!0,o())})},onHoverUpdate(o){return this.onUpdate(()=>{this.isHovering()&&o()})},onHoverEnd(o){let f=!1;return this.onUpdate(()=>{f?this.isHovering()||(f=!1,o()):f=this.isHovering()})},onCollide(o,f){if(typeof o=="function"&&f===void 0)return this.on("collide",o);if(typeof o=="string")return this.onCollide((h,A)=>{h.is(o)&&f?.(h,A)});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideUpdate",o);if(typeof o=="string")return this.on("collideUpdate",(h,A)=>h.is(o)&&f?.(h,A));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideEnd",o);if(typeof o=="string")return this.on("collideEnd",h=>h.is(o)&&f?.(h));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(o){return Ea(this.worldArea(),o)},resolveCollision(o){let f=this.checkCollision(o);f&&!f.resolved&&(this.pos=this.pos.add(f.displacement),f.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let o=this.localArea();if(!(o instanceof He||o instanceof Jt))throw new Error("Only support polygon and rect shapes for now");let f=this.transform.clone().translate(this.area.offset).scale(L(this.area.scale??1));if(o instanceof Jt){let h=tl(this.anchor||Ws).add(1,1).scale(-.5).scale(o.width,o.height);f.translate(h)}return o.transform(f)},screenArea(){let o=this.worldArea();return Fa(this)?o:o.transform(y.game.cam.transform)},inspect(){return this.area.scale?.x==this.area.scale?.y?`area: ${this.area.scale?.x?.toFixed(1)}x`:`area: (${this.area.scale?.x?.toFixed(1)}x, ${this.area.scale.y?.toFixed(1)}y)`}}}function _2(a={}){let n=null,u=null,s=!1,o=L(0),f=null,h=null,A;return{id:"body",require:["pos"],vel:L(0),drag:a.drag??0,jumpForce:a.jumpForce??Z1,gravityScale:a.gravityScale??1,isStatic:a.isStatic??!1,mass:a.mass??1,add(){if(f=this.pos.clone(),h=this.pos.clone(),A=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((m,d)=>{if(!d||!m.has("body")||d.resolved)return;this.trigger("beforePhysicsResolve",d);let b=d.reverse();if(m.trigger("beforePhysicsResolve",b),!(d.resolved||b.resolved)&&!(this.isStatic&&m.isStatic)){if(!this.isStatic&&!m.isStatic){let q=this.mass+m.mass;this.pos=this.pos.add(d.displacement.scale(m.mass/q)),m.pos=m.pos.add(d.displacement.scale(-this.mass/q)),this.transform=hu(this),m.transform=hu(m)}else{let q=!this.isStatic&&m.isStatic?d:d.reverse();q.source.pos=q.source.pos.add(q.displacement),q.source.transform=hu(q.source)}d.resolved=!0,this.trigger("physicsResolve",d),m.trigger("physicsResolve",d.reverse())}}),this.onPhysicsResolve(m=>{if(y.game.gravity)if(m.isBottom()&&this.isFalling()){this.vel=this.vel.reject(y.game.gravity.unit());let d=n;n=m.target,d!=n&&(u=m.target.pos),s?s=!1:d||(this.trigger("ground",n),m.target.trigger("land",this))}else m.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(y.game.gravity.unit()),this.trigger("headbutt",m.target),m.target.trigger("headbutted",this))}))},update(){n&&this.isColliding(n)&&n.exists()&&n.has("body")&&(u&&!n.pos.eq(u)&&a.stickToPlatform!==!1&&this.moveBy(n.pos.sub(u)),u=n.pos);let m=Rc();m&&(this.pos.x==A.x&&(this.pos.x=Je(f.x,h.x,m/qc()),A.x=this.pos.x),this.pos.y==A.y&&(this.pos.y=Je(f.y,h.y,m/qc()),A.y=this.pos.y))},fixedUpdate(){if(f&&(this.pos.x==A.x&&(this.pos.x=f.x),this.pos.y==A.y&&(this.pos.y=f.y),f=null),y.game.gravity&&!this.isStatic){s&&(n=null,u=null,this.trigger("fallOff"),s=!1),n&&(!this.isColliding(n)||!n.exists()||!n.has("body"))&&(s=!0);let m=this.vel.clone();this.vel=this.vel.add(y.game.gravity.scale(this.gravityScale*xe()));let d=a.maxVelocity??k1;this.vel.slen()>d*d&&(this.vel=this.vel.unit().scale(d)),m.dot(y.game.gravity)<0&&this.vel.dot(y.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=o.x*xe(),this.vel.y+=o.y*xe(),this.vel.x*=1-this.drag*xe(),this.vel.y*=1-this.drag*xe(),this.move(this.vel),Rc()){f=this.pos.clone();let m=this.vel.add(o.scale(xe()));h=this.pos.add(m.scale(xe())),A=this.pos.clone()}o.x=0,o.y=0},onPhysicsResolve(m){return this.on("physicsResolve",m)},onBeforePhysicsResolve(m){return this.on("beforePhysicsResolve",m)},curPlatform(){return n},isGrounded(){return n!==null},isFalling(){return this.vel.dot(gu())>0},isJumping(){return this.vel.dot(gu())<0},applyImpulse(m){this.isStatic||(this.vel=this.vel.add(m))},addForce(m){this.isStatic||(o.x+=m.x/this.mass,o.y+=m.y/this.mass)},jump(m){this.isStatic||(n=null,u=null,this.vel=gu().scale(-m||-this.jumpForce))},onGround(m){return this.on("ground",m)},onFall(m){return this.on("fall",m)},onFallOff(m){return this.on("fallOff",m)},onHeadbutt(m){return this.on("headbutt",m)},onLand(m){return this.on("land",m)},onHeadbutted(m){return this.on("headbutted",m)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}function L2(a=2){let n=a;return{id:"doubleJump",require:["body"],numJumps:a,add(){this.onGround(()=>{n=this.numJumps})},doubleJump(u){n<=0||(n<this.numJumps&&this.trigger("doubleJump"),n--,this.jump(u))},onDoubleJump(u){return this.on("doubleJump",u)},inspect(){return`jumpsLeft: ${n}`}}}function j2(a){return{id:"surfaceEffector",require:["area"],speed:a.speed,speedVariation:a.speedVariation??0,forceScale:a.speedVariation??.9,add(){this.onCollideUpdate("body",(n,u)=>{let s=u?.normal.normal(),o=n.vel.project(s),f=s?.scale(this.speed)?.sub(o);n.addForce(f?.scale(n.mass*this.forceScale))})}}}function X2(a){return{id:"areaEffector",require:["area"],useGlobalAngle:a.useGlobalAngle||!1,forceAngle:a.forceAngle,forceMagnitude:a.forceMagnitude,forceVariation:a.forceVariation??0,linearDrag:a.linearDrag??0,add(){this.onCollideUpdate("body",(n,u)=>{if(!n.has("body"))return;let s=X.fromAngle(this.forceAngle).scale(this.forceMagnitude);n.addForce(s),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function V2(a){return{id:"pointEffector",require:["area","pos"],forceMagnitude:a.forceMagnitude,forceVariation:a.forceVariation??0,distanceScale:a.distanceScale??1,forceMode:a.forceMode||"inverseLinear",linearDrag:a.linearDrag??0,add(){this.onCollideUpdate("body",(n,u)=>{let s=this.pos.sub(n.pos),o=s.len(),f=o*this.distanceScale/10,h=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/f:1/f**2,A=s.scale(this.forceMagnitude*h/o);n.addForce(A),this.linearDrag&&n.addForce(n.vel.scale(-this.linearDrag))})}}}function Q2(a){return{id:"constantForce",require:["body"],force:a.force,update(){this.force&&this.addForce(this.force)}}}function K2(a){return{id:"platformEffector",require:["area","body"],surfaceArc:a.surfaceArc??180,useOneWay:a.useOneWay??!1,add(){this.onBeforePhysicsResolve(n=>{let u=n.target.vel,s=gu().scale(-1).angleBetween(u);Math.abs(s)>this.surfaceArc/2&&n.preventResolution()})}}}function Z2(a){return{id:"buoyancyEffector",require:["area"],surfaceLevel:a.surfaceLevel,density:a.density??1,linearDrag:a.linearDrag??1,angularDrag:a.angularDrag??.2,flowAngle:a.flowAngle??0,flowMagnitude:a.flowMagnitude??0,flowVariation:a.flowVariation??0,add(){this.onCollideUpdate("body",(n,u)=>{let s=n,o=s.worldArea(),[f,h]=o.cut(L(-100,this.surfaceLevel),L(100,this.surfaceLevel));f&&(this.applyBuoyancy(s,f),this.applyDrag(s,f)),this.flowMagnitude&&s.addForce(X.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(n,u){let s=this.density*u.area(),o=L(0,1).scale(-s);n.addForce(o)},applyDrag(n,u){let s=n.vel,o=this.density*this.linearDrag,f=s.scale(-o);n.addForce(f)}}}function Hc(a){if(!a)throw new Error("Please define an anchor");return{id:"anchor",anchor:a,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}function Sp(){return{id:"fixed",fixed:!0}}function k2(a,n){return{id:"follow",require:["pos"],follow:{obj:a,offset:n??L(0)},add(){a.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){a.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}function J2(a){let n=y.game.layers?.indexOf(a);return{id:"layer",get layerIndex(){return n??null},get layer(){return n?y.game.layers?.[n]??null:null},set layer(u){if(n=y.game.layers?.indexOf(u),n==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}function F2(a,n){let u=typeof a=="number"?X.fromAngle(a):a.unit();return{id:"move",require:["pos"],update(){this.move(u.scale(n))}}}function W2(a={}){let n=!1,u=new Jt(L(0),Te(),Oe()),s=new Jt(L(0),0,0),o=f=>{f.isOffScreen()?(n||(f.trigger("exitView"),n=!0),a.hide&&(f.hidden=!0),a.pause&&(f.paused=!0),a.destroy&&f.destroy()):(n&&(f.trigger("enterView"),n=!1),a.hide&&(f.hidden=!1),a.pause&&(f.paused=!1))};return{id:"offscreen",require:["pos"],offscreenDistance:a.distance??Ig,isOffScreen(){let f=this.screenPos();if(!f)return!1;if(u.width=Te(),u.height=Oe(),!this.offscreenDistance&&this.width&&this.height)return s.width=this.width,s.height=this.height,s.pos=this.pos,s.collides(u);let h=this.offscreenDistance?this.offscreenDistance:Ig;return!ks(u,f)&&u.sdistToPoint(f)>h*h},onExitScreen(f){return this.on("exitView",f)},onEnterScreen(f){return this.on("enterView",f)},add(){a.pause&&a.unpause?ap(()=>o(this)):this.onUpdate(()=>o(this))}}}function Ks(...a){return{id:"pos",pos:L(...a),moveBy(...n){this.pos=this.pos.add(L(...n))},move(...n){this.moveBy(L(...n).scale(xe()))},moveTo(...n){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.moveTo(L(n[0],n[1]),n[2]);let u=n[0],s=n[1];if(s===void 0){this.pos=L(u);return}let o=u.sub(this.pos);if(o.len()<=s*xe()){this.pos=L(u);return}this.move(o.unit().scale(s))},worldPos(n=null){return n?(this.pos=this.pos.add(this.fromWorld(n)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(n){return this.parent?this.parent.transform.multVec2(this.pos.add(n)):this.pos.add(n)},fromWorld(n){return this.parent?this.parent.transform.invert().multVec2(n).sub(this.pos):n.sub(this.pos)},screenPos(n=null){if(n)return this.pos=this.pos.add(this.fromScreen(n)),null;{let u=this.worldPos();return u?Fa(this)?u:Uc(u):null}},toScreen(n){let u=this.toWorld(n);return Fa(this)?u:Uc(u)},fromScreen(n){return Fa(this)?this.fromWorld(n):this.fromWorld(dp(n))},toOther(n,u){return n.fromWorld(this.toWorld(u))},fromOther(n,u){return n.toOther(this,u)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){el({color:Ht(255,0,0),radius:4/Gm()})}}}function I2(a){return{id:"rotate",angle:a??0,rotateBy(n){this.angle+=n},rotateTo(n){this.angle=n},inspect(){return`angle: ${Math.round(this.angle)}`}}}function Zs(...a){if(a.length===0)return Zs(1);let n=L(...a);return{id:"scale",set scale(u){if(!(u instanceof X))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");n=L(u)},get scale(){return n},scaleTo(...u){n=L(...u)},scaleBy(...u){n=n.scale(L(...u))},inspect(){return n.x==n.y?`scale: ${n.x.toFixed(1)}x`:`scale: (${n.x.toFixed(1)}x, ${n.y.toFixed(1)}y)`}}}function P2(a){return{id:"z",z:a,inspect(){return`z: ${this.z}`}}}var $2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",tb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",eb=Ky.version,y={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},nb=(a={tagsAsComponents:!0})=>{y.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),y.k.quit()),y.globalOpt=a;let n=a.root??document.body;n===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let u=a.canvas??n.appendChild(document.createElement("canvas"));y.canvas=u;let s=a.scale??1;y.gscale=s;let o=a.width&&a.height&&!a.stretch&&!a.letterbox;o?(u.width=a.width*s,u.height=a.height*s):(u.width=u.parentElement.offsetWidth,u.height=u.parentElement.offsetHeight);let f=["outline: none","cursor: default"];if(o){let ct=u.width,yt=u.height;f.push(`width: ${ct}px`),f.push(`height: ${yt}px`)}else f.push("width: 100%"),f.push("height: 100%");a.crisp&&(f.push("image-rendering: pixelated"),f.push("image-rendering: crisp-edges")),u.style.cssText=f.join(";");let h=a.pixelDensity||1;y.pixelDensity=h,u.width*=h,u.height*=h,u.tabIndex=0;let A=document.createElement("canvas");A.width=256,A.height=256,y.fontCacheCanvas=A;let m=A.getContext("2d",{willReadFrequently:!0});y.fontCacheC2d=m;let d=xv({canvas:u,touchToMouse:a.touchToMouse,gamepads:a.gamepads,pixelDensity:a.pixelDensity,maxFPS:a.maxFPS,buttons:a.buttons});y.app=d;let b=[],q=d.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!q)throw new Error("WebGL not supported");let p=q,E=mA(p,{texFilter:a.texFilter}),w=xA(a,E);y.gfx=w;let U=o2();y.audio=U;let T=Fv(E,a.spriteAtlasPadding??0);y.assets=T;let D=i2();y.game=D,D.root.use(Cc());function Q(ct,yt){let wt=new Vs(E,ct,yt);return{clear:()=>wt.clear(),free:()=>wt.free(),toDataURL:()=>wt.toDataURL(),toImageData:()=>wt.toImageData(),width:wt.width,height:wt.height,draw:Kt=>{fn(),wt.bind(),Kt(),fn(),wt.unbind()},get fb(){return wt}}}function P(){p.clear(p.COLOR_BUFFER_BIT),w.frameBuffer.bind(),p.clear(p.COLOR_BUFFER_BIT),w.bgColor||wa(()=>{Au({width:Te(),height:Oe(),quad:new te(0,0,Te()/64,Oe()/64),tex:w.bgTex,fixed:!0})}),w.renderer.numDraws=0,w.fixed=!1,w.transformStack.length=0,w.transform=new On}function nt(ct,yt){w.postShader=ct,w.postShaderUniform=yt??null}function G(){fn(),w.lastDrawCalls=w.renderer.numDraws,w.frameBuffer.unbind(),p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);let ct=w.width,yt=w.height;w.width=p.drawingBufferWidth/h,w.height=p.drawingBufferHeight/h,Qs({flipY:!0,tex:w.frameBuffer.tex,pos:new X(w.viewport.x,w.viewport.y),width:w.viewport.width,height:w.viewport.height,shader:w.postShader,uniform:typeof w.postShaderUniform=="function"?w.postShaderUniform():w.postShaderUniform,fixed:!0}),fn(),w.width=ct,w.height=yt}let O=!1,z={inspect:!1,set timeScale(ct){y.app.state.timeScale=ct},get timeScale(){return y.app.state.timeScale},showLog:!0,fps:()=>d.fps(),numFrames:()=>d.numFrames(),stepFrame:ot,drawCalls:()=>w.lastDrawCalls,clearLog:()=>D.logs=[],log:(...ct)=>{let yt=a.logMax??8,wt=ct.length>1?ct.concat(" ").join(" "):ct[0];D.logs.unshift({msg:wt,time:d.time()}),D.logs.length>yt&&(D.logs=D.logs.slice(0,yt))},error:ct=>z.log(new Error(ct.toString?ct.toString():ct)),curRecording:null,numObjects:()=>N("*",{recursive:!0}).length,get paused(){return O},set paused(ct){O=ct,ct?U.ctx.suspend():U.ctx.resume()}};y.debug=z;function K(ct,yt){try{return JSON.parse(window.localStorage[ct])}catch{return yt?($(ct,yt),yt):null}}function $(ct,yt){window.localStorage[ct]=JSON.stringify(yt)}function tt(ct,...yt){let wt=ct(qe),Kt;typeof wt=="function"?Kt=wt(...yt)(qe):Kt=wt;for(let Yt in Kt)qe[Yt]=Kt[Yt],a.global!==!1&&(window[Yt]=Kt[Yt]);return qe}function at(ct){let yt=d.canvas.captureStream(ct),wt=U.ctx.createMediaStreamDestination();U.masterNode.connect(wt);let Kt=new MediaRecorder(yt),Yt=[];return Kt.ondataavailable=Ut=>{Ut.data.size>0&&Yt.push(Ut.data)},Kt.onerror=()=>{U.masterNode.disconnect(wt),yt.getTracks().forEach(Ut=>Ut.stop())},Kt.start(),{resume(){Kt.resume()},pause(){Kt.pause()},stop(){return Kt.stop(),U.masterNode.disconnect(wt),yt.getTracks().forEach(Ut=>Ut.stop()),new Promise(Ut=>{Kt.onstop=()=>{Ut(new Blob(Yt,{type:"video/mp4"}))}})},download(Ut="kaboom.mp4"){this.stop().then(pe=>Pg(Ut,pe))}}}function ut(){return document.activeElement===d.canvas}let vt=D.root.add.bind(D.root),At=D.root.readd.bind(D.root),dt=D.root.removeAll.bind(D.root),N=D.root.get.bind(D.root),Z=D.root.wait.bind(D.root),it=D.root.loop.bind(D.root),rt=D.root.query.bind(D.root),S=D.root.tween.bind(D.root),k=du(null,tb),W=du(null,$2);y.kaSprite=k,y.boomSprite=W;function et(){D.root.fixedUpdate()}function ot(){D.root.update()}class Et{source;target;normal;distance;resolved=!1;constructor(yt,wt,Kt,Yt,Ut=!1){this.source=yt,this.target=wt,this.normal=Kt,this.distance=Yt,this.resolved=Ut}get displacement(){return this.normal.scale(this.distance)}reverse(){return new Et(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(D.gravity||L(0,1))>0}isRight(){return this.displacement.cross(D.gravity||L(0,1))<0}isTop(){return this.displacement.dot(D.gravity||L(0,1))>0}isBottom(){return this.displacement.dot(D.gravity||L(0,1))<0}preventResolution(){this.resolved=!0}}function mt(){if(!G2())return;let ct={},yt=a.hashGridSize||64,wt=new On,Kt=[];function Yt(Ut){if(Kt.push(wt.clone()),Ut.pos&&wt.translate(Ut.pos),Ut.scale&&wt.scale(Ut.scale),Ut.angle&&wt.rotate(Ut.angle),Ut.transform=wt.clone(),Ut.c("area")&&!Ut.paused){let pe=Ut,mn=pe.worldArea().bbox(),In=Math.floor(mn.pos.x/yt),nl=Math.floor(mn.pos.y/yt),ai=Math.ceil((mn.pos.x+mn.width)/yt),al=Math.ceil((mn.pos.y+mn.height)/yt),ii=new Set;for(let Se=In;Se<=ai;Se++)for(let It=nl;It<=al;It++)if(!ct[Se])ct[Se]={},ct[Se][It]=[pe];else if(!ct[Se][It])ct[Se][It]=[pe];else{let Ge=ct[Se][It];t:for(let Xt of Ge){if(Xt.paused||!Xt.exists()||ii.has(Xt.id))continue;for(let pn of pe.collisionIgnore)if(Xt.is(pn))continue t;for(let pn of Xt.collisionIgnore)if(pe.is(pn))continue t;let qa=U1(pe.worldArea(),Xt.worldArea());if(qa){let pn=new Et(pe,Xt,qa.normal,qa.distance);pe.trigger("collideUpdate",Xt,pn);let li=pn.reverse();li.resolved=pn.resolved,Xt.trigger("collideUpdate",pe,li)}ii.add(Xt.id)}Ge.push(pe)}}Ut.children.forEach(Yt),wt=Kt.pop()}Yt(D.root)}function fe(ct){console.error(ct),U.ctx.suspend();let yt=ct.message??String(ct)??"Unknown error, check console for more info";d.run(()=>{},()=>{P(),wa(()=>{let wt=Te(),Kt=Oe(),Yt={size:36,width:wt-32*2,letterSpacing:4,lineSpacing:4,font:js,fixed:!0};hn({width:wt,height:Kt,color:Ht(0,0,255),fixed:!0});let Ut=Pa({...Yt,text:"Error",pos:L(32),color:Ht(255,128,0),fixed:!0});$a(Ut),rm({...Yt,text:yt,pos:L(32,32+Ut.height+16),fixed:!0}),ke(),D.events.trigger("error",ct)}),G()})}function Gt(ct){b.push(ct)}function Pe(){D.events.onOnce("frameEnd",()=>{d.quit(),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT|p.STENCIL_BUFFER_BIT);let ct=p.getParameter(p.MAX_TEXTURE_IMAGE_UNITS);for(let yt=0;yt<ct;yt++)p.activeTexture(p.TEXTURE0+yt),p.bindTexture(p.TEXTURE_2D,null),p.bindTexture(p.TEXTURE_CUBE_MAP,null);p.bindBuffer(p.ARRAY_BUFFER,null),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null),p.bindRenderbuffer(p.RENDERBUFFER,null),p.bindFramebuffer(p.FRAMEBUFFER,null),E.destroy(),b.forEach(yt=>yt())})}let bn=!0;d.run(()=>{try{T.loaded&&(z.paused||et(),mt())}catch(ct){fe(ct)}},(ct,yt)=>{try{ct(),T.loaded||Ia()===1&&!bn&&(T.loaded=!0,_m().forEach(wt=>D.events.trigger("loadError",...wt)),D.events.trigger("load")),!T.loaded&&a.loadingScreen!==!1||bn?(P(),vA(),G()):(z.paused||ot(),mt(),P(),yA(),a.debug!==!1&&pA(),G()),bn&&(bn=!1),D.events.trigger("frameEnd"),yt()}catch(wt){fe(wt)}}),Hm(),yp();let qe={_k:y,VERSION:eb,loadRoot:Zv,loadProgress:Ia,loadSprite:du,loadSpriteAtlas:km,loadSound:rA,loadMusic:oA,loadBitmapFont:eA,loadFont:$v,loadShader:lA,loadShaderURL:uA,loadAseprite:Pv,loadPedit:nA,loadBean:Iv,loadJSON:kv,load:Dc,getSound:Zm,getFont:Vm,getBitmapFont:Qm,getSprite:Lm,getShader:Km,getAsset:Jv,Asset:gn,SpriteData:Ma,SoundData:vu,width:Te,height:Oe,center:Xs,dt:xe,fixedDt:qc,restDt:Rc,time:d.time,screenshot:d.screenshot,record:at,isFocused:ut,setCursor:d.setCursor,getCursor:d.getCursor,setCursorLocked:d.setCursorLocked,isCursorLocked:d.isCursorLocked,setFullscreen:d.setFullscreen,isFullscreen:d.isFullscreen,isTouchscreen:d.isTouchscreen,onLoad:Pc,onLoadError:WA,onLoading:kA,onResize:JA,onGamepadConnect:d.onGamepadConnect,onGamepadDisconnect:d.onGamepadDisconnect,onError:FA,onCleanup:Gt,flash:hp,setCamPos:up,getCamPos:sp,setCamRot:cp,getCamRot:fp,setCamScale:rp,getCamScale:op,getCamTransform:IA,camPos:t2,camScale:e2,camFlash:a2,camRot:n2,camTransform:PA,shake:$A,toScreen:Uc,toWorld:dp,setGravity:l2,getGravity:u2,setGravityDirection:s2,getGravityDirection:gu,setBackground:Lv,getBackground:jv,getGamepads:d.getGamepads,getTreeRoot:y2,add:vt,make:$c,destroy:Ap,destroyAll:dt,get:N,query:rt,readd:At,pos:Ks,scale:Zs,rotate:I2,color:$m,opacity:tp,anchor:Hc,area:Y2,sprite:zc,text:x2,polygon:OA,rect:np,circle:SA,uvquad:S2,outline:qA,particles:DA,body:_2,platformEffector:K2,surfaceEffector:j2,areaEffector:X2,pointEffector:V2,buoyancyEffector:Z2,constantForce:Q2,doubleJump:L2,shader:BA,textInput:H2,timer:Cc,fixed:Sp,stay:xp,health:U2,lifespan:z2,named:C2,state:N2,z:P2,layer:J2,move:F2,offscreen:W2,follow:k2,fadeIn:MA,mask:TA,drawon:EA,raycast:ep,tile:bp,animate:B2,serializeAnimation:wp,agent:E2,sentry:q2,patrol:T2,pathfinder:M2,trigger:zA,on:Ie,onFixedUpdate:CA,onUpdate:ap,onDraw:NA,onAdd:ip,onDestroy:HA,onTag:lp,onUntag:_A,onUse:GA,onUnuse:YA,onClick:VA,onCollide:LA,onCollideUpdate:jA,onCollideEnd:XA,onHover:QA,onHoverUpdate:KA,onHoverEnd:ZA,onKeyDown:d.onKeyDown,onKeyPress:d.onKeyPress,onKeyPressRepeat:d.onKeyPressRepeat,onKeyRelease:d.onKeyRelease,onMouseDown:d.onMouseDown,onMousePress:d.onMousePress,onMouseRelease:d.onMouseRelease,onMouseMove:d.onMouseMove,onCharInput:d.onCharInput,onTouchStart:d.onTouchStart,onTouchMove:d.onTouchMove,onTouchEnd:d.onTouchEnd,onScroll:d.onScroll,onHide:d.onHide,onShow:d.onShow,onGamepadButtonDown:d.onGamepadButtonDown,onGamepadButtonPress:d.onGamepadButtonPress,onGamepadButtonRelease:d.onGamepadButtonRelease,onGamepadStick:d.onGamepadStick,onButtonPress:d.onButtonPress,onButtonDown:d.onButtonDown,onButtonRelease:d.onButtonRelease,mousePos:d.mousePos,mouseDeltaPos:d.mouseDeltaPos,isKeyDown:d.isKeyDown,isKeyPressed:d.isKeyPressed,isKeyPressedRepeat:d.isKeyPressedRepeat,isKeyReleased:d.isKeyReleased,isMouseDown:d.isMouseDown,isMousePressed:d.isMousePressed,isMouseReleased:d.isMouseReleased,isMouseMoved:d.isMouseMoved,isGamepadButtonPressed:d.isGamepadButtonPressed,isGamepadButtonDown:d.isGamepadButtonDown,isGamepadButtonReleased:d.isGamepadButtonReleased,getGamepadStick:d.getGamepadStick,isButtonPressed:d.isButtonPressed,isButtonDown:d.isButtonDown,isButtonReleased:d.isButtonReleased,setButton:d.setButton,getButton:d.getButton,pressButton:d.pressButton,releaseButton:d.releaseButton,getLastInputDeviceType:d.getLastInputDeviceType,charInputted:d.charInputted,loop:it,wait:Z,play:f2,setVolume:mp,getVolume:pp,volume:h2,burp:gp,audioCtx:U.ctx,Line:We,Rect:Jt,Circle:Fe,Ellipse:Fn,Point:g1,Polygon:He,Vec2:X,Color:Dt,Mat4:On,Quad:te,RNG:hm,rand:we,randi:dm,randSeed:Wy,vec2:L,rgb:Ht,hsl2rgb:Zy,quad:oe,choose:$y,chooseMultiple:Py,shuffle:gm,chance:Iy,lerp:Je,tween:S,easings:pu,map:Rn,mapc:ky,wave:fm,deg2rad:ce,rad2deg:Wa,clamp:Dn,evaluateQuadratic:p1,evaluateQuadraticFirstDerivative:y1,evaluateQuadraticSecondDerivative:v1,evaluateBezier:Qc,evaluateBezierFirstDerivative:A1,evaluateBezierSecondDerivative:b1,evaluateCatmullRom:w1,evaluateCatmullRomFirstDerivative:x1,curveLengthApproximation:Em,normalizedCurve:S1,hermite:wu,cardinal:Mm,catmullRom:Ls,bezier:E1,kochanekBartels:M1,easingSteps:B1,easingLinear:D1,easingCubicBezier:O1,testLineLine:Yc,testRectRect:mm,testRectLine:_c,testRectPoint:ks,testCirclePolygon:Fs,testLinePoint:Lc,testLineCircle:bu,isConvex:G1,triangulate:qm,NavMesh:Yv,drawSprite:bA,drawText:rm,formatText:Pa,drawRect:hn,drawLine:cu,drawLines:Ic,drawTriangle:Im,drawCircle:el,drawEllipse:Jm,drawUVQuad:Au,drawPolygon:xa,drawCurve:Fm,drawBezier:dA,drawFormattedText:$a,drawMasked:AA,drawSubtracted:wA,pushTransform:cn,popTransform:ke,pushTranslate:ae,pushScale:yu,pushRotate:Pi,pushMatrix:Xv,usePostEffect:nt,makeCanvas:Q,debug:z,scene:v2,getSceneName:w2,go:A2,onSceneLeave:b2,layers:p2,getLayers:g2,setLayers:vp,getDefaultLayer:m2,addLevel:UA,getData:K,setData:$,download:Zc,downloadJSON:$1,downloadText:Cm,downloadBlob:Pg,plug:tt,ASCII_CHARS:Rm,canvas:d.canvas,addKaboom:d2,LEFT:X.LEFT,RIGHT:X.RIGHT,UP:X.UP,DOWN:X.DOWN,RED:Dt.RED,GREEN:Dt.GREEN,BLUE:Dt.BLUE,YELLOW:Dt.YELLOW,MAGENTA:Dt.MAGENTA,CYAN:Dt.CYAN,WHITE:Dt.WHITE,BLACK:Dt.BLACK,quit:Pe,KEvent:Ne,KEventHandler:mu,KEventController:ei,cancel:()=>Om};y.k=qe;let Wn=a.plugins;if(Wn&&Wn.forEach(tt),a.global!==!1)for(let ct in qe)window[ct]=qe[ct];return a.focus!==!1&&d.canvas.focus(),qe},ab=nb;function ib(a,n,u){return a.add([a.sprite("player",{anim:"walk-down-idle"}),a.scale(8),a.anchor("center"),a.area({shape:new a.Rect(a.vec2(0),5,10)}),a.body(),a.pos(n),"enemy",{direction:a.vec2(0,0),directionName:"walk-down",enemySpeed:u}])}function lb(a,n,u){return a.add([a.sprite("player",{anim:"walk-down-idle"}),a.scale(8),a.anchor("center"),a.area({shape:new a.Rect(a.vec2(0),5,10)}),a.body(),a.pos(n),"player",{direction:a.vec2(0,0),directionName:"walk-down",playerSpeed:u}])}async function ub(a,n){const u=1/Math.sqrt(2);a.onUpdate("player",s=>{if(a.camPos().eq(s.pos)||a.tween(a.camPos(),s.pos,.2,o=>a.camPos(o),a.easings.linear),s.direction=a.vec2(0,0),(a.isKeyDown("left")||a.isKeyDown("a"))&&(s.direction.x=-1),(a.isKeyDown("right")||a.isKeyDown("d"))&&(s.direction.x=1),(a.isKeyDown("up")||a.isKeyDown("w"))&&(s.direction.y=-1),(a.isKeyDown("down")||a.isKeyDown("s"))&&(s.direction.y=1),s.direction.eq(a.vec2(0,0))&&!s.getCurAnim()?.name.includes("idle")){s.play(`${s.directionName}-idle`);return}if(s.direction.x==1&&(s.directionName="walk-right"),s.direction.x==-1&&(s.directionName="walk-left"),s.direction.y==-1&&(s.directionName="walk-up"),s.direction.y==1&&(s.directionName="walk-down"),s.direction.x==-1&&s.direction.y==-1&&(s.directionName="walk-left-up"),s.direction.x==-1&&s.direction.y==1&&(s.directionName="walk-left-down"),s.direction.x==1&&s.direction.y==-1&&(s.directionName="walk-right-up"),s.direction.x==1&&s.direction.y==1&&(s.directionName="walk-right-down"),s.getCurAnim().name!==s.directionName&&s.play(s.directionName),s.direction.x&&s.direction.y){s.move(s.direction.scale(u*s.playerSpeed));return}s.move(s.direction.scale(s.playerSpeed))}),a.onUpdate("enemy",s=>{if(s.direction=a.vec2(0,0),s.direction=n.pos.sub(s.pos).unit(),s.direction.eq(a.vec2(0,0))&&!s.getCurAnim()?.name.includes("idle")){s.play(`${s.directionName}-idle`);return}if(s.direction.x==1&&(s.directionName="walk-right"),s.direction.x==-1&&(s.directionName="walk-left"),s.direction.y==-1&&(s.directionName="walk-up"),s.direction.y==1&&(s.directionName="walk-down"),s.direction.x==-1&&s.direction.y==-1&&(s.directionName="walk-left-up"),s.direction.x==-1&&s.direction.y==1&&(s.directionName="walk-left-down"),s.direction.x==1&&s.direction.y==-1&&(s.directionName="walk-right-up"),s.direction.x==1&&s.direction.y==1&&(s.directionName="walk-right-down"),s.getCurAnim().name!==s.directionName&&s.play(s.directionName),s.direction.x&&s.direction.y){s.move(s.direction.scale(u*s.enemySpeed));return}s.move(s.direction.scale(s.enemySpeed))})}function sb(){return ab({global:!1,pixelDensity:2,touchToMouse:!0,debug:!0,debugKey:"f1",canvas:document.getElementById("game"),background:[255,255,255],buttons:{up:{keyboard:["w, up"]},down:{keyboard:["s, down"]},left:{keyboard:["a, left"]},right:{keyboard:["d, right"]}}})}async function rb(){const a=sb();a.loadSprite("player","./sprites/player.png",{sliceX:4,sliceY:8,anims:{"walk-down":{from:0,to:3,loop:!0},"walk-down-idle":0,"walk-left-down":{from:4,to:7,loop:!0},"walk-left-down-idle":4,"walk-left":{from:8,to:11,loop:!0},"walk-left-idle":8,"walk-left-up":{from:12,to:15,loop:!0},"walk-left-up-idle":12,"walk-up":{from:16,to:19,loop:!0},"walk-up-idle":16,"walk-right-up":{from:20,to:23,loop:!0},"walk-right-up-idle":20,"walk-right":{from:24,to:27,loop:!0},"walk-right-idle":24,"walk-right-down":{from:28,to:31,loop:!0},"walk-right-down-idle":28}}),a.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),a.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),a.width()<1e3?a.setCamScale(.5,.5):a.setCamScale(.8,.8);const n=lb(a,a.vec2(a.center()),700);ib(a,a.vec2(1500,1500),400),ub(a,n)}const ob=document.getElementById("ui"),cb=Vy.createRoot(ob);cb.render(Cy.jsx(Hy.StrictMode,{}));rb();
